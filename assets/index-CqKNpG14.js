(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function X_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var od={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function kT(){if(av)return cl;av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return cl.Fragment=e,cl.jsx=r,cl.jsxs=r,cl}var sv;function PT(){return sv||(sv=1,od.exports=kT()),od.exports}var ie=PT(),ld={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function UT(){if(ov)return qe;ov=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),d=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function R(B,te,me){this.props=B,this.context=te,this.refs=b,this.updater=me||_}R.prototype.isReactComponent={},R.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=R.prototype;function A(B,te,me){this.props=B,this.context=te,this.refs=b,this.updater=me||_}var D=A.prototype=new T;D.constructor=A,v(D,R.prototype),D.isPureReactComponent=!0;var V=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function I(B,te,me,ce,_e,ke){return me=ke.ref,{$$typeof:i,type:B,key:te,ref:me!==void 0?me:null,props:ke}}function S(B,te){return I(B.type,te,void 0,void 0,void 0,B.props)}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function O(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return te[me]})}var k=/\/+/g;function $(B,te){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):te.toString(36)}function U(){}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function pe(B,te,me,ce,_e){var ke=typeof B;(ke==="undefined"||ke==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case i:case e:xe=!0;break;case E:return xe=B._init,pe(xe(B._payload),te,me,ce,_e)}}if(xe)return _e=_e(B),xe=ce===""?"."+$(B,0):ce,V(_e)?(me="",xe!=null&&(me=xe.replace(k,"$&/")+"/"),pe(_e,te,me,"",function(Qn){return Qn})):_e!=null&&(x(_e)&&(_e=S(_e,me+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(k,"$&/")+"/")+xe)),te.push(_e)),1;xe=0;var Tt=ce===""?".":ce+":";if(V(B))for(var pt=0;pt<B.length;pt++)ce=B[pt],ke=Tt+$(ce,pt),xe+=pe(ce,te,me,ke,_e);else if(pt=p(B),typeof pt=="function")for(B=pt.call(B),pt=0;!(ce=B.next()).done;)ce=ce.value,ke=Tt+$(ce,pt++),xe+=pe(ce,te,me,ke,_e);else if(ke==="object"){if(typeof B.then=="function")return pe(he(B),te,me,ce,_e);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(B,te,me){if(B==null)return B;var ce=[],_e=0;return pe(B,ce,"","",function(ke){return te.call(me,ke,_e++)}),ce}function se(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var ye=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Re(){}return qe.Children={map:G,forEach:function(B,te,me){G(B,function(){te.apply(this,arguments)},me)},count:function(B){var te=0;return G(B,function(){te++}),te},toArray:function(B){return G(B,function(te){return te})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=R,qe.Fragment=r,qe.Profiler=o,qe.PureComponent=A,qe.StrictMode=s,qe.Suspense=g,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,qe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return j.H.useMemoCache(B)}},qe.cache=function(B){return function(){return B.apply(null,arguments)}},qe.cloneElement=function(B,te,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=v({},B.props),_e=B.key,ke=void 0;if(te!=null)for(xe in te.ref!==void 0&&(ke=void 0),te.key!==void 0&&(_e=""+te.key),te)!L.call(te,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&te.ref===void 0||(ce[xe]=te[xe]);var xe=arguments.length-2;if(xe===1)ce.children=me;else if(1<xe){for(var Tt=Array(xe),pt=0;pt<xe;pt++)Tt[pt]=arguments[pt+2];ce.children=Tt}return I(B.type,_e,void 0,void 0,ke,ce)},qe.createContext=function(B){return B={$$typeof:h,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},qe.createElement=function(B,te,me){var ce,_e={},ke=null;if(te!=null)for(ce in te.key!==void 0&&(ke=""+te.key),te)L.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=te[ce]);var xe=arguments.length-2;if(xe===1)_e.children=me;else if(1<xe){for(var Tt=Array(xe),pt=0;pt<xe;pt++)Tt[pt]=arguments[pt+2];_e.children=Tt}if(B&&B.defaultProps)for(ce in xe=B.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return I(B,ke,void 0,void 0,null,_e)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:c,render:B}},qe.isValidElement=x,qe.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:se}},qe.memo=function(B,te){return{$$typeof:y,type:B,compare:te===void 0?null:te}},qe.startTransition=function(B){var te=j.T,me={};j.T=me;try{var ce=B(),_e=j.S;_e!==null&&_e(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Re,ye)}catch(ke){ye(ke)}finally{j.T=te}},qe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},qe.use=function(B){return j.H.use(B)},qe.useActionState=function(B,te,me){return j.H.useActionState(B,te,me)},qe.useCallback=function(B,te){return j.H.useCallback(B,te)},qe.useContext=function(B){return j.H.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B,te){return j.H.useDeferredValue(B,te)},qe.useEffect=function(B,te,me){var ce=j.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,te)},qe.useId=function(){return j.H.useId()},qe.useImperativeHandle=function(B,te,me){return j.H.useImperativeHandle(B,te,me)},qe.useInsertionEffect=function(B,te){return j.H.useInsertionEffect(B,te)},qe.useLayoutEffect=function(B,te){return j.H.useLayoutEffect(B,te)},qe.useMemo=function(B,te){return j.H.useMemo(B,te)},qe.useOptimistic=function(B,te){return j.H.useOptimistic(B,te)},qe.useReducer=function(B,te,me){return j.H.useReducer(B,te,me)},qe.useRef=function(B){return j.H.useRef(B)},qe.useState=function(B){return j.H.useState(B)},qe.useSyncExternalStore=function(B,te,me){return j.H.useSyncExternalStore(B,te,me)},qe.useTransition=function(){return j.H.useTransition()},qe.version="19.1.0",qe}var lv;function em(){return lv||(lv=1,ld.exports=UT()),ld.exports}var ne=em();const uv=X_(ne);var ud={exports:{}},fl={},cd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function zT(){return cv||(cv=1,function(i){function e(G,se){var ye=G.length;G.push(se);e:for(;0<ye;){var Re=ye-1>>>1,B=G[Re];if(0<o(B,se))G[Re]=se,G[ye]=B,ye=Re;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],ye=G.pop();if(ye!==se){G[0]=ye;e:for(var Re=0,B=G.length,te=B>>>1;Re<te;){var me=2*(Re+1)-1,ce=G[me],_e=me+1,ke=G[_e];if(0>o(ce,ye))_e<B&&0>o(ke,ce)?(G[Re]=ke,G[_e]=ye,Re=_e):(G[Re]=ce,G[me]=ye,Re=me);else if(_e<B&&0>o(ke,ye))G[Re]=ke,G[_e]=ye,Re=_e;else break e}}return se}function o(G,se){var ye=G.sortIndex-se.sortIndex;return ye!==0?ye:G.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,c=h.now();i.unstable_now=function(){return h.now()-c}}var g=[],y=[],E=1,d=null,p=3,_=!1,v=!1,b=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(G){for(var se=r(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=G)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=r(y)}}function j(G){if(b=!1,V(G),!v)if(r(g)!==null)v=!0,L||(L=!0,$());else{var se=r(y);se!==null&&pe(j,se.startTime-G)}}var L=!1,I=-1,S=5,x=-1;function O(){return R?!0:!(i.unstable_now()-x<S)}function k(){if(R=!1,L){var G=i.unstable_now();x=G;var se=!0;try{e:{v=!1,b&&(b=!1,A(I),I=-1),_=!0;var ye=p;try{t:{for(V(G),d=r(g);d!==null&&!(d.expirationTime>G&&O());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,p=d.priorityLevel;var B=Re(d.expirationTime<=G);if(G=i.unstable_now(),typeof B=="function"){d.callback=B,V(G),se=!0;break t}d===r(g)&&s(g),V(G)}else s(g);d=r(g)}if(d!==null)se=!0;else{var te=r(y);te!==null&&pe(j,te.startTime-G),se=!1}}break e}finally{d=null,p=ye,_=!1}se=void 0}}finally{se?$():L=!1}}}var $;if(typeof D=="function")$=function(){D(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=k,$=function(){he.postMessage(null)}}else $=function(){T(k,0)};function pe(G,se){I=T(function(){G(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return p},i.unstable_next=function(G){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var ye=p;p=se;try{return G()}finally{p=ye}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=p;p=G;try{return se()}finally{p=ye}},i.unstable_scheduleCallback=function(G,se,ye){var Re=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Re+ye:Re):ye=Re,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ye+B,G={id:E++,callback:se,priorityLevel:G,startTime:ye,expirationTime:B,sortIndex:-1},ye>Re?(G.sortIndex=ye,e(y,G),r(g)===null&&G===r(y)&&(b?(A(I),I=-1):b=!0,pe(j,ye-Re))):(G.sortIndex=B,e(g,G),v||_||(v=!0,L||(L=!0,$()))),G},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(G){var se=p;return function(){var ye=p;p=se;try{return G.apply(this,arguments)}finally{p=ye}}}}(fd)),fd}var fv;function $T(){return fv||(fv=1,cd.exports=zT()),cd.exports}var hd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function BT(){if(hv)return pn;hv=1;var i=em();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:g,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},pn.flushSync=function(g){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=E,s.d.f()}},pn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},pn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},pn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,d=c(E,y.crossOrigin),p=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:_}):E==="script"&&s.d.X(g,{crossOrigin:d,integrity:p,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=c(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},pn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,d=c(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:d,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=c(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},pn.requestFormReset=function(g){s.d.r(g)},pn.unstable_batchedUpdates=function(g,y){return g(y)},pn.useFormState=function(g,y,E){return h.H.useFormState(g,y,E)},pn.useFormStatus=function(){return h.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var dv;function qT(){if(dv)return hd.exports;dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hd.exports=BT(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function HT(){if(mv)return fl;mv=1;var i=$T(),e=em(),r=qT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var m=a.return;if(m===null)break;var w=m.alternate;if(w===null){if(l=m.return,l!==null){a=l;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===a)return c(m),t;if(w===l)return c(m),n;w=w.sibling}throw Error(s(188))}if(a.return!==l.return)a=m,l=w;else{for(var N=!1,P=m.child;P;){if(P===a){N=!0,a=m,l=w;break}if(P===l){N=!0,l=m,a=w;break}P=P.sibling}if(!N){for(P=w.child;P;){if(P===a){N=!0,a=w,l=m;break}if(P===l){N=!0,l=w,a=m;break}P=P.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,d=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case R:return"Profiler";case b:return"StrictMode";case j:return"Suspense";case L:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case D:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Re=[],B=-1;function te(t){return{current:t}}function me(t){0>B||(t.current=Re[B],Re[B]=null,B--)}function ce(t,n){B++,Re[B]=t.current,t.current=n}var _e=te(null),ke=te(null),xe=te(null),Tt=te(null);function pt(t,n){switch(ce(xe,n),ce(ke,t),ce(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ny(n),t=Vy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(_e),ce(_e,t)}function Qn(){me(_e),me(ke),me(xe)}function St(t){t.memoizedState!==null&&ce(Tt,t);var n=_e.current,a=Vy(n,t.type);n!==a&&(ce(ke,t),ce(_e,a))}function fn(t){ke.current===t&&(me(_e),me(ke)),Tt.current===t&&(me(Tt),al._currentValue=ye)}var br=Object.prototype.hasOwnProperty,Yr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,va=i.unstable_shouldYield,rs=i.unstable_requestPaint,bn=i.unstable_now,fo=i.unstable_getCurrentPriorityLevel,_a=i.unstable_ImmediatePriority,Ai=i.unstable_UserBlockingPriority,Kr=i.unstable_NormalPriority,dr=i.unstable_LowPriority,Yn=i.unstable_IdlePriority,Ri=i.log,xi=i.unstable_setDisableYieldValue,lt=null,He=null;function hn(t){if(typeof Ri=="function"&&xi(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var Lt=Math.clz32?Math.clz32:Er,is=Math.log,Kn=Math.LN2;function Er(t){return t>>>=0,t===0?32:31-(is(t)/Kn|0)|0}var Tr=256,wr=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var m=0,w=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~w,l!==0?m=Mn(l):(N&=P,N!==0?m=Mn(N):a||(a=P&~t,a!==0&&(m=Mn(a))))):(P=l&~w,P!==0?m=Mn(P):N!==0?m=Mn(N):a||(a=l&~t,a!==0&&(m=Mn(a)))),m===0?0:n!==0&&n!==m&&(n&w)===0&&(w=m&-m,a=n&-n,w>=a||w===32&&(a&4194048)!==0)?n:m}function Xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ci(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var t=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),t}function ba(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Di(t,n,a,l,m,w){var N=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var P=t.entanglements,q=t.expirationTimes,J=t.hiddenUpdates;for(a=N&~a;0<a;){var ae=31-Lt(a),ue=1<<ae;P[ae]=0,q[ae]=-1;var W=J[ae];if(W!==null)for(J[ae]=null,ae=0;ae<W.length;ae++){var ee=W[ae];ee!==null&&(ee.lane&=-536870913)}a&=~ue}l!==0&&En(t,l,0),w!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=w&~(N&~n))}function En(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Lt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Sr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Lt(a),m=1<<l;m&n|t[l]&n&&(t[l]|=n),a&=~m}}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function H(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Wy(t.type))}function Y(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var Z=Math.random().toString(36).slice(2),le="__reactFiber$"+Z,ge="__reactProps$"+Z,Ee="__reactContainer$"+Z,Ie="__reactEvents$"+Z,Te="__reactListeners$"+Z,Se="__reactHandles$"+Z,Ce="__reactResources$"+Z,Ne="__reactMarker$"+Z;function Ae(t){delete t[le],delete t[ge],delete t[Ie],delete t[Te],delete t[Se]}function Le(t){var n=t[le];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ee]||a[le]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Py(t);t!==null;){if(a=t[le])return a;t=Py(t)}return n}t=a,a=t.parentNode}return null}function Ke(t){if(t=t[le]||t[Ee]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function st(t){var n=t[Ce];return n||(n=t[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[Ne]=!0}var Qe=new Set,Jn={};function $t(t,n){Tn(t,n),Tn(t+"Capture",n)}function Tn(t,n){for(Jn[t]=n,t=0;t<n.length;t++)Qe.add(n[t])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rr={},Nn={};function Ii(t){return br.call(Nn,t)?!0:br.call(Rr,t)?!1:tn.test(t)?Nn[t]=!0:(Rr[t]=!0,!1)}function dn(t,n,a){if(Ii(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function wn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ze(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var jt,Vn;function Rn(t){if(jt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);jt=n&&n[1]||"",Vn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+t+Vn}var xr=!1;function bt(t,n){if(!t||xr)return"";xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var W=ee}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ee){W=ee}t.call(ue.prototype)}}else{try{throw Error()}catch(ee){W=ee}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=l.DetermineComponentFrameRoot(),N=w[0],P=w[1];if(N&&P){var q=N.split(`
`),J=P.split(`
`);for(m=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(l===q.length||m===J.length)for(l=q.length-1,m=J.length-1;1<=l&&0<=m&&q[l]!==J[m];)m--;for(;1<=l&&0<=m;l--,m--)if(q[l]!==J[m]){if(l!==1||m!==1)do if(l--,m--,0>m||q[l]!==J[m]){var ae=`
`+q[l].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=l&&0<=m);break}}}finally{xr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rn(a):""}function Wn(t){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return Rn("Activity");default:return""}}function Jr(t){try{var n="";do n+=Wn(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ho(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ff(t){var n=ho(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,w=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){l=""+N,w.call(this,N)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function as(t){t._valueTracker||(t._valueTracker=ff(t))}function mo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ho(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ea(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hf=/[\n"\\]/g;function kt(t){return t.replace(hf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ln(t,n,a,l,m,w,N,P){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),n!=null?N==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),n!=null?Mi(t,N,nn(n)):a!=null?Mi(t,N,nn(a)):l!=null&&t.removeAttribute("value"),m==null&&w!=null&&(t.defaultChecked=!!w),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+nn(P):t.removeAttribute("name")}function Ta(t,n,a,l,m,w,N,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.type=w),n!=null||a!=null){if(!(w!=="submit"&&w!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,P||n===t.value||(t.value=n),t.defaultValue=n}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N)}function Mi(t,n,a){n==="number"&&Ea(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wr(t,n,a,l){if(t=t.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=n.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,l&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function gt(t,n,a){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+nn(a):""}function wa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function er(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Sa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function po(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var m in n)l=n[m],n.hasOwnProperty(m)&&a[m]!==l&&Fl(t,m,l)}else for(var w in n)n.hasOwnProperty(w)&&Fl(t,w,n[w])}function go(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ss(t){return mf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ei=null;function tr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,ni=null;function yo(t){var n=Ke(t);if(n&&(t=n.stateNode)){var a=t[ge]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var m=l[ge]||null;if(!m)throw Error(s(90));Ln(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&mo(l)}break e;case"textarea":gt(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Wr(t,!!a.multiple,n,!1)}}}var Cr=!1;function Gl(t,n,a){if(Cr)return t(n,a);Cr=!0;try{var l=t(n);return l}finally{if(Cr=!1,(ti!==null||ni!==null)&&(Uu(),ti&&(n=ti,t=ni,ni=ti=null,yo(n),t)))for(n=0;n<t.length;n++)yo(t[n])}}function Aa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ge]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(pr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{nr=!1}var Dr=null,Ni=null,ri=null;function vo(){if(ri)return ri;var t,n=Ni,a=n.length,l,m="value"in Dr?Dr.value:Dr.textContent,w=m.length;for(t=0;t<a&&n[t]===m[t];t++);var N=a-t;for(l=1;l<=N&&n[a-l]===m[w-l];l++);return ri=m.slice(t,1<l?1-l:void 0)}function Or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ir(){return!0}function _o(){return!1}function Kt(t){function n(a,l,m,w,N){this._reactName=a,this._targetInst=m,this.type=l,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ir:_o,this.isPropagationStopped=_o,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),n}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Kt(ft),xa=E({},ft,{view:0,detail:0}),Ql=Kt(xa),ls,us,Mr,Ca=E({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(ls=t.screenX-Mr.screenX,us=t.screenY-Mr.screenY):us=ls=0,Mr=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:us}}),rr=Kt(Ca),Yl=E({},Ca,{dataTransfer:0}),pf=Kt(Yl),Da=E({},xa,{relatedTarget:0}),cs=Kt(Da),bo=E({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=Kt(bo),Kl=E({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hs=Kt(Kl),gf=E({},ft,{data:0}),Eo=Kt(gf),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zl[t])?!!n[t]:!1}function Ia(){return To}var Jl=E({},xa,{key:function(t){if(t.key){var n=Oa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ds=Kt(Jl),Wl=E({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=Kt(Wl),ii=E({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),eu=Kt(ii),tu=E({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=Kt(tu),ru=E({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=Kt(ru),Sn=E({},ft,{newState:0,oldState:0}),iu=Kt(Sn),au=[9,13,27,32],Nr=pr&&"CompositionEvent"in window,f=null;pr&&"documentMode"in document&&(f=document.documentMode);var C=pr&&"TextEvent"in window&&!f,M=pr&&(!Nr||f&&8<f&&11>=f),z=" ",K=!1;function re(t,n){switch(t){case"keyup":return au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Bt(t,n){switch(t){case"compositionend":return ve(n);case"keypress":return n.which!==32?null:(K=!0,z);case"textInput":return t=n.data,t===z&&K?null:t;default:return null}}function nt(t,n){if(tt)return t==="compositionend"||!Nr&&re(t,n)?(t=vo(),ri=Ni=Dr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return M&&n.locale!=="ko"?null:n.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Xt[t.type]:n==="textarea"}function ai(t,n,a,l){ti?ni?ni.push(l):ni=[l]:ti=l,n=Fu(n,"onChange"),0<n.length&&(a=new os("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var rn=null,Vr=null;function So(t){Cy(t,0)}function su(t){var n=ct(t);if(mo(n))return t}function Km(t,n){if(t==="change")return n}var Xm=!1;if(pr){var yf;if(pr){var vf="oninput"in document;if(!vf){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),vf=typeof Zm.oninput=="function"}yf=vf}else yf=!1;Xm=yf&&(!document.documentMode||9<document.documentMode)}function Jm(){rn&&(rn.detachEvent("onpropertychange",Wm),Vr=rn=null)}function Wm(t){if(t.propertyName==="value"&&su(Vr)){var n=[];ai(n,Vr,t,tr(t)),Gl(So,n)}}function dE(t,n,a){t==="focusin"?(Jm(),rn=n,Vr=a,rn.attachEvent("onpropertychange",Wm)):t==="focusout"&&Jm()}function mE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(Vr)}function pE(t,n){if(t==="click")return su(n)}function gE(t,n){if(t==="input"||t==="change")return su(n)}function yE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:yE;function Ao(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var m=a[l];if(!br.call(n,m)||!jn(t[m],n[m]))return!1}return!0}function ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tp(t,n){var a=ep(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ep(a)}}function np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ea(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ea(t.document)}return n}function _f(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vE=pr&&"documentMode"in document&&11>=document.documentMode,ps=null,bf=null,Ro=null,Ef=!1;function ip(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||ps==null||ps!==Ea(l)||(l=ps,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ro&&Ao(Ro,l)||(Ro=l,l=Fu(bf,"onSelect"),0<l.length&&(n=new os("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ps)))}function Ma(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var gs={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Tf={},ap={};pr&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Na(t){if(Tf[t])return Tf[t];if(!gs[t])return t;var n=gs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ap)return Tf[t]=n[a];return t}var sp=Na("animationend"),op=Na("animationiteration"),lp=Na("animationstart"),_E=Na("transitionrun"),bE=Na("transitionstart"),EE=Na("transitioncancel"),up=Na("transitionend"),cp=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function gr(t,n){cp.set(t,n),$t(n,[t])}var fp=new WeakMap;function ir(t,n){if(typeof t=="object"&&t!==null){var a=fp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Jr(n)},fp.set(t,n),n)}return{value:t,source:n,stack:Jr(n)}}var ar=[],ys=0,Sf=0;function ou(){for(var t=ys,n=Sf=ys=0;n<t;){var a=ar[n];ar[n++]=null;var l=ar[n];ar[n++]=null;var m=ar[n];ar[n++]=null;var w=ar[n];if(ar[n++]=null,l!==null&&m!==null){var N=l.pending;N===null?m.next=m:(m.next=N.next,N.next=m),l.pending=m}w!==0&&hp(a,m,w)}}function lu(t,n,a,l){ar[ys++]=t,ar[ys++]=n,ar[ys++]=a,ar[ys++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Af(t,n,a,l){return lu(t,n,a,l),uu(t)}function vs(t,n){return lu(t,null,null,n),uu(t)}function hp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var m=!1,w=t.return;w!==null;)w.childLanes|=a,l=w.alternate,l!==null&&(l.childLanes|=a),w.tag===22&&(t=w.stateNode,t===null||t._visibility&1||(m=!0)),t=w,w=w.return;return t.tag===3?(w=t.stateNode,m&&n!==null&&(m=31-Lt(a),t=w.hiddenUpdates,l=t[m],l===null?t[m]=[n]:l.push(n),n.lane=a|536870912),w):null}function uu(t){if(50<Zo)throw Zo=0,Ih=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var _s={};function TE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,a,l){return new TE(t,n,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,n){var a=t.alternate;return a===null?(a=kn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function cu(t,n,a,l,m,w){var N=0;if(l=t,typeof t=="function")Rf(t)&&(N=1);else if(typeof t=="string")N=ST(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=kn(31,a,n,m),t.elementType=x,t.lanes=w,t;case v:return Va(a.children,m,w,n);case b:N=8,m|=24;break;case R:return t=kn(12,a,n,m|2),t.elementType=R,t.lanes=w,t;case j:return t=kn(13,a,n,m),t.elementType=j,t.lanes=w,t;case L:return t=kn(19,a,n,m),t.elementType=L,t.lanes=w,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case D:N=10;break e;case A:N=9;break e;case V:N=11;break e;case I:N=14;break e;case S:N=16,l=null;break e}N=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=kn(N,a,n,m),n.elementType=t,n.type=l,n.lanes=w,n}function Va(t,n,a,l){return t=kn(7,t,l,n),t.lanes=a,t}function xf(t,n,a){return t=kn(6,t,null,n),t.lanes=a,t}function Cf(t,n,a){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var bs=[],Es=0,fu=null,hu=0,sr=[],or=0,La=null,oi=1,li="";function ja(t,n){bs[Es++]=hu,bs[Es++]=fu,fu=t,hu=n}function mp(t,n,a){sr[or++]=oi,sr[or++]=li,sr[or++]=La,La=t;var l=oi;t=li;var m=32-Lt(l)-1;l&=~(1<<m),a+=1;var w=32-Lt(n)+m;if(30<w){var N=m-m%5;w=(l&(1<<N)-1).toString(32),l>>=N,m-=N,oi=1<<32-Lt(n)+m|a<<m|l,li=w+t}else oi=1<<w|a<<m|l,li=t}function Df(t){t.return!==null&&(ja(t,1),mp(t,1,0))}function Of(t){for(;t===fu;)fu=bs[--Es],bs[Es]=null,hu=bs[--Es],bs[Es]=null;for(;t===La;)La=sr[--or],sr[or]=null,li=sr[--or],sr[or]=null,oi=sr[--or],sr[or]=null}var An=null,Dt=null,ut=!1,ka=null,Lr=!1,If=Error(s(519));function Pa(t){var n=Error(s(418,""));throw Do(ir(n,t)),If}function pp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[le]=t,n[ge]=l,a){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Ze(Wo[a],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Ze("invalid",n),Ta(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),as(n);break;case"select":Ze("invalid",n);break;case"textarea":Ze("invalid",n),wa(n,l.value,l.defaultValue,l.children),as(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||My(n.textContent,a)?(l.popover!=null&&(Ze("beforetoggle",n),Ze("toggle",n)),l.onScroll!=null&&Ze("scroll",n),l.onScrollEnd!=null&&Ze("scrollend",n),l.onClick!=null&&(n.onclick=Gu),n=!0):n=!1,n||Pa(t)}function gp(t){for(An=t.return;An;)switch(An.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:An=An.return}}function xo(t){if(t!==An)return!1;if(!ut)return gp(t),ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qh(t.type,t.memoizedProps)),a=!a),a&&Dt&&Pa(t),gp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Dt=vr(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Dt=null}}else n===27?(n=Dt,Ki(t.type)?(t=Zh,Zh=null,Dt=t):Dt=n):Dt=An?vr(t.stateNode.nextSibling):null;return!0}function Co(){Dt=An=null,ut=!1}function yp(){var t=ka;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),ka=null),t}function Do(t){ka===null?ka=[t]:ka.push(t)}var Mf=te(null),Ua=null,ui=null;function Vi(t,n,a){ce(Mf,n._currentValue),n._currentValue=a}function ci(t){t._currentValue=Mf.current,me(Mf)}function Nf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Vf(t,n,a,l){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var w=m.dependencies;if(w!==null){var N=m.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=m;for(var q=0;q<n.length;q++)if(P.context===n[q]){w.lanes|=a,P=w.alternate,P!==null&&(P.lanes|=a),Nf(w.return,a,t),l||(N=null);break e}w=P.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=a,w=N.alternate,w!==null&&(w.lanes|=a),Nf(N,a,t),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===t){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function Oo(t,n,a,l){t=null;for(var m=n,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var P=m.type;jn(m.pendingProps.value,N.value)||(t!==null?t.push(P):t=[P])}}else if(m===Tt.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(al):t=[al])}m=m.return}t!==null&&Vf(n,t,a,l),n.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){Ua=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return vp(Ua,t)}function mu(t,n){return Ua===null&&za(t),vp(t,n)}function vp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ui===null){if(t===null)throw Error(s(308));ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ui=ui.next=n;return a}var wE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},SE=i.unstable_scheduleCallback,AE=i.unstable_NormalPriority,Ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new wE,data:new Map,refCount:0}}function Io(t){t.refCount--,t.refCount===0&&SE(AE,function(){t.controller.abort()})}var Mo=null,jf=0,Ts=0,ws=null;function RE(t,n){if(Mo===null){var a=Mo=[];jf=0,Ts=Ph(),ws={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,n.then(_p,_p),n}function _p(){if(--jf===0&&Mo!==null){ws!==null&&(ws.status="fulfilled");var t=Mo;Mo=null,Ts=0,ws=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(l.status="rejected",l.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),l}var bp=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(t,n),bp!==null&&bp(t,n)};var $a=te(null);function kf(){var t=$a.current;return t!==null?t:wt.pooledCache}function pu(t,n){n===null?ce($a,$a.current):ce($a,n.pool)}function Ep(){var t=kf();return t===null?null:{parent:Ht._currentValue,pool:t}}var No=Error(s(460)),Tp=Error(s(474)),gu=Error(s(542)),Pf={then:function(){}};function wp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yu(){}function Sp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(yu,yu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t;default:if(typeof n.status=="string")n.then(yu,yu);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=l}},function(l){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t}throw Vo=n,No}}var Vo=null;function Ap(){if(Vo===null)throw Error(s(459));var t=Vo;return Vo=null,t}function Rp(t){if(t===No||t===gu)throw Error(s(483))}var Li=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var m=l.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),l.pending=n,n=uu(t),hp(t,null,a),n}return lu(t,l,n,a),uu(t)}function Lo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Sr(t,a)}}function $f(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var m=null,w=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};w===null?m=w=N:w=w.next=N,a=a.next}while(a!==null);w===null?m=w=n:w=w.next=n}else m=w=n;a={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Bf=!1;function jo(){if(Bf){var t=ws;if(t!==null)throw t}}function ko(t,n,a,l){Bf=!1;var m=t.updateQueue;Li=!1;var w=m.firstBaseUpdate,N=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var q=P,J=q.next;q.next=null,N===null?w=J:N.next=J,N=q;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==N&&(P===null?ae.firstBaseUpdate=J:P.next=J,ae.lastBaseUpdate=q))}if(w!==null){var ue=m.baseState;N=0,ae=J=q=null,P=w;do{var W=P.lane&-536870913,ee=W!==P.lane;if(ee?(rt&W)===W:(l&W)===W){W!==0&&W===Ts&&(Bf=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ue=t,Ve=P;W=n;var _t=a;switch(Ve.tag){case 1:if(Ue=Ve.payload,typeof Ue=="function"){ue=Ue.call(_t,ue,W);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ve.payload,W=typeof Ue=="function"?Ue.call(_t,ue,W):Ue,W==null)break e;ue=E({},ue,W);break e;case 2:Li=!0}}W=P.callback,W!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(J=ae=ee,q=ue):ae=ae.next=ee,N|=W;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);ae===null&&(q=ue),m.baseState=q,m.firstBaseUpdate=J,m.lastBaseUpdate=ae,w===null&&(m.shared.lanes=0),Fi|=N,t.lanes=N,t.memoizedState=ue}}function xp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Cp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)xp(a[t],n)}var Ss=te(null),vu=te(0);function Dp(t,n){t=yi,ce(vu,t),ce(Ss,n),yi=t|n.baseLanes}function qf(){ce(vu,yi),ce(Ss,Ss.current)}function Hf(){yi=vu.current,me(Ss),me(vu)}var Pi=0,Fe=null,yt=null,Pt=null,_u=!1,As=!1,Ba=!1,bu=0,Po=0,Rs=null,CE=0;function It(){throw Error(s(321))}function Ff(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!jn(t[a],n[a]))return!1;return!0}function Gf(t,n,a,l,m,w){return Pi=w,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?hg:dg,Ba=!1,w=a(l,m),Ba=!1,As&&(w=Ip(n,a,l,m)),Op(t),w}function Op(t){G.H=Ru;var n=yt!==null&&yt.next!==null;if(Pi=0,Pt=yt=Fe=null,_u=!1,Po=0,Rs=null,n)throw Error(s(300));t===null||Zt||(t=t.dependencies,t!==null&&du(t)&&(Zt=!0))}function Ip(t,n,a,l){Fe=t;var m=0;do{if(As&&(Rs=null),Po=0,As=!1,25<=m)throw Error(s(301));if(m+=1,Pt=yt=null,t.updateQueue!=null){var w=t.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=LE,w=n(a,l)}while(As);return w}function DE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Uo(n):n,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Fe.flags|=1024),n}function Qf(){var t=bu!==0;return bu=0,t}function Yf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Kf(t){if(_u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_u=!1}Pi=0,Pt=yt=Fe=null,As=!1,Po=bu=0,Rs=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ut(){if(yt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var n=Pt===null?Fe.memoizedState:Pt.next;if(n!==null)Pt=n,yt=t;else{if(t===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(t){var n=Po;return Po+=1,Rs===null&&(Rs=[]),t=Sp(Rs,t,n),n=Fe,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?hg:dg),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Uo(t);if(t.$$typeof===D)return mn(t)}throw Error(s(438,String(t)))}function Zf(t){var n=null,a=Fe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xf(),Fe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function fi(t,n){return typeof n=="function"?n(t):n}function Tu(t){var n=Ut();return Jf(n,yt,t)}function Jf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var m=t.baseQueue,w=l.pending;if(w!==null){if(m!==null){var N=m.next;m.next=w.next,w.next=N}n.baseQueue=m=w,l.pending=null}if(w=t.baseState,m===null)t.memoizedState=w;else{n=m.next;var P=N=null,q=null,J=n,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(rt&ue)===ue:(Pi&ue)===ue){var W=J.revertLane;if(W===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Ts&&(ae=!0);else if((Pi&W)===W){J=J.next,W===Ts&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(P=q=ue,N=w):q=q.next=ue,Fe.lanes|=W,Fi|=W;ue=J.action,Ba&&a(w,ue),w=J.hasEagerState?J.eagerState:a(w,ue)}else W={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(P=q=W,N=w):q=q.next=W,Fe.lanes|=ue,Fi|=ue;J=J.next}while(J!==null&&J!==n);if(q===null?N=w:q.next=P,!jn(w,t.memoizedState)&&(Zt=!0,ae&&(a=ws,a!==null)))throw a;t.memoizedState=w,t.baseState=N,t.baseQueue=q,l.lastRenderedState=w}return m===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var n=Ut(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,m=a.pending,w=n.memoizedState;if(m!==null){a.pending=null;var N=m=m.next;do w=t(w,N.action),N=N.next;while(N!==m);jn(w,n.memoizedState)||(Zt=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),a.lastRenderedState=w}return[w,l]}function Mp(t,n,a){var l=Fe,m=Ut(),w=ut;if(w){if(a===void 0)throw Error(s(407));a=a()}else a=n();var N=!jn((yt||m).memoizedState,a);N&&(m.memoizedState=a,Zt=!0),m=m.queue;var P=Lp.bind(null,l,m,t);if(zo(2048,8,P,[t]),m.getSnapshot!==n||N||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,xs(9,wu(),Vp.bind(null,l,m,a,n),null),wt===null)throw Error(s(349));w||(Pi&124)!==0||Np(l,n,a)}return a}function Np(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Fe.updateQueue,n===null?(n=Xf(),Fe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Vp(t,n,a,l){n.value=a,n.getSnapshot=l,jp(n)&&kp(t)}function Lp(t,n,a){return a(function(){jp(n)&&kp(t)})}function jp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!jn(t,a)}catch{return!0}}function kp(t){var n=vs(t,2);n!==null&&Bn(n,t,2)}function eh(t){var n=xn();if(typeof t=="function"){var a=t;if(t=a(),Ba){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},n}function Pp(t,n,a,l){return t.baseState=a,Jf(t,yt,typeof l=="function"?l:fi)}function OE(t,n,a,l,m){if(Au(t))throw Error(s(485));if(t=n.action,t!==null){var w={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};G.T!==null?a(!0):w.isTransition=!1,l(w),a=n.pending,a===null?(w.next=n.pending=w,Up(n,w)):(w.next=a.next,n.pending=a.next=w)}}function Up(t,n){var a=n.action,l=n.payload,m=t.state;if(n.isTransition){var w=G.T,N={};G.T=N;try{var P=a(m,l),q=G.S;q!==null&&q(N,P),zp(t,n,P)}catch(J){th(t,n,J)}finally{G.T=w}}else try{w=a(m,l),zp(t,n,w)}catch(J){th(t,n,J)}}function zp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$p(t,n,l)},function(l){return th(t,n,l)}):$p(t,n,a)}function $p(t,n,a){n.status="fulfilled",n.value=a,Bp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Up(t,a)))}function th(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Bp(n),n=n.next;while(n!==l)}t.action=null}function Bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qp(t,n){return n}function Hp(t,n){if(ut){var a=wt.formState;if(a!==null){e:{var l=Fe;if(ut){if(Dt){t:{for(var m=Dt,w=Lr;m.nodeType!==8;){if(!w){m=null;break t}if(m=vr(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){Dt=vr(m.nextSibling),l=m.data==="F!";break e}}Pa(l)}l=!1}l&&(n=a[0])}}return a=xn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:n},a.queue=l,a=ug.bind(null,Fe,l),l.dispatch=a,l=eh(!1),w=sh.bind(null,Fe,!1,l.queue),l=xn(),m={state:n,dispatch:null,action:t,pending:null},l.queue=m,a=OE.bind(null,Fe,m,w,a),m.dispatch=a,l.memoizedState=t,[n,a,!1]}function Fp(t){var n=Ut();return Gp(n,yt,t)}function Gp(t,n,a){if(n=Jf(t,n,qp)[0],t=Tu(fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Uo(n)}catch(N){throw N===No?gu:N}else l=n;n=Ut();var m=n.queue,w=m.dispatch;return a!==n.memoizedState&&(Fe.flags|=2048,xs(9,wu(),IE.bind(null,m,a),null)),[l,w,t]}function IE(t,n){t.action=n}function Qp(t){var n=Ut(),a=yt;if(a!==null)return Gp(n,a,t);Ut(),n=n.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function xs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Fe.updateQueue,n===null&&(n=Xf(),Fe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function wu(){return{destroy:void 0,resource:void 0}}function Yp(){return Ut().memoizedState}function Su(t,n,a,l){var m=xn();l=l===void 0?null:l,Fe.flags|=t,m.memoizedState=xs(1|n,wu(),a,l)}function zo(t,n,a,l){var m=Ut();l=l===void 0?null:l;var w=m.memoizedState.inst;yt!==null&&l!==null&&Ff(l,yt.memoizedState.deps)?m.memoizedState=xs(n,w,a,l):(Fe.flags|=t,m.memoizedState=xs(1|n,w,a,l))}function Kp(t,n){Su(8390656,8,t,n)}function Xp(t,n){zo(2048,8,t,n)}function Zp(t,n){return zo(4,2,t,n)}function Jp(t,n){return zo(4,4,t,n)}function Wp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function eg(t,n,a){a=a!=null?a.concat([t]):null,zo(4,4,Wp.bind(null,n,t),a)}function nh(){}function tg(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ff(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ng(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ff(n,l[1]))return l[0];if(l=t(),Ba){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l}function rh(t,n,a){return a===void 0||(Pi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ay(),Fe.lanes|=t,Fi|=t,a)}function rg(t,n,a,l){return jn(a,n)?a:Ss.current!==null?(t=rh(t,a,l),jn(t,n)||(Zt=!0),t):(Pi&42)===0?(Zt=!0,t.memoizedState=a):(t=ay(),Fe.lanes|=t,Fi|=t,n)}function ig(t,n,a,l,m){var w=se.p;se.p=w!==0&&8>w?w:8;var N=G.T,P={};G.T=P,sh(t,!1,n,a);try{var q=m(),J=G.S;if(J!==null&&J(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=xE(q,l);$o(t,n,ae,$n(t))}else $o(t,n,l,$n(t))}catch(ue){$o(t,n,{then:function(){},status:"rejected",reason:ue},$n())}finally{se.p=w,G.T=N}}function ME(){}function ih(t,n,a,l){if(t.tag!==5)throw Error(s(476));var m=ag(t).queue;ig(t,m,n,ye,a===null?ME:function(){return sg(t),a(l)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=ag(t).next.queue;$o(t,n,{},$n())}function ah(){return mn(al)}function og(){return Ut().memoizedState}function lg(){return Ut().memoizedState}function NE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=$n();t=ji(a);var l=ki(n,t,a);l!==null&&(Bn(l,n,a),Lo(l,n,a)),n={cache:Lf()},t.payload=n;return}n=n.return}}function VE(t,n,a){var l=$n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Au(t)?cg(n,a):(a=Af(t,n,a,l),a!==null&&(Bn(a,t,l),fg(a,n,l)))}function ug(t,n,a){var l=$n();$o(t,n,a,l)}function $o(t,n,a,l){var m={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Au(t))cg(n,m);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var N=n.lastRenderedState,P=w(N,a);if(m.hasEagerState=!0,m.eagerState=P,jn(P,N))return lu(t,n,m,0),wt===null&&ou(),!1}catch{}finally{}if(a=Af(t,n,m,l),a!==null)return Bn(a,t,l),fg(a,n,l),!0}return!1}function sh(t,n,a,l){if(l={lane:2,revertLane:Ph(),action:l,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(n)throw Error(s(479))}else n=Af(t,a,l,2),n!==null&&Bn(n,t,2)}function Au(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function cg(t,n){As=_u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function fg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Sr(t,a)}}var Ru={readContext:mn,use:Eu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},hg={readContext:mn,use:Eu,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:mn,useEffect:Kp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Su(4194308,4,Wp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Su(4194308,4,t,n)},useInsertionEffect:function(t,n){Su(4,2,t,n)},useMemo:function(t,n){var a=xn();n=n===void 0?null:n;var l=t();if(Ba){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=xn();if(a!==void 0){var m=a(n);if(Ba){hn(!0);try{a(n)}finally{hn(!1)}}}else m=n;return l.memoizedState=l.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},l.queue=t,t=t.dispatch=VE.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=eh(t);var n=t.queue,a=ug.bind(null,Fe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:nh,useDeferredValue:function(t,n){var a=xn();return rh(a,t,n)},useTransition:function(){var t=eh(!1);return t=ig.bind(null,Fe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Fe,m=xn();if(ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),wt===null)throw Error(s(349));(rt&124)!==0||Np(l,n,a)}m.memoizedState=a;var w={value:a,getSnapshot:n};return m.queue=w,Kp(Lp.bind(null,l,w,t),[t]),l.flags|=2048,xs(9,wu(),Vp.bind(null,l,w,a,n),null),a},useId:function(){var t=xn(),n=wt.identifierPrefix;if(ut){var a=li,l=oi;a=(l&~(1<<32-Lt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=bu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=CE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ah,useFormState:Hp,useActionState:Hp,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=sh.bind(null,Fe,!0,a),a.dispatch=n,[t,n]},useMemoCache:Zf,useCacheRefresh:function(){return xn().memoizedState=NE.bind(null,Fe)}},dg={readContext:mn,use:Eu,useCallback:tg,useContext:mn,useEffect:Xp,useImperativeHandle:eg,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:ng,useReducer:Tu,useRef:Yp,useState:function(){return Tu(fi)},useDebugValue:nh,useDeferredValue:function(t,n){var a=Ut();return rg(a,yt.memoizedState,t,n)},useTransition:function(){var t=Tu(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:Uo(t),n]},useSyncExternalStore:Mp,useId:og,useHostTransitionStatus:ah,useFormState:Fp,useActionState:Fp,useOptimistic:function(t,n){var a=Ut();return Pp(a,yt,t,n)},useMemoCache:Zf,useCacheRefresh:lg},LE={readContext:mn,use:Eu,useCallback:tg,useContext:mn,useEffect:Xp,useImperativeHandle:eg,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:ng,useReducer:Wf,useRef:Yp,useState:function(){return Wf(fi)},useDebugValue:nh,useDeferredValue:function(t,n){var a=Ut();return yt===null?rh(a,t,n):rg(a,yt.memoizedState,t,n)},useTransition:function(){var t=Wf(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:Uo(t),n]},useSyncExternalStore:Mp,useId:og,useHostTransitionStatus:ah,useFormState:Qp,useActionState:Qp,useOptimistic:function(t,n){var a=Ut();return yt!==null?Pp(a,yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:lg},Cs=null,Bo=0;function xu(t){var n=Bo;return Bo+=1,Cs===null&&(Cs=[]),Sp(Cs,t,n)}function qo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Cu(t,n){throw n.$$typeof===d?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){var n=t._init;return n(t._payload)}function pg(t){function n(Q,F){if(t){var X=Q.deletions;X===null?(Q.deletions=[F],Q.flags|=16):X.push(F)}}function a(Q,F){if(!t)return null;for(;F!==null;)n(Q,F),F=F.sibling;return null}function l(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function m(Q,F){return Q=si(Q,F),Q.index=0,Q.sibling=null,Q}function w(Q,F,X){return Q.index=X,t?(X=Q.alternate,X!==null?(X=X.index,X<F?(Q.flags|=67108866,F):X):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function N(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,F,X,oe){return F===null||F.tag!==6?(F=xf(X,Q.mode,oe),F.return=Q,F):(F=m(F,X),F.return=Q,F)}function q(Q,F,X,oe){var we=X.type;return we===v?ae(Q,F,X.props.children,oe,X.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&mg(we)===F.type)?(F=m(F,X.props),qo(F,X),F.return=Q,F):(F=cu(X.type,X.key,X.props,null,Q.mode,oe),qo(F,X),F.return=Q,F)}function J(Q,F,X,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=Cf(X,Q.mode,oe),F.return=Q,F):(F=m(F,X.children||[]),F.return=Q,F)}function ae(Q,F,X,oe,we){return F===null||F.tag!==7?(F=Va(X,Q.mode,oe,we),F.return=Q,F):(F=m(F,X),F.return=Q,F)}function ue(Q,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=xf(""+F,Q.mode,X),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case p:return X=cu(F.type,F.key,F.props,null,Q.mode,X),qo(X,F),X.return=Q,X;case _:return F=Cf(F,Q.mode,X),F.return=Q,F;case S:var oe=F._init;return F=oe(F._payload),ue(Q,F,X)}if(pe(F)||$(F))return F=Va(F,Q.mode,X,null),F.return=Q,F;if(typeof F.then=="function")return ue(Q,xu(F),X);if(F.$$typeof===D)return ue(Q,mu(Q,F),X);Cu(Q,F)}return null}function W(Q,F,X,oe){var we=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:P(Q,F,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case p:return X.key===we?q(Q,F,X,oe):null;case _:return X.key===we?J(Q,F,X,oe):null;case S:return we=X._init,X=we(X._payload),W(Q,F,X,oe)}if(pe(X)||$(X))return we!==null?null:ae(Q,F,X,oe,null);if(typeof X.then=="function")return W(Q,F,xu(X),oe);if(X.$$typeof===D)return W(Q,F,mu(Q,X),oe);Cu(Q,X)}return null}function ee(Q,F,X,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(X)||null,P(F,Q,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:return Q=Q.get(oe.key===null?X:oe.key)||null,q(F,Q,oe,we);case _:return Q=Q.get(oe.key===null?X:oe.key)||null,J(F,Q,oe,we);case S:var Ye=oe._init;return oe=Ye(oe._payload),ee(Q,F,X,oe,we)}if(pe(oe)||$(oe))return Q=Q.get(X)||null,ae(F,Q,oe,we,null);if(typeof oe.then=="function")return ee(Q,F,X,xu(oe),we);if(oe.$$typeof===D)return ee(Q,F,X,mu(F,oe),we);Cu(F,oe)}return null}function Ue(Q,F,X,oe){for(var we=null,Ye=null,De=F,je=F=0,Wt=null;De!==null&&je<X.length;je++){De.index>je?(Wt=De,De=null):Wt=De.sibling;var ot=W(Q,De,X[je],oe);if(ot===null){De===null&&(De=Wt);break}t&&De&&ot.alternate===null&&n(Q,De),F=w(ot,F,je),Ye===null?we=ot:Ye.sibling=ot,Ye=ot,De=Wt}if(je===X.length)return a(Q,De),ut&&ja(Q,je),we;if(De===null){for(;je<X.length;je++)De=ue(Q,X[je],oe),De!==null&&(F=w(De,F,je),Ye===null?we=De:Ye.sibling=De,Ye=De);return ut&&ja(Q,je),we}for(De=l(De);je<X.length;je++)Wt=ee(De,Q,je,X[je],oe),Wt!==null&&(t&&Wt.alternate!==null&&De.delete(Wt.key===null?je:Wt.key),F=w(Wt,F,je),Ye===null?we=Wt:Ye.sibling=Wt,Ye=Wt);return t&&De.forEach(function(ea){return n(Q,ea)}),ut&&ja(Q,je),we}function Ve(Q,F,X,oe){if(X==null)throw Error(s(151));for(var we=null,Ye=null,De=F,je=F=0,Wt=null,ot=X.next();De!==null&&!ot.done;je++,ot=X.next()){De.index>je?(Wt=De,De=null):Wt=De.sibling;var ea=W(Q,De,ot.value,oe);if(ea===null){De===null&&(De=Wt);break}t&&De&&ea.alternate===null&&n(Q,De),F=w(ea,F,je),Ye===null?we=ea:Ye.sibling=ea,Ye=ea,De=Wt}if(ot.done)return a(Q,De),ut&&ja(Q,je),we;if(De===null){for(;!ot.done;je++,ot=X.next())ot=ue(Q,ot.value,oe),ot!==null&&(F=w(ot,F,je),Ye===null?we=ot:Ye.sibling=ot,Ye=ot);return ut&&ja(Q,je),we}for(De=l(De);!ot.done;je++,ot=X.next())ot=ee(De,Q,je,ot.value,oe),ot!==null&&(t&&ot.alternate!==null&&De.delete(ot.key===null?je:ot.key),F=w(ot,F,je),Ye===null?we=ot:Ye.sibling=ot,Ye=ot);return t&&De.forEach(function(jT){return n(Q,jT)}),ut&&ja(Q,je),we}function _t(Q,F,X,oe){if(typeof X=="object"&&X!==null&&X.type===v&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case p:e:{for(var we=X.key;F!==null;){if(F.key===we){if(we=X.type,we===v){if(F.tag===7){a(Q,F.sibling),oe=m(F,X.props.children),oe.return=Q,Q=oe;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&mg(we)===F.type){a(Q,F.sibling),oe=m(F,X.props),qo(oe,X),oe.return=Q,Q=oe;break e}a(Q,F);break}else n(Q,F);F=F.sibling}X.type===v?(oe=Va(X.props.children,Q.mode,oe,X.key),oe.return=Q,Q=oe):(oe=cu(X.type,X.key,X.props,null,Q.mode,oe),qo(oe,X),oe.return=Q,Q=oe)}return N(Q);case _:e:{for(we=X.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){a(Q,F.sibling),oe=m(F,X.children||[]),oe.return=Q,Q=oe;break e}else{a(Q,F);break}else n(Q,F);F=F.sibling}oe=Cf(X,Q.mode,oe),oe.return=Q,Q=oe}return N(Q);case S:return we=X._init,X=we(X._payload),_t(Q,F,X,oe)}if(pe(X))return Ue(Q,F,X,oe);if($(X)){if(we=$(X),typeof we!="function")throw Error(s(150));return X=we.call(X),Ve(Q,F,X,oe)}if(typeof X.then=="function")return _t(Q,F,xu(X),oe);if(X.$$typeof===D)return _t(Q,F,mu(Q,X),oe);Cu(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(a(Q,F.sibling),oe=m(F,X),oe.return=Q,Q=oe):(a(Q,F),oe=xf(X,Q.mode,oe),oe.return=Q,Q=oe),N(Q)):a(Q,F)}return function(Q,F,X,oe){try{Bo=0;var we=_t(Q,F,X,oe);return Cs=null,we}catch(De){if(De===No||De===gu)throw De;var Ye=kn(29,De,null,Q.mode);return Ye.lanes=oe,Ye.return=Q,Ye}finally{}}}var Ds=pg(!0),gg=pg(!1),lr=te(null),jr=null;function Ui(t){var n=t.alternate;ce(Ft,Ft.current&1),ce(lr,t),jr===null&&(n===null||Ss.current!==null||n.memoizedState!==null)&&(jr=t)}function yg(t){if(t.tag===22){if(ce(Ft,Ft.current),ce(lr,t),jr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(jr=t)}}else zi()}function zi(){ce(Ft,Ft.current),ce(lr,lr.current)}function hi(t){me(lr),jr===t&&(jr=null),me(Ft)}var Ft=te(0);function Du(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function oh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=$n(),m=ji(l);m.payload=n,a!=null&&(m.callback=a),n=ki(t,m,l),n!==null&&(Bn(n,t,l),Lo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=$n(),m=ji(l);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=ki(t,m,l),n!==null&&(Bn(n,t,l),Lo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=$n(),l=ji(a);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,a),n!==null&&(Bn(n,t,a),Lo(n,t,a))}};function vg(t,n,a,l,m,w,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,w,N):n.prototype&&n.prototype.isPureReactComponent?!Ao(a,l)||!Ao(m,w):!0}function _g(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&lh.enqueueReplaceState(n,n.state,null)}function qa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bg(t){Ou(t)}function Eg(t){console.error(t)}function Tg(t){Ou(t)}function Iu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function uh(t,n,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Iu(t,n)},a}function Sg(t){return t=ji(t),t.tag=3,t}function Ag(t,n,a,l){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var w=l.value;t.payload=function(){return m(w)},t.callback=function(){wg(n,a,l)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){wg(n,a,l),typeof m!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function jE(t,n,a,l,m){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Oo(n,a,m,!0),a=lr.current,a!==null){switch(a.tag){case 13:return jr===null?Nh():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=m,l===Pf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Lh(t,l,m)),!1;case 22:return a.flags|=65536,l===Pf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Lh(t,l,m)),!1}throw Error(s(435,a.tag))}return Lh(t,l,m),Nh(),!1}if(ut)return n=lr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,l!==If&&(t=Error(s(422),{cause:l}),Do(ir(t,a)))):(l!==If&&(n=Error(s(423),{cause:l}),Do(ir(n,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,l=ir(l,a),m=uh(t.stateNode,l,m),$f(t,m),Ot!==4&&(Ot=2)),!1;var w=Error(s(520),{cause:l});if(w=ir(w,a),Xo===null?Xo=[w]:Xo.push(w),Ot!==4&&(Ot=2),n===null)return!0;l=ir(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=uh(a.stateNode,l,t),$f(a,t),!1;case 1:if(n=a.type,w=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gi===null||!Gi.has(w))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Sg(m),Ag(m,t,a,l),$f(a,m),!1}a=a.return}while(a!==null);return!1}var Rg=Error(s(461)),Zt=!1;function an(t,n,a,l){n.child=t===null?gg(n,null,a,l):Ds(n,t.child,a,l)}function xg(t,n,a,l,m){a=a.render;var w=n.ref;if("ref"in l){var N={};for(var P in l)P!=="ref"&&(N[P]=l[P])}else N=l;return za(n),l=Gf(t,n,a,N,w,m),P=Qf(),t!==null&&!Zt?(Yf(t,n,m),di(t,n,m)):(ut&&P&&Df(n),n.flags|=1,an(t,n,l,m),n.child)}function Cg(t,n,a,l,m){if(t===null){var w=a.type;return typeof w=="function"&&!Rf(w)&&w.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=w,Dg(t,n,w,l,m)):(t=cu(a.type,null,l,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(w=t.child,!yh(t,m)){var N=w.memoizedProps;if(a=a.compare,a=a!==null?a:Ao,a(N,l)&&t.ref===n.ref)return di(t,n,m)}return n.flags|=1,t=si(w,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,a,l,m){if(t!==null){var w=t.memoizedProps;if(Ao(w,l)&&t.ref===n.ref)if(Zt=!1,n.pendingProps=l=w,yh(t,m))(t.flags&131072)!==0&&(Zt=!0);else return n.lanes=t.lanes,di(t,n,m)}return ch(t,n,a,l,m)}function Og(t,n,a){var l=n.pendingProps,m=l.children,w=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=w!==null?w.baseLanes|a:a,t!==null){for(m=n.child=t.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;n.childLanes=w&~l}else n.childLanes=0,n.child=null;return Ig(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&pu(n,w!==null?w.cachePool:null),w!==null?Dp(n,w):qf(),yg(n);else return n.lanes=n.childLanes=536870912,Ig(t,n,w!==null?w.baseLanes|a:a,a)}else w!==null?(pu(n,w.cachePool),Dp(n,w),zi(),n.memoizedState=null):(t!==null&&pu(n,null),qf(),zi());return an(t,n,m,a),n.child}function Ig(t,n,a,l){var m=kf();return m=m===null?null:{parent:Ht._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&pu(n,null),qf(),yg(n),t!==null&&Oo(t,n,l,!0),null}function Mu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ch(t,n,a,l,m){return za(n),a=Gf(t,n,a,l,void 0,m),l=Qf(),t!==null&&!Zt?(Yf(t,n,m),di(t,n,m)):(ut&&l&&Df(n),n.flags|=1,an(t,n,a,m),n.child)}function Mg(t,n,a,l,m,w){return za(n),n.updateQueue=null,a=Ip(n,l,a,m),Op(t),l=Qf(),t!==null&&!Zt?(Yf(t,n,w),di(t,n,w)):(ut&&l&&Df(n),n.flags|=1,an(t,n,a,w),n.child)}function Ng(t,n,a,l,m){if(za(n),n.stateNode===null){var w=_s,N=a.contextType;typeof N=="object"&&N!==null&&(w=mn(N)),w=new a(l,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=lh,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=l,w.state=n.memoizedState,w.refs={},Uf(n),N=a.contextType,w.context=typeof N=="object"&&N!==null?mn(N):_s,w.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(oh(n,a,N,l),w.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&lh.enqueueReplaceState(w,w.state,null),ko(n,l,w,m),jo(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){w=n.stateNode;var P=n.memoizedProps,q=qa(a,P);w.props=q;var J=w.context,ae=a.contextType;N=_s,typeof ae=="object"&&ae!==null&&(N=mn(ae));var ue=a.getDerivedStateFromProps;ae=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||J!==N)&&_g(n,w,l,N),Li=!1;var W=n.memoizedState;w.state=W,ko(n,l,w,m),jo(),J=n.memoizedState,P||W!==J||Li?(typeof ue=="function"&&(oh(n,a,ue,l),J=n.memoizedState),(q=Li||vg(n,a,q,l,W,J,N))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=J),w.props=l,w.state=J,w.context=N,l=q):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,zf(t,n),N=n.memoizedProps,ae=qa(a,N),w.props=ae,ue=n.pendingProps,W=w.context,J=a.contextType,q=_s,typeof J=="object"&&J!==null&&(q=mn(J)),P=a.getDerivedStateFromProps,(J=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==ue||W!==q)&&_g(n,w,l,q),Li=!1,W=n.memoizedState,w.state=W,ko(n,l,w,m),jo();var ee=n.memoizedState;N!==ue||W!==ee||Li||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof P=="function"&&(oh(n,a,P,l),ee=n.memoizedState),(ae=Li||vg(n,a,ae,l,W,ee,q)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,ee,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,ee,q)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ee),w.props=l,w.state=ee,w.context=q,l=ae):(typeof w.componentDidUpdate!="function"||N===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),l=!1)}return w=l,Mu(t,n),l=(n.flags&128)!==0,w||l?(w=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,t!==null&&l?(n.child=Ds(n,t.child,null,m),n.child=Ds(n,null,a,m)):an(t,n,a,m),n.memoizedState=w.state,t=n.child):t=di(t,n,m),t}function Vg(t,n,a,l){return Co(),n.flags|=256,an(t,n,a,l),n.child}var fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(t){return{baseLanes:t,cachePool:Ep()}}function dh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=ur),t}function Lg(t,n,a){var l=n.pendingProps,m=!1,w=(n.flags&128)!==0,N;if((N=w)||(N=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,t===null){if(ut){if(m?Ui(n):zi(),ut){var P=Dt,q;if(q=P){e:{for(q=P,P=Lr;q.nodeType!==8;){if(!P){P=null;break e}if(q=vr(q.nextSibling),q===null){P=null;break e}}P=q}P!==null?(n.memoizedState={dehydrated:P,treeContext:La!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},q=kn(18,null,null,0),q.stateNode=P,q.return=n,n.child=q,An=n,Dt=null,q=!0):q=!1}q||Pa(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Xh(P)?n.lanes=32:n.lanes=536870912,null;hi(n)}return P=l.children,l=l.fallback,m?(zi(),m=n.mode,P=Nu({mode:"hidden",children:P},m),l=Va(l,m,a,null),P.return=n,l.return=n,P.sibling=l,n.child=P,m=n.child,m.memoizedState=hh(a),m.childLanes=dh(t,N,a),n.memoizedState=fh,l):(Ui(n),mh(n,P))}if(q=t.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(w)n.flags&256?(Ui(n),n.flags&=-257,n=ph(t,n,a)):n.memoizedState!==null?(zi(),n.child=t.child,n.flags|=128,n=null):(zi(),m=l.fallback,P=n.mode,l=Nu({mode:"visible",children:l.children},P),m=Va(m,P,a,null),m.flags|=2,l.return=n,m.return=n,l.sibling=m,n.child=l,Ds(n,t.child,null,a),l=n.child,l.memoizedState=hh(a),l.childLanes=dh(t,N,a),n.memoizedState=fh,n=m);else if(Ui(n),Xh(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var J=N.dgst;N=J,l=Error(s(419)),l.stack="",l.digest=N,Do({value:l,source:null,stack:null}),n=ph(t,n,a)}else if(Zt||Oo(t,n,a,!1),N=(a&t.childLanes)!==0,Zt||N){if(N=wt,N!==null&&(l=a&-a,l=(l&42)!==0?1:Ar(l),l=(l&(N.suspendedLanes|a))!==0?0:l,l!==0&&l!==q.retryLane))throw q.retryLane=l,vs(t,l),Bn(N,t,l),Rg;P.data==="$?"||Nh(),n=ph(t,n,a)}else P.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=q.treeContext,Dt=vr(P.nextSibling),An=n,ut=!0,ka=null,Lr=!1,t!==null&&(sr[or++]=oi,sr[or++]=li,sr[or++]=La,oi=t.id,li=t.overflow,La=n),n=mh(n,l.children),n.flags|=4096);return n}return m?(zi(),m=l.fallback,P=n.mode,q=t.child,J=q.sibling,l=si(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&65011712,J!==null?m=si(J,m):(m=Va(m,P,a,null),m.flags|=2),m.return=n,l.return=n,l.sibling=m,n.child=l,l=m,m=n.child,P=t.child.memoizedState,P===null?P=hh(a):(q=P.cachePool,q!==null?(J=Ht._currentValue,q=q.parent!==J?{parent:J,pool:J}:q):q=Ep(),P={baseLanes:P.baseLanes|a,cachePool:q}),m.memoizedState=P,m.childLanes=dh(t,N,a),n.memoizedState=fh,l):(Ui(n),a=t.child,t=a.sibling,a=si(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(N=n.deletions,N===null?(n.deletions=[t],n.flags|=16):N.push(t)),n.child=a,n.memoizedState=null,a)}function mh(t,n){return n=Nu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nu(t,n){return t=kn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ph(t,n,a){return Ds(n,t.child,null,a),t=mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function jg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Nf(t.return,n,a)}function gh(t,n,a,l,m){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:m}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=m)}function kg(t,n,a){var l=n.pendingProps,m=l.revealOrder,w=l.tail;if(an(t,n,l.children,a),l=Ft.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,a,n);else if(t.tag===19)jg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Ft,l),m){case"forwards":for(a=n.child,m=null;a!==null;)t=a.alternate,t!==null&&Du(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),gh(n,!1,m,a,w);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&Du(t)===null){n.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}gh(n,!0,a,null,w);break;case"together":gh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function di(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Fi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Oo(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=si(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=si(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function kE(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Vi(n,Ht,t.memoizedState.cache),Co();break;case 27:case 5:St(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Vi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ui(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Lg(t,n,a):(Ui(n),t=di(t,n,a),t!==null?t.sibling:null);Ui(n);break;case 19:var m=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Oo(t,n,a,!1),l=(a&n.childLanes)!==0),m){if(l)return kg(t,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Ft,Ft.current),l)break;return null;case 22:case 23:return n.lanes=0,Og(t,n,a);case 24:Vi(n,Ht,t.memoizedState.cache)}return di(t,n,a)}function Pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Zt=!0;else{if(!yh(t,a)&&(n.flags&128)===0)return Zt=!1,kE(t,n,a);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(n.flags&1048576)!==0&&mp(n,hu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,m=l._init;if(l=m(l._payload),n.type=l,typeof l=="function")Rf(l)?(t=qa(l,t),n.tag=1,n=Ng(null,n,l,t,a)):(n.tag=0,n=ch(null,n,l,t,a));else{if(l!=null){if(m=l.$$typeof,m===V){n.tag=11,n=xg(null,n,l,t,a);break e}else if(m===I){n.tag=14,n=Cg(null,n,l,t,a);break e}}throw n=he(l)||l,Error(s(306,n,""))}}return n;case 0:return ch(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,m=qa(l,n.pendingProps),Ng(t,n,l,m,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var w=n.memoizedState;m=w.element,zf(t,n),ko(n,l,null,a);var N=n.memoizedState;if(l=N.cache,Vi(n,Ht,l),l!==w.cache&&Vf(n,[Ht],a,!0),jo(),l=N.element,w.isDehydrated)if(w={element:l,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=Vg(t,n,l,a);break e}else if(l!==m){m=ir(Error(s(424)),n),Do(m),n=Vg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=vr(t.firstChild),An=n,ut=!0,ka=null,Lr=!0,a=gg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),l===m){n=di(t,n,a);break e}an(t,n,l,a)}n=n.child}return n;case 26:return Mu(t,n),t===null?(a=By(n.type,null,n.pendingProps,null))?n.memoizedState=a:ut||(a=n.type,t=n.pendingProps,l=Qu(xe.current).createElement(a),l[le]=n,l[ge]=t,on(l,a,t),et(l),n.stateNode=l):n.memoizedState=By(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return St(n),t===null&&ut&&(l=n.stateNode=Uy(n.type,n.pendingProps,xe.current),An=n,Lr=!0,m=Dt,Ki(n.type)?(Zh=m,Dt=vr(l.firstChild)):Dt=m),an(t,n,n.pendingProps.children,a),Mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ut&&((m=l=Dt)&&(l=fT(l,n.type,n.pendingProps,Lr),l!==null?(n.stateNode=l,An=n,Dt=vr(l.firstChild),Lr=!1,m=!0):m=!1),m||Pa(n)),St(n),m=n.type,w=n.pendingProps,N=t!==null?t.memoizedProps:null,l=w.children,Qh(m,w)?l=null:N!==null&&Qh(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=Gf(t,n,DE,null,null,a),al._currentValue=m),Mu(t,n),an(t,n,l,a),n.child;case 6:return t===null&&ut&&((t=a=Dt)&&(a=hT(a,n.pendingProps,Lr),a!==null?(n.stateNode=a,An=n,Dt=null,t=!0):t=!1),t||Pa(n)),null;case 13:return Lg(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ds(n,null,l,a):an(t,n,l,a),n.child;case 11:return xg(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Vi(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return m=n.type._context,l=n.pendingProps.children,za(n),m=mn(m),l=l(m),n.flags|=1,an(t,n,l,a),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,a);case 15:return Dg(t,n,n.type,n.pendingProps,a);case 19:return kg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Nu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=si(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Og(t,n,a);case 24:return za(n),l=mn(Ht),t===null?(m=kf(),m===null&&(m=wt,w=Lf(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=a),m=w),n.memoizedState={parent:l,cache:m},Uf(n),Vi(n,Ht,m)):((t.lanes&a)!==0&&(zf(t,n),ko(n,null,null,a),jo()),m=t.memoizedState,w=n.memoizedState,m.parent!==l?(m={parent:l,cache:l},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Vi(n,Ht,l)):(l=w.cache,Vi(n,Ht,l),l!==m.cache&&Vf(n,[Ht],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function mi(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qy(n)){if(n=lr.current,n!==null&&((rt&4194048)===rt?jr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||n!==jr))throw Vo=Pf,Tp;t.flags|=8192}}function Vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ba():536870912,t.lanes|=n,Ns|=n)}function Ho(t,n){if(!ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function PE(t,n,a){var l=n.pendingProps;switch(Of(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ci(Ht),Qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xo(n)?mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yp())),xt(n),null;case 26:return a=n.memoizedState,t===null?(mi(n),a!==null?(xt(n),Ug(n,a)):(xt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(mi(n),xt(n),Ug(n,a)):(xt(n),n.flags&=-16777217):(t.memoizedProps!==l&&mi(n),xt(n),n.flags&=-16777217),null;case 27:fn(n),a=xe.current;var m=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}t=_e.current,xo(n)?pp(n):(t=Uy(m,l,a),n.stateNode=t,mi(n))}return xt(n),null;case 5:if(fn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}if(t=_e.current,xo(n))pp(n);else{switch(m=Qu(xe.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?m.createElement(a,{is:l.is}):m.createElement(a)}}t[le]=n,t[ge]=l;e:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=t;e:switch(on(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&mi(n)}}return xt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=xe.current,xo(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,m=An,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}t[le]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||My(t.nodeValue,a)),t||Pa(n)}else t=Qu(t).createTextNode(l),t[le]=n,n.stateNode=t}return xt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=xo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[le]=n}else Co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),m=!1}else m=yp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(hi(n),n):(hi(n),null)}if(hi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool);var w=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(w=l.memoizedState.cachePool.pool),w!==m&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Vu(n,n.updateQueue),xt(n),null;case 4:return Qn(),t===null&&Bh(n.stateNode.containerInfo),xt(n),null;case 10:return ci(n.type),xt(n),null;case 19:if(me(Ft),m=n.memoizedState,m===null)return xt(n),null;if(l=(n.flags&128)!==0,w=m.rendering,w===null)if(l)Ho(m,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(w=Du(t),w!==null){for(n.flags|=128,Ho(m,!1),t=w.updateQueue,n.updateQueue=t,Vu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dp(a,t),a=a.sibling;return ce(Ft,Ft.current&1|2),n.child}t=t.sibling}m.tail!==null&&bn()>ku&&(n.flags|=128,l=!0,Ho(m,!1),n.lanes=4194304)}else{if(!l)if(t=Du(w),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Vu(n,t),Ho(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!ut)return xt(n),null}else 2*bn()-m.renderingStartTime>ku&&a!==536870912&&(n.flags|=128,l=!0,Ho(m,!1),n.lanes=4194304);m.isBackwards?(w.sibling=n.child,n.child=w):(t=m.last,t!==null?t.sibling=w:n.child=w,m.last=w)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=bn(),n.sibling=null,t=Ft.current,ce(Ft,l?t&1|2:t&1),n):(xt(n),null);case 22:case 23:return hi(n),Hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),a=n.updateQueue,a!==null&&Vu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&me($a),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ci(Ht),xt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function UE(t,n){switch(Of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ci(Ht),Qn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fn(n),null;case 13:if(hi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Co()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return me(Ft),null;case 4:return Qn(),null;case 10:return ci(n.type),null;case 22:case 23:return hi(n),Hf(),t!==null&&me($a),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ci(Ht),null;case 25:return null;default:return null}}function zg(t,n){switch(Of(n),n.tag){case 3:ci(Ht),Qn();break;case 26:case 27:case 5:fn(n);break;case 4:Qn();break;case 13:hi(n);break;case 19:me(Ft);break;case 10:ci(n.type);break;case 22:case 23:hi(n),Hf(),t!==null&&me($a);break;case 24:ci(Ht)}}function Fo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var m=l.next;a=m;do{if((a.tag&t)===t){l=void 0;var w=a.create,N=a.inst;l=w(),N.destroy=l}a=a.next}while(a!==m)}}catch(P){Et(n,n.return,P)}}function $i(t,n,a){try{var l=n.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var w=m.next;l=w;do{if((l.tag&t)===t){var N=l.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,m=n;var q=a,J=P;try{J()}catch(ae){Et(m,q,ae)}}}l=l.next}while(l!==w)}}catch(ae){Et(n,n.return,ae)}}function $g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Cp(n,a)}catch(l){Et(t,t.return,l)}}}function Bg(t,n,a){a.props=qa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Et(t,n,l)}}function Go(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(m){Et(t,n,m)}}function kr(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(m){Et(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Et(t,n,m)}else a.current=null}function qg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(m){Et(t,t.return,m)}}function vh(t,n,a){try{var l=t.stateNode;sT(l,t.type,a,n),l[ge]=n}catch(m){Et(t,t.return,m)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ki(t.type)||t.tag===4}function _h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gu));else if(l!==4&&(l===27&&Ki(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(bh(t,n,a),t=t.sibling;t!==null;)bh(t,n,a),t=t.sibling}function Lu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lu(t,n,a),t=t.sibling;t!==null;)Lu(t,n,a),t=t.sibling}function Fg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);on(n,l,a),n[le]=t,n[ge]=a}catch(w){Et(t,t.return,w)}}var pi=!1,Mt=!1,Eh=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function zE(t,n){if(t=t.containerInfo,Fh=Wu,t=rp(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var m=l.anchorOffset,w=l.focusNode;l=l.focusOffset;try{a.nodeType,w.nodeType}catch{a=null;break e}var N=0,P=-1,q=-1,J=0,ae=0,ue=t,W=null;t:for(;;){for(var ee;ue!==a||m!==0&&ue.nodeType!==3||(P=N+m),ue!==w||l!==0&&ue.nodeType!==3||(q=N+l),ue.nodeType===3&&(N+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)W=ue,ue=ee;for(;;){if(ue===t)break t;if(W===a&&++J===m&&(P=N),W===w&&++ae===l&&(q=N),(ee=ue.nextSibling)!==null)break;ue=W,W=ue.parentNode}ue=ee}a=P===-1||q===-1?null:{start:P,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gh={focusedElem:t,selectionRange:a},Wu=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,w=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&w!==null){t=void 0,a=n,m=w.memoizedProps,w=w.memoizedState,l=a.stateNode;try{var Ue=qa(a.type,m,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ue,w),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Et(a,a.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Kh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Qg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),l&4&&Fo(5,a);break;case 1:if(Bi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(N){Et(a,a.return,N)}else{var m=qa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(N){Et(a,a.return,N)}}l&64&&$g(a),l&512&&Go(a,a.return);break;case 3:if(Bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Cp(t,n)}catch(N){Et(a,a.return,N)}}break;case 27:n===null&&l&4&&Fg(a);case 26:case 5:Bi(t,a),n===null&&l&4&&qg(a),l&512&&Go(a,a.return);break;case 12:Bi(t,a);break;case 13:Bi(t,a),l&4&&Xg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=KE.bind(null,a),dT(t,a))));break;case 22:if(l=a.memoizedState!==null||pi,!l){n=n!==null&&n.memoizedState!==null||Mt,m=pi;var w=Mt;pi=l,(Mt=n)&&!w?qi(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),pi=m,Mt=w}break;case 30:break;default:Bi(t,a)}}function Yg(t){var n=t.alternate;n!==null&&(t.alternate=null,Yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ae(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Cn=!1;function gi(t,n,a){for(a=a.child;a!==null;)Kg(t,n,a),a=a.sibling}function Kg(t,n,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:Mt||kr(a,n),gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||kr(a,n);var l=At,m=Cn;Ki(a.type)&&(At=a.stateNode,Cn=!1),gi(t,n,a),tl(a.stateNode),At=l,Cn=m;break;case 5:Mt||kr(a,n);case 6:if(l=At,m=Cn,At=null,gi(t,n,a),At=l,Cn=m,At!==null)if(Cn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(w){Et(a,n,w)}else try{At.removeChild(a.stateNode)}catch(w){Et(a,n,w)}break;case 18:At!==null&&(Cn?(t=At,ky(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ul(t)):ky(At,a.stateNode));break;case 4:l=At,m=Cn,At=a.stateNode.containerInfo,Cn=!0,gi(t,n,a),At=l,Cn=m;break;case 0:case 11:case 14:case 15:Mt||$i(2,a,n),Mt||$i(4,a,n),gi(t,n,a);break;case 1:Mt||(kr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Bg(a,n,l)),gi(t,n,a);break;case 21:gi(t,n,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,gi(t,n,a),Mt=l;break;default:gi(t,n,a)}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(a){Et(n,n.return,a)}}function $E(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Gg),n;default:throw Error(s(435,t.tag))}}function Th(t,n){var a=$E(t);n.forEach(function(l){var m=XE.bind(null,t,l);a.has(l)||(a.add(l),l.then(m,m))})}function Pn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var m=a[l],w=t,N=n,P=N;e:for(;P!==null;){switch(P.tag){case 27:if(Ki(P.type)){At=P.stateNode,Cn=!1;break e}break;case 5:At=P.stateNode,Cn=!1;break e;case 3:case 4:At=P.stateNode.containerInfo,Cn=!0;break e}P=P.return}if(At===null)throw Error(s(160));Kg(w,N,m),At=null,Cn=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Zg(n,t),n=n.sibling}var yr=null;function Zg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(n,t),Un(t),l&4&&($i(3,t,t.return),Fo(3,t),$i(5,t,t.return));break;case 1:Pn(n,t),Un(t),l&512&&(Mt||a===null||kr(a,a.return)),l&64&&pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var m=yr;if(Pn(n,t),Un(t),l&512&&(Mt||a===null||kr(a,a.return)),l&4){var w=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":w=m.getElementsByTagName("title")[0],(!w||w[Ne]||w[le]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(l),m.head.insertBefore(w,m.querySelector("head > title"))),on(w,l,a),w[le]=t,et(w),l=w;break e;case"link":var N=Fy("link","href",m).get(l+(a.href||""));if(N){for(var P=0;P<N.length;P++)if(w=N[P],w.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&w.getAttribute("rel")===(a.rel==null?null:a.rel)&&w.getAttribute("title")===(a.title==null?null:a.title)&&w.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(P,1);break t}}w=m.createElement(l),on(w,l,a),m.head.appendChild(w);break;case"meta":if(N=Fy("meta","content",m).get(l+(a.content||""))){for(P=0;P<N.length;P++)if(w=N[P],w.getAttribute("content")===(a.content==null?null:""+a.content)&&w.getAttribute("name")===(a.name==null?null:a.name)&&w.getAttribute("property")===(a.property==null?null:a.property)&&w.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&w.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(P,1);break t}}w=m.createElement(l),on(w,l,a),m.head.appendChild(w);break;default:throw Error(s(468,l))}w[le]=t,et(w),l=w}t.stateNode=l}else Gy(m,t.type,t.stateNode);else t.stateNode=Hy(m,l,t.memoizedProps);else w!==l?(w===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):w.count--,l===null?Gy(m,t.type,t.stateNode):Hy(m,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Pn(n,t),Un(t),l&512&&(Mt||a===null||kr(a,a.return)),a!==null&&l&4&&vh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Pn(n,t),Un(t),l&512&&(Mt||a===null||kr(a,a.return)),t.flags&32){m=t.stateNode;try{er(m,"")}catch(ee){Et(t,t.return,ee)}}l&4&&t.stateNode!=null&&(m=t.memoizedProps,vh(t,m,a!==null?a.memoizedProps:m)),l&1024&&(Eh=!0);break;case 6:if(Pn(n,t),Un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ee){Et(t,t.return,ee)}}break;case 3:if(Xu=null,m=yr,yr=Yu(n.containerInfo),Pn(n,t),yr=m,Un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(n.containerInfo)}catch(ee){Et(t,t.return,ee)}Eh&&(Eh=!1,Jg(t));break;case 4:l=yr,yr=Yu(t.stateNode.containerInfo),Pn(n,t),Un(t),yr=l;break;case 12:Pn(n,t),Un(t);break;case 13:Pn(n,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ch=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 22:m=t.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,J=pi,ae=Mt;if(pi=J||m,Mt=ae||q,Pn(n,t),Mt=ae,pi=J,Un(t),l&8192)e:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||q||pi||Mt||Ha(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){q=a=n;try{if(w=q.stateNode,m)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=q.stateNode;var ue=q.memoizedProps.style,W=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;P.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ee){Et(q,q.return,ee)}}}else if(n.tag===6){if(a===null){q=n;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(ee){Et(q,q.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Th(t,a))));break;case 19:Pn(n,t),Un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 30:break;case 21:break;default:Pn(n,t),Un(t)}}function Un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Hg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,w=_h(t);Lu(t,w,m);break;case 5:var N=a.stateNode;a.flags&32&&(er(N,""),a.flags&=-33);var P=_h(t);Lu(t,P,N);break;case 3:case 4:var q=a.stateNode.containerInfo,J=_h(t);bh(t,J,q);break;default:throw Error(s(161))}}catch(ae){Et(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qg(t,n.alternate,n),n=n.sibling}function Ha(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),Ha(n);break;case 1:kr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Bg(n,n.return,a),Ha(n);break;case 27:tl(n.stateNode);case 26:case 5:kr(n,n.return),Ha(n);break;case 22:n.memoizedState===null&&Ha(n);break;case 30:Ha(n);break;default:Ha(n)}t=t.sibling}}function qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,m=t,w=n,N=w.flags;switch(w.tag){case 0:case 11:case 15:qi(m,w,a),Fo(4,w);break;case 1:if(qi(m,w,a),l=w,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){Et(l,l.return,J)}if(l=w,m=l.updateQueue,m!==null){var P=l.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)xp(q[m],P)}catch(J){Et(l,l.return,J)}}a&&N&64&&$g(w),Go(w,w.return);break;case 27:Fg(w);case 26:case 5:qi(m,w,a),a&&l===null&&N&4&&qg(w),Go(w,w.return);break;case 12:qi(m,w,a);break;case 13:qi(m,w,a),a&&N&4&&Xg(m,w);break;case 22:w.memoizedState===null&&qi(m,w,a),Go(w,w.return);break;case 30:break;default:qi(m,w,a)}n=n.sibling}}function wh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Io(a))}function Sh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Io(t))}function Pr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,a,l),n=n.sibling}function Wg(t,n,a,l){var m=n.flags;switch(n.tag){case 0:case 11:case 15:Pr(t,n,a,l),m&2048&&Fo(9,n);break;case 1:Pr(t,n,a,l);break;case 3:Pr(t,n,a,l),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Io(t)));break;case 12:if(m&2048){Pr(t,n,a,l),t=n.stateNode;try{var w=n.memoizedProps,N=w.id,P=w.onPostCommit;typeof P=="function"&&P(N,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){Et(n,n.return,q)}}else Pr(t,n,a,l);break;case 13:Pr(t,n,a,l);break;case 23:break;case 22:w=n.stateNode,N=n.alternate,n.memoizedState!==null?w._visibility&2?Pr(t,n,a,l):Qo(t,n):w._visibility&2?Pr(t,n,a,l):(w._visibility|=2,Os(t,n,a,l,(n.subtreeFlags&10256)!==0)),m&2048&&wh(N,n);break;case 24:Pr(t,n,a,l),m&2048&&Sh(n.alternate,n);break;default:Pr(t,n,a,l)}}function Os(t,n,a,l,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var w=t,N=n,P=a,q=l,J=N.flags;switch(N.tag){case 0:case 11:case 15:Os(w,N,P,q,m),Fo(8,N);break;case 23:break;case 22:var ae=N.stateNode;N.memoizedState!==null?ae._visibility&2?Os(w,N,P,q,m):Qo(w,N):(ae._visibility|=2,Os(w,N,P,q,m)),m&&J&2048&&wh(N.alternate,N);break;case 24:Os(w,N,P,q,m),m&&J&2048&&Sh(N.alternate,N);break;default:Os(w,N,P,q,m)}n=n.sibling}}function Qo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,m=l.flags;switch(l.tag){case 22:Qo(a,l),m&2048&&wh(l.alternate,l);break;case 24:Qo(a,l),m&2048&&Sh(l.alternate,l);break;default:Qo(a,l)}n=n.sibling}}var Yo=8192;function Is(t){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 26:Is(t),t.flags&Yo&&t.memoizedState!==null&&RT(yr,t.memoizedState,t.memoizedProps);break;case 5:Is(t);break;case 3:case 4:var n=yr;yr=Yu(t.stateNode.containerInfo),Is(t),yr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Yo,Yo=16777216,Is(t),Yo=n):Is(t));break;default:Is(t)}}function ty(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ko(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,ry(l,t)}ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ny(t),t=t.sibling}function ny(t){switch(t.tag){case 0:case 11:case 15:Ko(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Ko(t);break;case 12:Ko(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ju(t)):Ko(t);break;default:Ko(t)}}function ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,ry(l,t)}ty(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ju(n));break;default:ju(n)}t=t.sibling}}function ry(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:$i(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Io(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var m=l.sibling,w=l.return;if(Yg(l),l===a){Jt=null;break e}if(m!==null){m.return=w,Jt=m;break e}Jt=w}}}var BE={getCacheForType:function(t){var n=mn(Ht),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},qE=typeof WeakMap=="function"?WeakMap:Map,dt=0,wt=null,Xe=null,rt=0,mt=0,zn=null,Hi=!1,Ms=!1,Ah=!1,yi=0,Ot=0,Fi=0,Fa=0,Rh=0,ur=0,Ns=0,Xo=null,Dn=null,xh=!1,Ch=0,ku=1/0,Pu=null,Gi=null,sn=0,Qi=null,Vs=null,Ls=0,Dh=0,Oh=null,iy=null,Zo=0,Ih=null;function $n(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var t=Ts;return t!==0?t:Ph()}return H()}function ay(){ur===0&&(ur=(rt&536870912)===0||ut?Zr():536870912);var t=lr.current;return t!==null&&(t.flags|=32),ur}function Bn(t,n,a){(t===wt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(js(t,0),Yi(t,rt,ur,!1)),mr(t,a),((dt&2)===0||t!==wt)&&(t===wt&&((dt&2)===0&&(Fa|=a),Ot===4&&Yi(t,rt,ur,!1)),Ur(t))}function sy(t,n,a){if((dt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Xn(t,n),m=l?GE(t,n):Vh(t,n,!0),w=l;do{if(m===0){Ms&&!l&&Yi(t,n,0,!1);break}else{if(a=t.current.alternate,w&&!HE(a)){m=Vh(t,n,!1),w=!1;continue}if(m===2){if(w=n,t.errorRecoveryDisabledLanes&w)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var P=t;m=Xo;var q=P.current.memoizedState.isDehydrated;if(q&&(js(P,N).flags|=256),N=Vh(P,N,!1),N!==2){if(Ah&&!q){P.errorRecoveryDisabledLanes|=w,Fa|=w,m=4;break e}w=Dn,Dn=m,w!==null&&(Dn===null?Dn=w:Dn.push.apply(Dn,w))}m=N}if(w=!1,m!==2)continue}}if(m===1){js(t,0),Yi(t,n,0,!0);break}e:{switch(l=t,w=m,w){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Yi(l,n,ur,!Hi);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=Ch+300-bn(),10<m)){if(Yi(l,n,ur,!Hi),Xr(l,0,!0)!==0)break e;l.timeoutHandle=Ly(oy.bind(null,l,a,Dn,Pu,xh,n,ur,Fa,Ns,Hi,w,2,-0,0),m);break e}oy(l,a,Dn,Pu,xh,n,ur,Fa,Ns,Hi,w,0,-0,0)}}break}while(!0);Ur(t)}function oy(t,n,a,l,m,w,N,P,q,J,ae,ue,W,ee){if(t.timeoutHandle=-1,ue=n.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:AT},ey(n),ue=xT(),ue!==null)){t.cancelPendingCommit=ue(my.bind(null,t,n,w,a,l,m,N,P,q,ae,1,W,ee)),Yi(t,w,N,!J);return}my(t,n,w,a,l,m,N,P,q)}function HE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var m=a[l],w=m.getSnapshot;m=m.value;try{if(!jn(w(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yi(t,n,a,l){n&=~Rh,n&=~Fa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var m=n;0<m;){var w=31-Lt(m),N=1<<w;l[w]=-1,m&=~N}a!==0&&En(t,a,n)}function Uu(){return(dt&6)===0?(Jo(0),!1):!0}function Mh(){if(Xe!==null){if(mt===0)var t=Xe.return;else t=Xe,ui=Ua=null,Kf(t),Cs=null,Bo=0,t=Xe;for(;t!==null;)zg(t.alternate,t),t=t.return;Xe=null}}function js(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Mh(),wt=t,Xe=a=si(t.current,null),rt=n,mt=0,zn=null,Hi=!1,Ms=Xn(t,n),Ah=!1,Ns=ur=Rh=Fa=Fi=Ot=0,Dn=Xo=null,xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var m=31-Lt(l),w=1<<m;n|=t[m],l&=~w}return yi=n,ou(),a}function ly(t,n){Fe=null,G.H=Ru,n===No||n===gu?(n=Ap(),mt=3):n===Tp?(n=Ap(),mt=4):mt=n===Rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Xe===null&&(Ot=1,Iu(t,ir(n,t.current)))}function uy(){var t=G.H;return G.H=Ru,t===null?Ru:t}function cy(){var t=G.A;return G.A=BE,t}function Nh(){Ot=4,Hi||(rt&4194048)!==rt&&lr.current!==null||(Ms=!0),(Fi&134217727)===0&&(Fa&134217727)===0||wt===null||Yi(wt,rt,ur,!1)}function Vh(t,n,a){var l=dt;dt|=2;var m=uy(),w=cy();(wt!==t||rt!==n)&&(Pu=null,js(t,n)),n=!1;var N=Ot;e:do try{if(mt!==0&&Xe!==null){var P=Xe,q=zn;switch(mt){case 8:Mh(),N=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(n=!0);var J=mt;if(mt=0,zn=null,ks(t,P,q,J),a&&Ms){N=0;break e}break;default:J=mt,mt=0,zn=null,ks(t,P,q,J)}}FE(),N=Ot;break}catch(ae){ly(t,ae)}while(!0);return n&&t.shellSuspendCounter++,ui=Ua=null,dt=l,G.H=m,G.A=w,Xe===null&&(wt=null,rt=0,ou()),N}function FE(){for(;Xe!==null;)fy(Xe)}function GE(t,n){var a=dt;dt|=2;var l=uy(),m=cy();wt!==t||rt!==n?(Pu=null,ku=bn()+500,js(t,n)):Ms=Xn(t,n);e:do try{if(mt!==0&&Xe!==null){n=Xe;var w=zn;t:switch(mt){case 1:mt=0,zn=null,ks(t,n,w,1);break;case 2:case 9:if(wp(w)){mt=0,zn=null,hy(n);break}n=function(){mt!==2&&mt!==9||wt!==t||(mt=7),Ur(t)},w.then(n,n);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:wp(w)?(mt=0,zn=null,hy(n)):(mt=0,zn=null,ks(t,n,w,7));break;case 5:var N=null;switch(Xe.tag){case 26:N=Xe.memoizedState;case 5:case 27:var P=Xe;if(!N||Qy(N)){mt=0,zn=null;var q=P.sibling;if(q!==null)Xe=q;else{var J=P.return;J!==null?(Xe=J,zu(J)):Xe=null}break t}}mt=0,zn=null,ks(t,n,w,5);break;case 6:mt=0,zn=null,ks(t,n,w,6);break;case 8:Mh(),Ot=6;break e;default:throw Error(s(462))}}QE();break}catch(ae){ly(t,ae)}while(!0);return ui=Ua=null,G.H=l,G.A=m,dt=a,Xe!==null?0:(wt=null,rt=0,ou(),Ot)}function QE(){for(;Xe!==null&&!va();)fy(Xe)}function fy(t){var n=Pg(t.alternate,t,yi);t.memoizedProps=t.pendingProps,n===null?zu(t):Xe=n}function hy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Mg(a,n,n.pendingProps,n.type,void 0,rt);break;case 11:n=Mg(a,n,n.pendingProps,n.type.render,n.ref,rt);break;case 5:Kf(n);default:zg(a,n),n=Xe=dp(n,yi),n=Pg(a,n,yi)}t.memoizedProps=t.pendingProps,n===null?zu(t):Xe=n}function ks(t,n,a,l){ui=Ua=null,Kf(n),Cs=null,Bo=0;var m=n.return;try{if(jE(t,m,n,a,rt)){Ot=1,Iu(t,ir(a,t.current)),Xe=null;return}}catch(w){if(m!==null)throw Xe=m,w;Ot=1,Iu(t,ir(a,t.current)),Xe=null;return}n.flags&32768?(ut||l===1?t=!0:Ms||(rt&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=lr.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(n,t)):zu(n)}function zu(t){var n=t;do{if((n.flags&32768)!==0){dy(n,Hi);return}t=n.return;var a=PE(n.alternate,n,yi);if(a!==null){Xe=a;return}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=t}while(n!==null);Ot===0&&(Ot=5)}function dy(t,n){do{var a=UE(t.alternate,t);if(a!==null){a.flags&=32767,Xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=a}while(t!==null);Ot=6,Xe=null}function my(t,n,a,l,m,w,N,P,q){t.cancelPendingCommit=null;do $u();while(sn!==0);if((dt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(w=n.lanes|n.childLanes,w|=Sf,Di(t,a,w,N,P,q),t===wt&&(Xe=wt=null,rt=0),Vs=n,Qi=t,Ls=a,Dh=w,Oh=m,iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZE(Kr,function(){return _y(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,m=se.p,se.p=2,N=dt,dt|=4;try{zE(t,n,a)}finally{dt=N,se.p=m,G.T=l}}sn=1,py(),gy(),yy()}}function py(){if(sn===1){sn=0;var t=Qi,n=Vs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{Zg(n,t);var w=Gh,N=rp(t.containerInfo),P=w.focusedElem,q=w.selectionRange;if(N!==P&&P&&P.ownerDocument&&np(P.ownerDocument.documentElement,P)){if(q!==null&&_f(P)){var J=q.start,ae=q.end;if(ae===void 0&&(ae=J),"selectionStart"in P)P.selectionStart=J,P.selectionEnd=Math.min(ae,P.value.length);else{var ue=P.ownerDocument||document,W=ue&&ue.defaultView||window;if(W.getSelection){var ee=W.getSelection(),Ue=P.textContent.length,Ve=Math.min(q.start,Ue),_t=q.end===void 0?Ve:Math.min(q.end,Ue);!ee.extend&&Ve>_t&&(N=_t,_t=Ve,Ve=N);var Q=tp(P,Ve),F=tp(P,_t);if(Q&&F&&(ee.rangeCount!==1||ee.anchorNode!==Q.node||ee.anchorOffset!==Q.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var X=ue.createRange();X.setStart(Q.node,Q.offset),ee.removeAllRanges(),Ve>_t?(ee.addRange(X),ee.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),ee.addRange(X))}}}}for(ue=[],ee=P;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ue.length;P++){var oe=ue[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Wu=!!Fh,Gh=Fh=null}finally{dt=m,se.p=l,G.T=a}}t.current=n,sn=2}}function gy(){if(sn===2){sn=0;var t=Qi,n=Vs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{Qg(t,n.alternate,n)}finally{dt=m,se.p=l,G.T=a}}sn=3}}function yy(){if(sn===4||sn===3){sn=0,rs();var t=Qi,n=Vs,a=Ls,l=iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,Vs=Qi=null,vy(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Gi=null),Oi(a),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,m=se.p,se.p=2,G.T=null;try{for(var w=t.onRecoverableError,N=0;N<l.length;N++){var P=l[N];w(P.value,{componentStack:P.stack})}}finally{G.T=n,se.p=m}}(Ls&3)!==0&&$u(),Ur(t),m=t.pendingLanes,(a&4194090)!==0&&(m&42)!==0?t===Ih?Zo++:(Zo=0,Ih=t):Zo=0,Jo(0)}}function vy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Io(n)))}function $u(t){return py(),gy(),yy(),_y()}function _y(){if(sn!==5)return!1;var t=Qi,n=Dh;Dh=0;var a=Oi(Ls),l=G.T,m=se.p;try{se.p=32>a?32:a,G.T=null,a=Oh,Oh=null;var w=Qi,N=Ls;if(sn=0,Vs=Qi=null,Ls=0,(dt&6)!==0)throw Error(s(331));var P=dt;if(dt|=4,ny(w.current),Wg(w,w.current,N,a),dt=P,Jo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,w)}catch{}return!0}finally{se.p=m,G.T=l,vy(t,n)}}function by(t,n,a){n=ir(a,n),n=uh(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(mr(t,2),Ur(t))}function Et(t,n,a){if(t.tag===3)by(t,t,a);else for(;n!==null;){if(n.tag===3){by(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=ir(a,t),a=Sg(2),l=ki(n,a,2),l!==null&&(Ag(a,l,n,t),mr(l,2),Ur(l));break}}n=n.return}}function Lh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qE;var m=new Set;l.set(n,m)}else m=l.get(n),m===void 0&&(m=new Set,l.set(n,m));m.has(a)||(Ah=!0,m.add(a),t=YE.bind(null,t,n,a),n.then(t,t))}function YE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,wt===t&&(rt&a)===a&&(Ot===4||Ot===3&&(rt&62914560)===rt&&300>bn()-Ch?(dt&2)===0&&js(t,0):Rh|=a,Ns===rt&&(Ns=0)),Ur(t)}function Ey(t,n){n===0&&(n=ba()),t=vs(t,n),t!==null&&(mr(t,n),Ur(t))}function KE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ey(t,a)}function XE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ey(t,a)}function ZE(t,n){return Yr(t,n)}var Bu=null,Ps=null,jh=!1,qu=!1,kh=!1,Ga=0;function Ur(t){t!==Ps&&t.next===null&&(Ps===null?Bu=Ps=t:Ps=Ps.next=t),qu=!0,jh||(jh=!0,WE())}function Jo(t,n){if(!kh&&qu){kh=!0;do for(var a=!1,l=Bu;l!==null;){if(t!==0){var m=l.pendingLanes;if(m===0)var w=0;else{var N=l.suspendedLanes,P=l.pingedLanes;w=(1<<31-Lt(42|t)+1)-1,w&=m&~(N&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(a=!0,Ay(l,w))}else w=rt,w=Xr(l,l===wt?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(w&3)===0||Xn(l,w)||(a=!0,Ay(l,w));l=l.next}while(a);kh=!1}}function JE(){Ty()}function Ty(){qu=jh=!1;var t=0;Ga!==0&&(oT()&&(t=Ga),Ga=0);for(var n=bn(),a=null,l=Bu;l!==null;){var m=l.next,w=wy(l,n);w===0?(l.next=null,a===null?Bu=m:a.next=m,m===null&&(Ps=a)):(a=l,(t!==0||(w&3)!==0)&&(qu=!0)),l=m}Jo(t)}function wy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,m=t.expirationTimes,w=t.pendingLanes&-62914561;0<w;){var N=31-Lt(w),P=1<<N,q=m[N];q===-1?((P&a)===0||(P&l)!==0)&&(m[N]=Ci(P,n)):q<=n&&(t.expiredLanes|=P),w&=~P}if(n=wt,a=rt,a=Xr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&_n(l),Oi(a)){case 2:case 8:a=Ai;break;case 32:a=Kr;break;case 268435456:a=Yn;break;default:a=Kr}return l=Sy.bind(null,t),a=Yr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,n){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($u()&&t.callbackNode!==a)return null;var l=rt;return l=Xr(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sy(t,l,n),wy(t,bn()),t.callbackNode!=null&&t.callbackNode===a?Sy.bind(null,t):null)}function Ay(t,n){if($u())return null;sy(t,n,!0)}function WE(){uT(function(){(dt&6)!==0?Yr(_a,JE):Ty()})}function Ph(){return Ga===0&&(Ga=Zr()),Ga}function Ry(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ss(""+t)}function xy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function eT(t,n,a,l,m){if(n==="submit"&&a&&a.stateNode===m){var w=Ry((m[ge]||null).action),N=l.submitter;N&&(n=(n=N[ge]||null)?Ry(n.formAction):N.getAttribute("formAction"),n!==null&&(w=n,N=null));var P=new os("action","action",null,l,m);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var q=N?xy(m,N):new FormData(m);ih(a,{pending:!0,data:q,method:m.method,action:w},null,q)}}else typeof w=="function"&&(P.preventDefault(),q=N?xy(m,N):new FormData(m),ih(a,{pending:!0,data:q,method:m.method,action:w},w,q))},currentTarget:m}]})}}for(var Uh=0;Uh<wf.length;Uh++){var zh=wf[Uh],tT=zh.toLowerCase(),nT=zh[0].toUpperCase()+zh.slice(1);gr(tT,"on"+nT)}gr(sp,"onAnimationEnd"),gr(op,"onAnimationIteration"),gr(lp,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(_E,"onTransitionRun"),gr(bE,"onTransitionStart"),gr(EE,"onTransitionCancel"),gr(up,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Cy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],m=l.event;l=l.listeners;e:{var w=void 0;if(n)for(var N=l.length-1;0<=N;N--){var P=l[N],q=P.instance,J=P.currentTarget;if(P=P.listener,q!==w&&m.isPropagationStopped())break e;w=P,m.currentTarget=J;try{w(m)}catch(ae){Ou(ae)}m.currentTarget=null,w=q}else for(N=0;N<l.length;N++){if(P=l[N],q=P.instance,J=P.currentTarget,P=P.listener,q!==w&&m.isPropagationStopped())break e;w=P,m.currentTarget=J;try{w(m)}catch(ae){Ou(ae)}m.currentTarget=null,w=q}}}}function Ze(t,n){var a=n[Ie];a===void 0&&(a=n[Ie]=new Set);var l=t+"__bubble";a.has(l)||(Dy(n,t,2,!1),a.add(l))}function $h(t,n,a){var l=0;n&&(l|=4),Dy(a,t,l,n)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Bh(t){if(!t[Hu]){t[Hu]=!0,Qe.forEach(function(a){a!=="selectionchange"&&(rT.has(a)||$h(a,!1,t),$h(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Hu]||(n[Hu]=!0,$h("selectionchange",!1,n))}}function Dy(t,n,a,l){switch(Wy(n)){case 2:var m=OT;break;case 8:m=IT;break;default:m=nd}a=m.bind(null,n,a,t),m=void 0,!nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),l?m!==void 0?t.addEventListener(n,a,{capture:!0,passive:m}):t.addEventListener(n,a,!0):m!==void 0?t.addEventListener(n,a,{passive:m}):t.addEventListener(n,a,!1)}function qh(t,n,a,l,m){var w=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var P=l.stateNode.containerInfo;if(P===m)break;if(N===4)for(N=l.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;P!==null;){if(N=Le(P),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){l=w=N;continue e}P=P.parentNode}}l=l.return}Gl(function(){var J=w,ae=tr(a),ue=[];e:{var W=cp.get(t);if(W!==void 0){var ee=os,Ue=t;switch(t){case"keypress":if(Or(a)===0)break e;case"keydown":case"keyup":ee=ds;break;case"focusin":Ue="focus",ee=cs;break;case"focusout":Ue="blur",ee=cs;break;case"beforeblur":case"afterblur":ee=cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=eu;break;case sp:case op:case lp:ee=fs;break;case up:ee=nu;break;case"scroll":case"scrollend":ee=Ql;break;case"wheel":ee=ms;break;case"copy":case"cut":case"paste":ee=hs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=wo;break;case"toggle":case"beforetoggle":ee=iu}var Ve=(n&4)!==0,_t=!Ve&&(t==="scroll"||t==="scrollend"),Q=Ve?W!==null?W+"Capture":null:W;Ve=[];for(var F=J,X;F!==null;){var oe=F;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Q===null||(oe=Aa(F,Q),oe!=null&&Ve.push(el(F,oe,X))),_t)break;F=F.return}0<Ve.length&&(W=new ee(W,Ue,null,a,ae),ue.push({event:W,listeners:Ve}))}}if((n&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",W&&a!==ei&&(Ue=a.relatedTarget||a.fromElement)&&(Le(Ue)||Ue[Ee]))break e;if((ee||W)&&(W=ae.window===ae?ae:(W=ae.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(Ue=a.relatedTarget||a.toElement,ee=J,Ue=Ue?Le(Ue):null,Ue!==null&&(_t=u(Ue),Ve=Ue.tag,Ue!==_t||Ve!==5&&Ve!==27&&Ve!==6)&&(Ue=null)):(ee=null,Ue=J),ee!==Ue)){if(Ve=rr,oe="onMouseLeave",Q="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=wo,oe="onPointerLeave",Q="onPointerEnter",F="pointer"),_t=ee==null?W:ct(ee),X=Ue==null?W:ct(Ue),W=new Ve(oe,F+"leave",ee,a,ae),W.target=_t,W.relatedTarget=X,oe=null,Le(ae)===J&&(Ve=new Ve(Q,F+"enter",Ue,a,ae),Ve.target=X,Ve.relatedTarget=_t,oe=Ve),_t=oe,ee&&Ue)t:{for(Ve=ee,Q=Ue,F=0,X=Ve;X;X=Us(X))F++;for(X=0,oe=Q;oe;oe=Us(oe))X++;for(;0<F-X;)Ve=Us(Ve),F--;for(;0<X-F;)Q=Us(Q),X--;for(;F--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=Us(Ve),Q=Us(Q)}Ve=null}else Ve=null;ee!==null&&Oy(ue,W,ee,Ve,!1),Ue!==null&&_t!==null&&Oy(ue,_t,Ue,Ve,!0)}}e:{if(W=J?ct(J):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var we=Km;else if(qt(W))if(Xm)we=gE;else{we=mE;var Ye=dE}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?J&&go(J.elementType)&&(we=Km):we=pE;if(we&&(we=we(t,J))){ai(ue,we,a,ae);break e}Ye&&Ye(t,W,J),t==="focusout"&&J&&W.type==="number"&&J.memoizedProps.value!=null&&Mi(W,"number",W.value)}switch(Ye=J?ct(J):window,t){case"focusin":(qt(Ye)||Ye.contentEditable==="true")&&(ps=Ye,bf=J,Ro=null);break;case"focusout":Ro=bf=ps=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,ip(ue,a,ae);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":ip(ue,a,ae)}var De;if(Nr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else tt?re(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(M&&a.locale!=="ko"&&(tt||je!=="onCompositionStart"?je==="onCompositionEnd"&&tt&&(De=vo()):(Dr=ae,Ni="value"in Dr?Dr.value:Dr.textContent,tt=!0)),Ye=Fu(J,je),0<Ye.length&&(je=new Eo(je,t,null,a,ae),ue.push({event:je,listeners:Ye}),De?je.data=De:(De=ve(a),De!==null&&(je.data=De)))),(De=C?Bt(t,a):nt(t,a))&&(je=Fu(J,"onBeforeInput"),0<je.length&&(Ye=new Eo("onBeforeInput","beforeinput",null,a,ae),ue.push({event:Ye,listeners:je}),Ye.data=De)),eT(ue,t,J,a,ae)}Cy(ue,n)})}function el(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Fu(t,n){for(var a=n+"Capture",l=[];t!==null;){var m=t,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=Aa(t,a),m!=null&&l.unshift(el(t,m,w)),m=Aa(t,n),m!=null&&l.push(el(t,m,w))),t.tag===3)return l;t=t.return}return[]}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Oy(t,n,a,l,m){for(var w=n._reactName,N=[];a!==null&&a!==l;){var P=a,q=P.alternate,J=P.stateNode;if(P=P.tag,q!==null&&q===l)break;P!==5&&P!==26&&P!==27||J===null||(q=J,m?(J=Aa(a,w),J!=null&&N.unshift(el(a,J,q))):m||(J=Aa(a,w),J!=null&&N.push(el(a,J,q)))),a=a.return}N.length!==0&&t.push({event:n,listeners:N})}var iT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(iT,`
`).replace(aT,"")}function My(t,n){return n=Iy(n),Iy(t)===n}function Gu(){}function vt(t,n,a,l,m,w){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||er(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&er(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":po(t,l,w);break;case"data":if(n!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ss(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(a==="formAction"?(n!=="input"&&vt(t,n,"name",m.name,m,null),vt(t,n,"formEncType",m.formEncType,m,null),vt(t,n,"formMethod",m.formMethod,m,null),vt(t,n,"formTarget",m.formTarget,m,null)):(vt(t,n,"encType",m.encType,m,null),vt(t,n,"method",m.method,m,null),vt(t,n,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ss(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gu);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ss(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),dn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=df.get(a)||a,dn(t,a,l))}}function Hh(t,n,a,l,m,w){switch(a){case"style":po(t,l,w);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?er(t,l):(typeof l=="number"||typeof l=="bigint")&&er(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),w=t[ge]||null,w=w!=null?w[a]:null,typeof w=="function"&&t.removeEventListener(n,w,m),typeof l=="function")){typeof w!="function"&&w!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,m);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dn(t,a,l)}}}function on(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,m=!1,w;for(w in a)if(a.hasOwnProperty(w)){var N=a[w];if(N!=null)switch(w){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,w,N,a,null)}}m&&vt(t,n,"srcSet",a.srcSet,a,null),l&&vt(t,n,"src",a.src,a,null);return;case"input":Ze("invalid",t);var P=w=N=m=null,q=null,J=null;for(l in a)if(a.hasOwnProperty(l)){var ae=a[l];if(ae!=null)switch(l){case"name":m=ae;break;case"type":N=ae;break;case"checked":q=ae;break;case"defaultChecked":J=ae;break;case"value":w=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,n));break;default:vt(t,n,l,ae,a,null)}}Ta(t,w,P,q,J,N,m,!1),as(t);return;case"select":Ze("invalid",t),l=N=w=null;for(m in a)if(a.hasOwnProperty(m)&&(P=a[m],P!=null))switch(m){case"value":w=P;break;case"defaultValue":N=P;break;case"multiple":l=P;default:vt(t,n,m,P,a,null)}n=w,a=N,t.multiple=!!l,n!=null?Wr(t,!!l,n,!1):a!=null&&Wr(t,!!l,a,!0);return;case"textarea":Ze("invalid",t),w=m=l=null;for(N in a)if(a.hasOwnProperty(N)&&(P=a[N],P!=null))switch(N){case"value":l=P;break;case"defaultValue":m=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:vt(t,n,N,P,a,null)}wa(t,l,m,w),as(t);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,n,q,l,a,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Wo.length;l++)Ze(Wo[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(l=a[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,J,l,a,null)}return;default:if(go(n)){for(ae in a)a.hasOwnProperty(ae)&&(l=a[ae],l!==void 0&&Hh(t,n,ae,l,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!=null&&vt(t,n,P,l,a,null))}function sT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,N=null,P=null,q=null,J=null,ae=null;for(ee in a){var ue=a[ee];if(a.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":q=ue;default:l.hasOwnProperty(ee)||vt(t,n,ee,null,l,ue)}}for(var W in l){var ee=l[W];if(ue=a[W],l.hasOwnProperty(W)&&(ee!=null||ue!=null))switch(W){case"type":w=ee;break;case"name":m=ee;break;case"checked":J=ee;break;case"defaultChecked":ae=ee;break;case"value":N=ee;break;case"defaultValue":P=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:ee!==ue&&vt(t,n,W,ee,l,ue)}}Ln(t,N,P,q,J,ae,w,m);return;case"select":ee=N=P=W=null;for(w in a)if(q=a[w],a.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":ee=q;default:l.hasOwnProperty(w)||vt(t,n,w,null,l,q)}for(m in l)if(w=l[m],q=a[m],l.hasOwnProperty(m)&&(w!=null||q!=null))switch(m){case"value":W=w;break;case"defaultValue":P=w;break;case"multiple":N=w;default:w!==q&&vt(t,n,m,w,l,q)}n=P,a=N,l=ee,W!=null?Wr(t,!!a,W,!1):!!l!=!!a&&(n!=null?Wr(t,!!a,n,!0):Wr(t,!!a,a?[]:"",!1));return;case"textarea":ee=W=null;for(P in a)if(m=a[P],a.hasOwnProperty(P)&&m!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:vt(t,n,P,null,l,m)}for(N in l)if(m=l[N],w=a[N],l.hasOwnProperty(N)&&(m!=null||w!=null))switch(N){case"value":W=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==w&&vt(t,n,N,m,l,w)}gt(t,W,ee);return;case"option":for(var Ue in a)if(W=a[Ue],a.hasOwnProperty(Ue)&&W!=null&&!l.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:vt(t,n,Ue,null,l,W)}for(q in l)if(W=l[q],ee=a[q],l.hasOwnProperty(q)&&W!==ee&&(W!=null||ee!=null))switch(q){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:vt(t,n,q,W,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in a)W=a[Ve],a.hasOwnProperty(Ve)&&W!=null&&!l.hasOwnProperty(Ve)&&vt(t,n,Ve,null,l,W);for(J in l)if(W=l[J],ee=a[J],l.hasOwnProperty(J)&&W!==ee&&(W!=null||ee!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:vt(t,n,J,W,l,ee)}return;default:if(go(n)){for(var _t in a)W=a[_t],a.hasOwnProperty(_t)&&W!==void 0&&!l.hasOwnProperty(_t)&&Hh(t,n,_t,void 0,l,W);for(ae in l)W=l[ae],ee=a[ae],!l.hasOwnProperty(ae)||W===ee||W===void 0&&ee===void 0||Hh(t,n,ae,W,l,ee);return}}for(var Q in a)W=a[Q],a.hasOwnProperty(Q)&&W!=null&&!l.hasOwnProperty(Q)&&vt(t,n,Q,null,l,W);for(ue in l)W=l[ue],ee=a[ue],!l.hasOwnProperty(ue)||W===ee||W==null&&ee==null||vt(t,n,ue,W,l,ee)}var Fh=null,Gh=null;function Qu(t){return t.nodeType===9?t:t.ownerDocument}function Ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Qh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yh=null;function oT(){var t=window.event;return t&&t.type==="popstate"?t===Yh?!1:(Yh=t,!0):(Yh=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(t){return jy.resolve(null).then(t).catch(cT)}:Ly;function cT(t){setTimeout(function(){throw t})}function Ki(t){return t==="head"}function ky(t,n){var a=n,l=0,m=0;do{var w=a.nextSibling;if(t.removeChild(a),w&&w.nodeType===8)if(a=w.data,a==="/$"){if(0<l&&8>l){a=l;var N=t.ownerDocument;if(a&1&&tl(N.documentElement),a&2&&tl(N.body),a&4)for(a=N.head,tl(a),N=a.firstChild;N;){var P=N.nextSibling,q=N.nodeName;N[Ne]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=P}}if(m===0){t.removeChild(w),ul(n);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:l=a.charCodeAt(0)-48;else l=0;a=w}while(a);ul(n)}function Kh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kh(a),Ae(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fT(t,n,a,l){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ne])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(w=t.getAttribute("rel"),w==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(w!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(w=t.getAttribute("src"),(w!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===w)return t}else return t;if(t=vr(t.nextSibling),t===null)break}return null}function hT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=vr(t.nextSibling),t===null))return null;return t}function Xh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function dT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function vr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Zh=null;function Py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Uy(t,n,a){switch(n=Qu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ae(t)}var cr=new Map,zy=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vi=se.d;se.d={f:mT,r:pT,D:gT,C:yT,L:vT,m:_T,X:ET,S:bT,M:TT};function mT(){var t=vi.f(),n=Uu();return t||n}function pT(t){var n=Ke(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):vi.r(t)}var zs=typeof document>"u"?null:document;function $y(t,n,a){var l=zs;if(l&&typeof n=="string"&&n){var m=kt(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),zy.has(m)||(zy.add(m),t={rel:t,crossOrigin:a,href:n},l.querySelector(m)===null&&(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function gT(t){vi.D(t),$y("dns-prefetch",t,null)}function yT(t,n){vi.C(t,n),$y("preconnect",t,n)}function vT(t,n,a){vi.L(t,n,a);var l=zs;if(l&&t&&n){var m='link[rel="preload"][as="'+kt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+kt(a.imageSizes)+'"]')):m+='[href="'+kt(t)+'"]';var w=m;switch(n){case"style":w=$s(t);break;case"script":w=Bs(t)}cr.has(w)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),cr.set(w,t),l.querySelector(m)!==null||n==="style"&&l.querySelector(nl(w))||n==="script"&&l.querySelector(rl(w))||(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function _T(t,n){vi.m(t,n);var a=zs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(t)+'"]',w=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Bs(t)}if(!cr.has(w)&&(t=E({rel:"modulepreload",href:t},n),cr.set(w,t),a.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(w)))return}l=a.createElement("link"),on(l,"link",t),et(l),a.head.appendChild(l)}}}function bT(t,n,a){vi.S(t,n,a);var l=zs;if(l&&t){var m=st(l).hoistableStyles,w=$s(t);n=n||"default";var N=m.get(w);if(!N){var P={loading:0,preload:null};if(N=l.querySelector(nl(w)))P.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=cr.get(w))&&Jh(t,a);var q=N=l.createElement("link");et(q),on(q,"link",t),q._p=new Promise(function(J,ae){q.onload=J,q.onerror=ae}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Ku(N,n,l)}N={type:"stylesheet",instance:N,count:1,state:P},m.set(w,N)}}}function ET(t,n){vi.X(t,n);var a=zs;if(a&&t){var l=st(a).hoistableScripts,m=Bs(t),w=l.get(m);w||(w=a.querySelector(rl(m)),w||(t=E({src:t,async:!0},n),(n=cr.get(m))&&Wh(t,n),w=a.createElement("script"),et(w),on(w,"link",t),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(m,w))}}function TT(t,n){vi.M(t,n);var a=zs;if(a&&t){var l=st(a).hoistableScripts,m=Bs(t),w=l.get(m);w||(w=a.querySelector(rl(m)),w||(t=E({src:t,async:!0,type:"module"},n),(n=cr.get(m))&&Wh(t,n),w=a.createElement("script"),et(w),on(w,"link",t),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(m,w))}}function By(t,n,a,l){var m=(m=xe.current)?Yu(m):null;if(!m)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$s(a.href),a=st(m).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$s(a.href);var w=st(m).hoistableStyles,N=w.get(t);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(t,N),(w=m.querySelector(nl(t)))&&!w._p&&(N.instance=w,N.state.loading=5),cr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},cr.set(t,a),w||wT(m,t,a,N.state))),n&&l===null)throw Error(s(528,""));return N}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Bs(a),a=st(m).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $s(t){return'href="'+kt(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function qy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function wT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",a),et(n),t.head.appendChild(n))}function Bs(t){return'[src="'+kt(t)+'"]'}function rl(t){return"script[async]"+t}function Hy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return n.instance=l,et(l),l;var m=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),on(l,"style",m),Ku(l,a.precedence,t),n.instance=l;case"stylesheet":m=$s(a.href);var w=t.querySelector(nl(m));if(w)return n.state.loading|=4,n.instance=w,et(w),w;l=qy(a),(m=cr.get(m))&&Jh(l,m),w=(t.ownerDocument||t).createElement("link"),et(w);var N=w;return N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(w,"link",l),n.state.loading|=4,Ku(w,a.precedence,t),n.instance=w;case"script":return w=Bs(a.src),(m=t.querySelector(rl(w)))?(n.instance=m,et(m),m):(l=a,(m=cr.get(w))&&(l=E({},a),Wh(l,m)),t=t.ownerDocument||t,m=t.createElement("script"),et(m),on(m,"link",l),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ku(l,a.precedence,t));return n.instance}function Ku(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,w=m,N=0;N<l.length;N++){var P=l[N];if(P.dataset.precedence===n)w=P;else if(w!==m)break}w?w.parentNode.insertBefore(t,w.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Jh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Xu=null;function Fy(t,n,a){if(Xu===null){var l=new Map,m=Xu=new Map;m.set(a,l)}else m=Xu,l=m.get(a),l||(l=new Map,m.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var w=a[m];if(!(w[Ne]||w[le]||t==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(n)||"";N=t+N;var P=l.get(N);P?P.push(w):l.set(N,[w])}}return l}function Gy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ST(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var il=null;function AT(){}function RT(t,n,a){if(il===null)throw Error(s(475));var l=il;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=$s(a.href),w=t.querySelector(nl(m));if(w){t=w._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Zu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=w,et(w);return}w=t.ownerDocument||t,a=qy(a),(m=cr.get(m))&&Jh(a,m),w=w.createElement("link"),et(w);var N=w;N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(w,"link",a),n.instance=w}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Zu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function xT(){if(il===null)throw Error(s(475));var t=il;return t.stylesheets&&t.count===0&&ed(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&ed(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Zu(){if(this.count--,this.count===0){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ju=null;function ed(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ju=new Map,n.forEach(CT,t),Ju=null,Zu.call(t))}function CT(t,n){if(!(n.state.loading&4)){var a=Ju.get(t);if(a)var l=a.get(null);else{a=new Map,Ju.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var N=m[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),l=N)}l&&a.set(null,l)}m=n.instance,N=m.getAttribute("data-precedence"),w=a.get(N)||l,w===l&&a.set(null,m),a.set(N,m),this.count++,l=Zu.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),w?w.parentNode.insertBefore(m,w.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var al={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function DT(t,n,a,l,m,w,N,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Yy(t,n,a,l,m,w,N,P,q,J,ae,ue){return t=new DT(t,n,a,N,P,q,J,ue),n=1,w===!0&&(n|=24),w=kn(3,null,null,n),t.current=w,w.stateNode=t,n=Lf(),n.refCount++,t.pooledCache=n,n.refCount++,w.memoizedState={element:l,isDehydrated:a,cache:n},Uf(w),t}function Ky(t){return t?(t=_s,t):_s}function Xy(t,n,a,l,m,w){m=Ky(m),l.context===null?l.context=m:l.pendingContext=m,l=ji(n),l.payload={element:a},w=w===void 0?null:w,w!==null&&(l.callback=w),a=ki(t,l,n),a!==null&&(Bn(a,t,n),Lo(a,t,n))}function Zy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function td(t,n){Zy(t,n),(t=t.alternate)&&Zy(t,n)}function Jy(t){if(t.tag===13){var n=vs(t,67108864);n!==null&&Bn(n,t,67108864),td(t,67108864)}}var Wu=!0;function OT(t,n,a,l){var m=G.T;G.T=null;var w=se.p;try{se.p=2,nd(t,n,a,l)}finally{se.p=w,G.T=m}}function IT(t,n,a,l){var m=G.T;G.T=null;var w=se.p;try{se.p=8,nd(t,n,a,l)}finally{se.p=w,G.T=m}}function nd(t,n,a,l){if(Wu){var m=rd(l);if(m===null)qh(t,n,l,ec,a),ev(t,l);else if(NT(m,t,n,a,l))l.stopPropagation();else if(ev(t,l),n&4&&-1<MT.indexOf(t)){for(;m!==null;){var w=Ke(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=Mn(w.pendingLanes);if(N!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var q=1<<31-Lt(N);P.entanglements[1]|=q,N&=~q}Ur(w),(dt&6)===0&&(ku=bn()+500,Jo(0))}}break;case 13:P=vs(w,2),P!==null&&Bn(P,w,2),Uu(),td(w,2)}if(w=rd(l),w===null&&qh(t,n,l,ec,a),w===m)break;m=w}m!==null&&l.stopPropagation()}else qh(t,n,l,null,a)}}function rd(t){return t=tr(t),id(t)}var ec=null;function id(t){if(ec=null,t=Le(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=h(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ec=t,null}function Wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fo()){case _a:return 2;case Ai:return 8;case Kr:case dr:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var ad=!1,Xi=null,Zi=null,Ji=null,sl=new Map,ol=new Map,Wi=[],MT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,n){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(n.pointerId)}}function ll(t,n,a,l,m,w){return t===null||t.nativeEvent!==w?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:w,targetContainers:[m]},n!==null&&(n=Ke(n),n!==null&&Jy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function NT(t,n,a,l,m){switch(n){case"focusin":return Xi=ll(Xi,t,n,a,l,m),!0;case"dragenter":return Zi=ll(Zi,t,n,a,l,m),!0;case"mouseover":return Ji=ll(Ji,t,n,a,l,m),!0;case"pointerover":var w=m.pointerId;return sl.set(w,ll(sl.get(w)||null,t,n,a,l,m)),!0;case"gotpointercapture":return w=m.pointerId,ol.set(w,ll(ol.get(w)||null,t,n,a,l,m)),!0}return!1}function tv(t){var n=Le(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){t.blockedOn=n,Y(t.priority,function(){if(a.tag===13){var l=$n();l=Ar(l);var m=vs(a,l);m!==null&&Bn(m,a,l),td(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ei=l,a.target.dispatchEvent(l),ei=null}else return n=Ke(a),n!==null&&Jy(n),t.blockedOn=a,!1;n.shift()}return!0}function nv(t,n,a){tc(t)&&a.delete(n)}function VT(){ad=!1,Xi!==null&&tc(Xi)&&(Xi=null),Zi!==null&&tc(Zi)&&(Zi=null),Ji!==null&&tc(Ji)&&(Ji=null),sl.forEach(nv),ol.forEach(nv)}function nc(t,n){t.blockedOn===n&&(t.blockedOn=null,ad||(ad=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,VT)))}var rc=null;function rv(t){rc!==t&&(rc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rc===t&&(rc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],m=t[n+2];if(typeof l!="function"){if(id(l||a)===null)continue;break}var w=Ke(a);w!==null&&(t.splice(n,3),n-=3,ih(w,{pending:!0,data:m,method:a.method,action:l},l,m))}}))}function ul(t){function n(q){return nc(q,t)}Xi!==null&&nc(Xi,t),Zi!==null&&nc(Zi,t),Ji!==null&&nc(Ji,t),sl.forEach(n),ol.forEach(n);for(var a=0;a<Wi.length;a++){var l=Wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var m=a[l],w=a[l+1],N=m[ge]||null;if(typeof w=="function")N||rv(a);else if(N){var P=null;if(w&&w.hasAttribute("formAction")){if(m=w,N=w[ge]||null)P=N.formAction;else if(id(m)!==null)continue}else P=N.action;typeof P=="function"?a[l+1]=P:(a.splice(l,3),l-=3),rv(a)}}}function sd(t){this._internalRoot=t}ic.prototype.render=sd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=$n();Xy(a,l,t,n,null,null)},ic.prototype.unmount=sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xy(t.current,2,null,t,null,null),Uu(),n[Ee]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=H();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Wi.length&&n!==0&&n<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&tv(t)}};var iv=e.version;if(iv!=="19.1.0")throw Error(s(527,iv,"19.1.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var LT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{lt=ac.inject(LT),He=ac}catch{}}return fl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",m=bg,w=Eg,N=Tg,P=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=Yy(t,1,!1,null,null,a,l,m,w,N,P,null),t[Ee]=n.current,Bh(t),new sd(n)},fl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,m="",w=bg,N=Eg,P=Tg,q=null,J=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(w=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks),a.formState!==void 0&&(J=a.formState)),n=Yy(t,1,!0,n,a??null,l,m,w,N,P,q,J),n.context=Ky(null),a=n.current,l=$n(),l=Ar(l),m=ji(l),m.callback=null,ki(a,m,l),a=l,n.current.lanes=a,mr(n,a),Ur(n),t[Ee]=n.current,Bh(t),new ic(n)},fl.version="19.1.0",fl}var pv;function FT(){if(pv)return ud.exports;pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ud.exports=HT(),ud.exports}var GT=FT(),hl={},gv;function QT(){if(gv)return hl;gv=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.parse=h,hl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function h(p,_){const v=new u,b=p.length;if(b<2)return v;const R=(_==null?void 0:_.decode)||E;let T=0;do{const A=p.indexOf("=",T);if(A===-1)break;const D=p.indexOf(";",T),V=D===-1?b:D;if(A>V){T=p.lastIndexOf(";",A-1)+1;continue}const j=c(p,T,A),L=g(p,A,j),I=p.slice(j,L);if(v[I]===void 0){let S=c(p,A+1,V),x=g(p,V,S);const O=R(p.slice(S,x));v[I]=O}T=V+1}while(T<b);return v}function c(p,_,v){do{const b=p.charCodeAt(_);if(b!==32&&b!==9)return _}while(++_<v);return v}function g(p,_,v){for(;_>v;){const b=p.charCodeAt(--_);if(b!==32&&b!==9)return _+1}return v}function y(p,_,v){const b=(v==null?void 0:v.encode)||encodeURIComponent;if(!i.test(p))throw new TypeError(`argument name is invalid: ${p}`);const R=b(_);if(!e.test(R))throw new TypeError(`argument val is invalid: ${_}`);let T=p+"="+R;if(!v)return T;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);T+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);T+="; Domain="+v.domain}if(v.path){if(!s.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);T+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);T+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(T+="; HttpOnly"),v.secure&&(T+="; Secure"),v.partitioned&&(T+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return T}function E(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function d(p){return o.call(p)==="[object Date]"}return hl}QT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z_=i=>{throw TypeError(i)},YT=(i,e,r)=>e.has(i)||Z_("Cannot "+r),dd=(i,e,r)=>(YT(i,e,"read from private field"),r?r.call(i):e.get(i)),KT=(i,e,r)=>e.has(i)?Z_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,r),yv="popstate";function XT(i={}){function e(o,u){let{pathname:h="/",search:c="",hash:g=""}=Si(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Rl("",{pathname:h,search:c,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let h=o.document.querySelector("base"),c="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");c=y===-1?g:g.slice(0,y)}return c+"#"+(typeof u=="string"?u:la(u))}function s(o,u){Vt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return JT(e,r,s,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZT(){return Math.random().toString(36).substring(2,10)}function vv(i,e){return{usr:i.state,key:i.key,idx:e}}function Rl(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Si(e):e,state:r,key:e&&e.key||s||ZT()}}function la({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Si(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function JT(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,c="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function d(){c="POP";let R=E(),T=R==null?null:R-y;y=R,g&&g({action:c,location:b.location,delta:T})}function p(R,T){c="PUSH";let A=Rl(b.location,R,T);r&&r(A,R),y=E()+1;let D=vv(A,y),V=b.createHref(A);try{h.pushState(D,"",V)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(V)}u&&g&&g({action:c,location:b.location,delta:1})}function _(R,T){c="REPLACE";let A=Rl(b.location,R,T);r&&r(A,R),y=E();let D=vv(A,y),V=b.createHref(A);h.replaceState(D,"",V),u&&g&&g({action:c,location:b.location,delta:0})}function v(R){let T=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof R=="string"?R:la(R);return A=A.replace(/ $/,"%20"),Je(T,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,T)}let b={get action(){return c},get location(){return i(o,h)},listen(R){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,d),g=R,()=>{o.removeEventListener(yv,d),g=null}},createHref(R){return e(o,R)},createURL:v,encodeLocation(R){let T=v(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:_,go(R){return h.go(R)}};return b}var gl,_v=class{constructor(i){if(KT(this,gl,new Map),i)for(let[e,r]of i)this.set(e,r)}get(i){if(dd(this,gl).has(i))return dd(this,gl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){dd(this,gl).set(i,e)}};gl=new WeakMap;var WT=new Set(["lazy","caseSensitive","path","id","index","children"]);function ew(i){return WT.has(i)}var tw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function nw(i){return tw.has(i)}function rw(i){return i.index===!0}function Tc(i,e,r=[],s={}){return i.map((o,u)=>{let h=[...r,String(u)],c=typeof o.id=="string"?o.id:h.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!s[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),rw(o)){let g={...o,...e(o),id:c};return s[c]=g,g}else{let g={...o,...e(o),id:c,children:void 0};return s[c]=g,o.children&&(g.children=Tc(o.children,e,h,s)),g}})}function na(i,e,r="/"){return dc(i,e,r,!1)}function dc(i,e,r,s){let o=typeof e=="string"?Si(e):e,u=hr(o.pathname||"/",r);if(u==null)return null;let h=J_(i);aw(h);let c=null;for(let g=0;c==null&&g<h.length;++g){let y=gw(u);c=mw(h[g],y,s)}return c}function iw(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function J_(i,e=[],r=[],s=""){let o=(u,h,c)=>{let g={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=$r([s,g.relativePath]),E=r.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),J_(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:hw(y,u.index),routesMeta:E})};return i.forEach((u,h)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,h);else for(let g of W_(u.path))o(u,h,g)}),e}function W_(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=W_(s.join("/")),c=[];return c.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&c.push(...h),c.map(g=>i.startsWith("/")&&g===""?"/":g)}function aw(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:dw(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var sw=/^:[\w-]+$/,ow=3,lw=2,uw=1,cw=10,fw=-2,bv=i=>i==="*";function hw(i,e){let r=i.split("/"),s=r.length;return r.some(bv)&&(s+=fw),e&&(s+=lw),r.filter(o=>!bv(o)).reduce((o,u)=>o+(sw.test(u)?ow:u===""?uw:cw),s)}function dw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function mw(i,e,r=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let c=0;c<s.length;++c){let g=s[c],y=c===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",d=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),p=g.route;if(!d&&y&&r&&!s[s.length-1].route.index&&(d=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!d)return null;Object.assign(o,d.params),h.push({params:o,pathname:$r([u,d.pathname]),pathnameBase:_w($r([u,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(u=$r([u,d.pathnameBase]))}return h}function wc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=pw(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:d},p)=>{if(E==="*"){let v=c[p]||"";h=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const _=c[p];return d&&!_?y[E]=void 0:y[E]=(_||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function pw(i,e=!1,r=!0){Vt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,c,g)=>(s.push({paramName:c,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function gw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function yw(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?Si(i):i;return{pathname:r?r.startsWith("/")?r:vw(r,e):e,search:bw(s),hash:Ew(o)}}function vw(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function md(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e0(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tm(i){let e=e0(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function nm(i,e,r,s=!1){let o;typeof i=="string"?o=Si(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),md("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),md("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),md("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,c;if(h==null)c=r;else{let d=e.length-1;if(!s&&h.startsWith("..")){let p=h.split("/");for(;p[0]==="..";)p.shift(),d-=1;o.pathname=p.join("/")}c=d>=0?e[d]:"/"}let g=yw(o,c),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var $r=i=>i.join("/").replace(/\/\/+/g,"/"),_w=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ew=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Sc=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function xl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var t0=["POST","PUT","PATCH","DELETE"],Tw=new Set(t0),ww=["GET",...t0],Sw=new Set(ww),Aw=new Set([301,302,303,307,308]),Rw=new Set([307,308]),pd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),n0="remix-router-transitions",r0=Symbol("ResetLoaderData");function Dw(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||Cw,u={},h=Tc(i.routes,o,void 0,u),c,g=i.basename||"/",y=i.dataStrategy||Vw,E={unstable_middleware:!1,...i.future},d=null,p=new Set,_=null,v=null,b=null,R=i.hydrationData!=null,T=na(h,i.history.location,g),A=!1,D=null;if(T==null&&!i.patchRoutesOnNavigation){let H=fr(404,{pathname:i.history.location.pathname}),{matches:Y,route:Z}=Mv(h);T=Y,D={[Z.id]:H}}T&&!i.hydrationData&&En(T,h,i.history.location.pathname).active&&(T=null);let V;if(T)if(T.some(H=>H.route.lazy))V=!1;else if(!T.some(H=>H.route.loader))V=!0;else{let H=i.hydrationData?i.hydrationData.loaderData:null,Y=i.hydrationData?i.hydrationData.errors:null;if(Y){let Z=T.findIndex(le=>Y[le.route.id]!==void 0);V=T.slice(0,Z+1).every(le=>!Dd(le.route,H,Y))}else V=T.every(Z=>!Dd(Z.route,H,Y))}else{V=!1,T=[];let H=En(null,h,i.history.location.pathname);H.active&&H.matches&&(A=!0,T=H.matches)}let j,L={historyAction:i.history.action,location:i.history.location,matches:T,initialized:V,navigation:pd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||D,fetchers:new Map,blockers:new Map},I="POP",S=!1,x,O=!1,k=new Map,$=null,U=!1,he=!1,pe=new Set,G=new Map,se=0,ye=-1,Re=new Map,B=new Set,te=new Map,me=new Map,ce=new Set,_e=new Map,ke,xe=null;function Tt(){if(d=i.history.listen(({action:H,location:Y,delta:Z})=>{if(ke){ke(),ke=void 0;return}Vt(_e.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Ci({currentLocation:L.location,nextLocation:Y,historyAction:H});if(le&&Z!=null){let ge=new Promise(Ee=>{ke=Ee});i.history.go(Z*-1),Xn(le,{state:"blocked",location:Y,proceed(){Xn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ge.then(()=>i.history.go(Z))},reset(){let Ee=new Map(L.blockers);Ee.set(le,dl),St({blockers:Ee})}});return}return _n(H,Y)}),r){Fw(e,k);let H=()=>Gw(e,k);e.addEventListener("pagehide",H),$=()=>e.removeEventListener("pagehide",H)}return L.initialized||_n("POP",L.location,{initialHydration:!0}),j}function pt(){d&&d(),$&&$(),p.clear(),x&&x.abort(),L.fetchers.forEach((H,Y)=>Lt(Y)),L.blockers.forEach((H,Y)=>Xr(Y))}function Qn(H){return p.add(H),()=>p.delete(H)}function St(H,Y={}){L={...L,...H};let Z=[],le=[];L.fetchers.forEach((ge,Ee)=>{ge.state==="idle"&&(ce.has(Ee)?Z.push(Ee):le.push(Ee))}),ce.forEach(ge=>{!L.fetchers.has(ge)&&!G.has(ge)&&Z.push(ge)}),[...p].forEach(ge=>ge(L,{deletedFetchers:Z,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),Z.forEach(ge=>Lt(ge)),le.forEach(ge=>L.fetchers.delete(ge))}function fn(H,Y,{flushSync:Z}={}){var Ce,Ne;let le=L.actionData!=null&&L.navigation.formMethod!=null&&Hn(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Ce=H.state)==null?void 0:Ce._isRedirect)!==!0,ge;Y.actionData?Object.keys(Y.actionData).length>0?ge=Y.actionData:ge=null:le?ge=L.actionData:ge=null;let Ee=Y.loaderData?Ov(L.loaderData,Y.loaderData,Y.matches||[],Y.errors):L.loaderData,Ie=L.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Ae,Le)=>Ie.set(Le,dl)));let Te=S===!0||L.navigation.formMethod!=null&&Hn(L.navigation.formMethod)&&((Ne=H.state)==null?void 0:Ne._isRedirect)!==!0;c&&(h=c,c=void 0),U||I==="POP"||(I==="PUSH"?i.history.push(H,H.state):I==="REPLACE"&&i.history.replace(H,H.state));let Se;if(I==="POP"){let Ae=k.get(L.location.pathname);Ae&&Ae.has(H.pathname)?Se={currentLocation:L.location,nextLocation:H}:k.has(H.pathname)&&(Se={currentLocation:H,nextLocation:L.location})}else if(O){let Ae=k.get(L.location.pathname);Ae?Ae.add(H.pathname):(Ae=new Set([H.pathname]),k.set(L.location.pathname,Ae)),Se={currentLocation:L.location,nextLocation:H}}St({...Y,actionData:ge,loaderData:Ee,historyAction:I,location:H,initialized:!0,navigation:pd,revalidation:"idle",restoreScrollPosition:Di(H,Y.matches||L.matches),preventScrollReset:Te,blockers:Ie},{viewTransitionOpts:Se,flushSync:Z===!0}),I="POP",S=!1,O=!1,U=!1,he=!1,xe==null||xe.resolve(),xe=null}async function br(H,Y){if(typeof H=="number"){i.history.go(H);return}let Z=Cd(L.location,L.matches,g,H,Y==null?void 0:Y.fromRouteId,Y==null?void 0:Y.relative),{path:le,submission:ge,error:Ee}=Ev(!1,Z,Y),Ie=L.location,Te=Rl(L.location,le,Y&&Y.state);Te={...Te,...i.history.encodeLocation(Te)};let Se=Y&&Y.replace!=null?Y.replace:void 0,Ce="PUSH";Se===!0?Ce="REPLACE":Se===!1||ge!=null&&Hn(ge.formMethod)&&ge.formAction===L.location.pathname+L.location.search&&(Ce="REPLACE");let Ne=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Ae=(Y&&Y.flushSync)===!0,Le=Ci({currentLocation:Ie,nextLocation:Te,historyAction:Ce});if(Le){Xn(Le,{state:"blocked",location:Te,proceed(){Xn(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),br(H,Y)},reset(){let Ke=new Map(L.blockers);Ke.set(Le,dl),St({blockers:Ke})}});return}await _n(Ce,Te,{submission:ge,pendingError:Ee,preventScrollReset:Ne,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Ae})}function Yr(){xe||(xe=Qw()),xi(),St({revalidation:"loading"});let H=xe.promise;return L.navigation.state==="submitting"?H:L.navigation.state==="idle"?(_n(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),H):(_n(I||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:O===!0}),H)}async function _n(H,Y,Z){x&&x.abort(),x=null,I=H,U=(Z&&Z.startUninterruptedRevalidation)===!0,mr(L.location,L.matches),S=(Z&&Z.preventScrollReset)===!0,O=(Z&&Z.enableViewTransition)===!0;let le=c||h,ge=Z&&Z.overrideNavigation,Ee=Z!=null&&Z.initialHydration&&L.matches&&L.matches.length>0&&!A?L.matches:na(le,Y,g),Ie=(Z&&Z.flushSync)===!0;if(Ee&&L.initialized&&!he&&zw(L.location,Y)&&!(Z&&Z.submission&&Hn(Z.submission.formMethod))){fn(Y,{matches:Ee},{flushSync:Ie});return}let Te=En(Ee,le,Y.pathname);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){let{error:st,notFoundMatches:et,route:Qe}=Zr(Y.pathname);fn(Y,{matches:et,loaderData:{},errors:{[Qe.id]:st}},{flushSync:Ie});return}x=new AbortController;let Se=Hs(i.history,Y,x.signal,Z&&Z.submission),Ce=new _v(i.unstable_getContext?await i.unstable_getContext():void 0),Ne;if(Z&&Z.pendingError)Ne=[Ya(Ee).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Hn(Z.submission.formMethod)){let st=await va(Se,Y,Z.submission,Ee,Ce,Te.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Ie});if(st.shortCircuited)return;if(st.pendingActionResult){let[et,Qe]=st.pendingActionResult;if(qn(Qe)&&xl(Qe.error)&&Qe.error.status===404){x=null,fn(Y,{matches:st.matches,loaderData:{},errors:{[et]:Qe.error}});return}}Ee=st.matches||Ee,Ne=st.pendingActionResult,ge=gd(Y,Z.submission),Ie=!1,Te.active=!1,Se=Hs(i.history,Se.url,Se.signal)}let{shortCircuited:Ae,matches:Le,loaderData:Ke,errors:ct}=await rs(Se,Y,Ee,Ce,Te.active,ge,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ie,Ne);Ae||(x=null,fn(Y,{matches:Le||Ee,...Iv(Ne),loaderData:Ke,errors:ct}))}async function va(H,Y,Z,le,ge,Ee,Ie,Te={}){xi();let Se=qw(Y,Z);if(St({navigation:Se},{flushSync:Te.flushSync===!0}),Ee){let Ae=await Sr(le,Y.pathname,H.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let Le=Ya(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Le,{type:"error",error:Ae.error}]}}else if(Ae.matches)le=Ae.matches;else{let{notFoundMatches:Le,error:Ke,route:ct}=Zr(Y.pathname);return{matches:Le,pendingActionResult:[ct.id,{type:"error",error:Ke}]}}}let Ce,Ne=yl(le,Y);if(!Ne.route.action&&!Ne.route.lazy)Ce={type:"error",error:fr(405,{method:H.method,pathname:Y.pathname,routeId:Ne.route.id})};else{let Ae=Ks(o,u,H,le,Ne,Ie?[]:s,ge),Le=await Yn(H,Ae,ge,null);if(Ce=Le[Ne.route.id],!Ce){for(let Ke of le)if(Le[Ke.route.id]){Ce=Le[Ke.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Ka(Ce)){let Ae;return Te&&Te.replace!=null?Ae=Te.replace:Ae=xv(Ce.response.headers.get("Location"),new URL(H.url),g)===L.location.pathname+L.location.search,await dr(H,Ce,!0,{submission:Z,replace:Ae}),{shortCircuited:!0}}if(qn(Ce)){let Ae=Ya(le,Ne.route.id);return(Te&&Te.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Ae.route.id,Ce,Ne.route.id]}}return{matches:le,pendingActionResult:[Ne.route.id,Ce]}}async function rs(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce,Ne,Ae){let Le=Ee||gd(Y,Ie),Ke=Ie||Te||Vv(Le),ct=!U&&!Ce;if(ge){if(ct){let jt=bn(Ae);St({navigation:Le,...jt!==void 0?{actionData:jt}:{}},{flushSync:Ne})}let ze=await Sr(Z,Y.pathname,H.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let jt=Ya(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[jt]:ze.error}}}else if(ze.matches)Z=ze.matches;else{let{error:jt,notFoundMatches:Vn,route:Rn}=Zr(Y.pathname);return{matches:Vn,loaderData:{},errors:{[Rn.id]:jt}}}}let st=c||h,{dsMatches:et,revalidatingFetchers:Qe}=Tv(H,le,o,u,i.history,L,Z,Ke,Y,Ce?[]:s,Ce===!0,he,pe,ce,te,B,st,g,Ae);if(ye=++se,!i.dataStrategy&&!et.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Tr();return fn(Y,{matches:Z,loaderData:{},errors:Ae&&qn(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...Iv(Ae),...ze?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(ct){let ze={};if(!ge){ze.navigation=Le;let jt=bn(Ae);jt!==void 0&&(ze.actionData=jt)}Qe.length>0&&(ze.fetchers=fo(Qe)),St(ze,{flushSync:Ne})}Qe.forEach(ze=>{Kn(ze.key),ze.controller&&G.set(ze.key,ze.controller)});let Jn=()=>Qe.forEach(ze=>Kn(ze.key));x&&x.signal.addEventListener("abort",Jn);let{loaderResults:$t,fetcherResults:Tn}=await Ri(et,Qe,H,le);if(H.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Jn),Qe.forEach(ze=>G.delete(ze.key));let tn=sc($t);if(tn)return await dr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};if(tn=sc(Tn),tn)return B.add(tn.key),await dr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Rr,errors:Nn}=Dv(L,Z,$t,Ae,Qe,Tn);Ce&&L.errors&&(Nn={...L.errors,...Nn});let Ii=Tr(),dn=wr(ye),wn=Ii||dn||Qe.length>0;return{matches:Z,loaderData:Rr,errors:Nn,...wn?{fetchers:new Map(L.fetchers)}:{}}}function bn(H){if(H&&!qn(H[1]))return{[H[0]]:H[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function fo(H){return H.forEach(Y=>{let Z=L.fetchers.get(Y.key),le=ml(void 0,Z?Z.data:void 0);L.fetchers.set(Y.key,le)}),new Map(L.fetchers)}async function _a(H,Y,Z,le){Kn(H);let ge=(le&&le.flushSync)===!0,Ee=c||h,Ie=Cd(L.location,L.matches,g,Z,Y,le==null?void 0:le.relative),Te=na(Ee,Ie,g),Se=En(Te,Ee,Ie);if(Se.active&&Se.matches&&(Te=Se.matches),!Te){He(H,Y,fr(404,{pathname:Ie}),{flushSync:ge});return}let{path:Ce,submission:Ne,error:Ae}=Ev(!0,Ie,le);if(Ae){He(H,Y,Ae,{flushSync:ge});return}let Le=yl(Te,Ce),Ke=new _v(i.unstable_getContext?await i.unstable_getContext():void 0),ct=(le&&le.preventScrollReset)===!0;if(Ne&&Hn(Ne.formMethod)){await Ai(H,Y,Ce,Le,Te,Ke,Se.active,ge,ct,Ne);return}te.set(H,{routeId:Y,path:Ce}),await Kr(H,Y,Ce,Le,Te,Ke,Se.active,ge,ct,Ne)}async function Ai(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce){xi(),te.delete(H);function Ne(bt){if(!bt.route.action&&!bt.route.lazy){let Wn=fr(405,{method:Ce.formMethod,pathname:Z,routeId:Y});return He(H,Y,Wn,{flushSync:Te}),!0}return!1}if(!Ie&&Ne(le))return;let Ae=L.fetchers.get(H);lt(H,Hw(Ce,Ae),{flushSync:Te});let Le=new AbortController,Ke=Hs(i.history,Z,Le.signal,Ce);if(Ie){let bt=await Sr(ge,Z,Ke.signal,H);if(bt.type==="aborted")return;if(bt.type==="error"){He(H,Y,bt.error,{flushSync:Te});return}else if(bt.matches){if(ge=bt.matches,le=yl(ge,Z),Ne(le))return}else{He(H,Y,fr(404,{pathname:Z}),{flushSync:Te});return}}G.set(H,Le);let ct=se,st=Ks(o,u,Ke,ge,le,s,Ee),Qe=(await Yn(Ke,st,Ee,H))[le.route.id];if(Ke.signal.aborted){G.get(H)===Le&&G.delete(H);return}if(ce.has(H)){if(Ka(Qe)||qn(Qe)){lt(H,ta(void 0));return}}else{if(Ka(Qe))if(G.delete(H),ye>ct){lt(H,ta(void 0));return}else return B.add(H),lt(H,ml(Ce)),dr(Ke,Qe,!1,{fetcherSubmission:Ce,preventScrollReset:Se});if(qn(Qe)){He(H,Y,Qe.error);return}}let Jn=L.navigation.location||L.location,$t=Hs(i.history,Jn,Le.signal),Tn=c||h,tn=L.navigation.state!=="idle"?na(Tn,L.navigation.location,g):L.matches;Je(tn,"Didn't find any matches after fetcher action");let Rr=++se;Re.set(H,Rr);let Nn=ml(Ce,Qe.data);L.fetchers.set(H,Nn);let{dsMatches:Ii,revalidatingFetchers:dn}=Tv($t,Ee,o,u,i.history,L,tn,Ce,Jn,s,!1,he,pe,ce,te,B,Tn,g,[le.route.id,Qe]);dn.filter(bt=>bt.key!==H).forEach(bt=>{let Wn=bt.key,Jr=L.fetchers.get(Wn),nn=ml(void 0,Jr?Jr.data:void 0);L.fetchers.set(Wn,nn),Kn(Wn),bt.controller&&G.set(Wn,bt.controller)}),St({fetchers:new Map(L.fetchers)});let wn=()=>dn.forEach(bt=>Kn(bt.key));Le.signal.addEventListener("abort",wn);let{loaderResults:ze,fetcherResults:jt}=await Ri(Ii,dn,$t,Ee);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",wn),Re.delete(H),G.delete(H),dn.forEach(bt=>G.delete(bt.key));let Vn=sc(ze);if(Vn)return dr($t,Vn.result,!1,{preventScrollReset:Se});if(Vn=sc(jt),Vn)return B.add(Vn.key),dr($t,Vn.result,!1,{preventScrollReset:Se});let{loaderData:Rn,errors:xr}=Dv(L,tn,ze,void 0,dn,jt);if(L.fetchers.has(H)){let bt=ta(Qe.data);L.fetchers.set(H,bt)}wr(Rr),L.navigation.state==="loading"&&Rr>ye?(Je(I,"Expected pending action"),x&&x.abort(),fn(L.navigation.location,{matches:tn,loaderData:Rn,errors:xr,fetchers:new Map(L.fetchers)})):(St({errors:xr,loaderData:Ov(L.loaderData,Rn,tn,xr),fetchers:new Map(L.fetchers)}),he=!1)}async function Kr(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce){let Ne=L.fetchers.get(H);lt(H,ml(Ce,Ne?Ne.data:void 0),{flushSync:Te});let Ae=new AbortController,Le=Hs(i.history,Z,Ae.signal);if(Ie){let Qe=await Sr(ge,Z,Le.signal,H);if(Qe.type==="aborted")return;if(Qe.type==="error"){He(H,Y,Qe.error,{flushSync:Te});return}else if(Qe.matches)ge=Qe.matches,le=yl(ge,Z);else{He(H,Y,fr(404,{pathname:Z}),{flushSync:Te});return}}G.set(H,Ae);let Ke=se,ct=Ks(o,u,Le,ge,le,s,Ee),et=(await Yn(Le,ct,Ee,H))[le.route.id];if(G.get(H)===Ae&&G.delete(H),!Le.signal.aborted){if(ce.has(H)){lt(H,ta(void 0));return}if(Ka(et))if(ye>Ke){lt(H,ta(void 0));return}else{B.add(H),await dr(Le,et,!1,{preventScrollReset:Se});return}if(qn(et)){He(H,Y,et.error);return}lt(H,ta(et.data))}}async function dr(H,Y,Z,{submission:le,fetcherSubmission:ge,preventScrollReset:Ee,replace:Ie}={}){Y.response.headers.has("X-Remix-Revalidate")&&(he=!0);let Te=Y.response.headers.get("Location");Je(Te,"Expected a Location header on the redirect Response"),Te=xv(Te,new URL(H.url),g);let Se=Rl(L.location,Te,{_isRedirect:!0});if(r){let ct=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(rm.test(Te)){const st=i.history.createURL(Te);ct=st.origin!==e.location.origin||hr(st.pathname,g)==null}if(ct){Ie?e.location.replace(Te):e.location.assign(Te);return}}x=null;let Ce=Ie===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ae,formEncType:Le}=L.navigation;!le&&!ge&&Ne&&Ae&&Le&&(le=Vv(L.navigation));let Ke=le||ge;if(Rw.has(Y.response.status)&&Ke&&Hn(Ke.formMethod))await _n(Ce,Se,{submission:{...Ke,formAction:Te},preventScrollReset:Ee||S,enableViewTransition:Z?O:void 0});else{let ct=gd(Se,le);await _n(Ce,Se,{overrideNavigation:ct,fetcherSubmission:ge,preventScrollReset:Ee||S,enableViewTransition:Z?O:void 0})}}async function Yn(H,Y,Z,le){let ge,Ee={};try{ge=await Lw(y,H,Y,le,Z,!1)}catch(Ie){return Y.filter(Te=>Te.shouldLoad).forEach(Te=>{Ee[Te.route.id]={type:"error",error:Ie}}),Ee}for(let[Ie,Te]of Object.entries(ge))if($w(Te)){let Se=Te.result;Ee[Ie]={type:"redirect",response:Pw(Se,H,Ie,Y,g)}}else Ee[Ie]=await kw(Te);return Ee}async function Ri(H,Y,Z,le){let ge=Yn(Z,H,le,null),Ee=Promise.all(Y.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Ne=(await Yn(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Ne}}else return Promise.resolve({[Se.key]:{type:"error",error:fr(404,{pathname:Se.path})}})})),Ie=await ge,Te=(await Ee).reduce((Se,Ce)=>Object.assign(Se,Ce),{});return{loaderResults:Ie,fetcherResults:Te}}function xi(){he=!0,te.forEach((H,Y)=>{G.has(Y)&&pe.add(Y),Kn(Y)})}function lt(H,Y,Z={}){L.fetchers.set(H,Y),St({fetchers:new Map(L.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function He(H,Y,Z,le={}){let ge=Ya(L.matches,Y);Lt(H),St({errors:{[ge.route.id]:Z},fetchers:new Map(L.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function hn(H){return me.set(H,(me.get(H)||0)+1),ce.has(H)&&ce.delete(H),L.fetchers.get(H)||xw}function Lt(H){let Y=L.fetchers.get(H);G.has(H)&&!(Y&&Y.state==="loading"&&Re.has(H))&&Kn(H),te.delete(H),Re.delete(H),B.delete(H),ce.delete(H),pe.delete(H),L.fetchers.delete(H)}function is(H){let Y=(me.get(H)||0)-1;Y<=0?(me.delete(H),ce.add(H)):me.set(H,Y),St({fetchers:new Map(L.fetchers)})}function Kn(H){let Y=G.get(H);Y&&(Y.abort(),G.delete(H))}function Er(H){for(let Y of H){let Z=hn(Y),le=ta(Z.data);L.fetchers.set(Y,le)}}function Tr(){let H=[],Y=!1;for(let Z of B){let le=L.fetchers.get(Z);Je(le,`Expected fetcher: ${Z}`),le.state==="loading"&&(B.delete(Z),H.push(Z),Y=!0)}return Er(H),Y}function wr(H){let Y=[];for(let[Z,le]of Re)if(le<H){let ge=L.fetchers.get(Z);Je(ge,`Expected fetcher: ${Z}`),ge.state==="loading"&&(Kn(Z),Re.delete(Z),Y.push(Z))}return Er(Y),Y.length>0}function Mn(H,Y){let Z=L.blockers.get(H)||dl;return _e.get(H)!==Y&&_e.set(H,Y),Z}function Xr(H){L.blockers.delete(H),_e.delete(H)}function Xn(H,Y){let Z=L.blockers.get(H)||dl;Je(Z.state==="unblocked"&&Y.state==="blocked"||Z.state==="blocked"&&Y.state==="blocked"||Z.state==="blocked"&&Y.state==="proceeding"||Z.state==="blocked"&&Y.state==="unblocked"||Z.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${Y.state}`);let le=new Map(L.blockers);le.set(H,Y),St({blockers:le})}function Ci({currentLocation:H,nextLocation:Y,historyAction:Z}){if(_e.size===0)return;_e.size>1&&Vt(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[ge,Ee]=le[le.length-1],Ie=L.blockers.get(ge);if(!(Ie&&Ie.state==="proceeding")&&Ee({currentLocation:H,nextLocation:Y,historyAction:Z}))return ge}function Zr(H){let Y=fr(404,{pathname:H}),Z=c||h,{matches:le,route:ge}=Mv(Z);return{notFoundMatches:le,route:ge,error:Y}}function ba(H,Y,Z){if(_=H,b=Y,v=Z||null,!R&&L.navigation===pd){R=!0;let le=Di(L.location,L.matches);le!=null&&St({restoreScrollPosition:le})}return()=>{_=null,b=null,v=null}}function Zn(H,Y){return v&&v(H,Y.map(le=>iw(le,L.loaderData)))||H.key}function mr(H,Y){if(_&&b){let Z=Zn(H,Y);_[Z]=b()}}function Di(H,Y){if(_){let Z=Zn(H,Y),le=_[Z];if(typeof le=="number")return le}return null}function En(H,Y,Z){if(i.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:dc(Y,Z,g,!0)}}else return{active:!0,matches:dc(Y,Z,g,!0)||[]};return{active:!1,matches:null}}async function Sr(H,Y,Z,le){if(!i.patchRoutesOnNavigation)return{type:"success",matches:H};let ge=H;for(;;){let Ee=c==null,Ie=c||h,Te=u;try{await i.patchRoutesOnNavigation({signal:Z,path:Y,matches:ge,fetcherKey:le,patch:(Ne,Ae)=>{Z.aborted||wv(Ne,Ae,Ie,Te,o)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:ge}}finally{Ee&&!Z.aborted&&(h=[...h])}if(Z.aborted)return{type:"aborted"};let Se=na(Ie,Y,g);if(Se)return{type:"success",matches:Se};let Ce=dc(Ie,Y,g,!0);if(!Ce||ge.length===Ce.length&&ge.every((Ne,Ae)=>Ne.route.id===Ce[Ae].route.id))return{type:"success",matches:null};ge=Ce}}function Ar(H){u={},c=Tc(H,o,void 0,u)}function Oi(H,Y){let Z=c==null;wv(H,Y,c||h,u,o),Z&&(h=[...h],St({}))}return j={get basename(){return g},get future(){return E},get state(){return L},get routes(){return h},get window(){return e},initialize:Tt,subscribe:Qn,enableScrollRestoration:ba,navigate:br,fetch:_a,revalidate:Yr,createHref:H=>i.history.createHref(H),encodeLocation:H=>i.history.encodeLocation(H),getFetcher:hn,deleteFetcher:is,dispose:pt,getBlocker:Mn,deleteBlocker:Xr,patchRoutes:Oi,_internalFetchControllers:G,_internalSetRoutes:Ar},j}function Ow(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Cd(i,e,r,s,o,u){let h,c;if(o){h=[];for(let y of e)if(h.push(y),y.route.id===o){c=y;break}}else h=e,c=e[e.length-1];let g=nm(s||".",tm(h),hr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&c){let y=im(g.search);if(c.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&y){let E=new URLSearchParams(g.search),d=E.getAll("index");E.delete("index"),d.filter(_=>_).forEach(_=>E.append("index",_));let p=E.toString();g.search=p?`?${p}`:""}}return r!=="/"&&(g.pathname=g.pathname==="/"?r:$r([r,g.pathname])),la(g)}function Ev(i,e,r){if(!r||!Ow(r))return{path:e};if(r.formMethod&&!Bw(r.formMethod))return{path:e,error:fr(405,{method:r.formMethod})};let s=()=>({path:e,error:fr(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),h=u0(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hn(u))return s();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,[_,v])=>`${p}${_}=${v}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Hn(u))return s();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let c,g;if(r.formData)c=Id(r.formData),g=r.formData;else if(r.body instanceof FormData)c=Id(r.body),g=r.body;else if(r.body instanceof URLSearchParams)c=r.body,g=Cv(c);else if(r.body==null)c=new URLSearchParams,g=new FormData;else try{c=new URLSearchParams(r.body),g=Cv(c)}catch{return s()}let y={formMethod:u,formAction:h,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Hn(y.formMethod))return{path:e,submission:y};let E=Si(e);return i&&E.search&&im(E.search)&&c.append("index",""),E.search=`?${c}`,{path:la(E),submission:y}}function Tv(i,e,r,s,o,u,h,c,g,y,E,d,p,_,v,b,R,T,A){var $;let D=A?qn(A[1])?A[1].error:A[1].data:void 0,V=o.createURL(u.location),j=o.createURL(g),L;if(E&&u.errors){let U=Object.keys(u.errors)[0];L=h.findIndex(he=>he.route.id===U)}else if(A&&qn(A[1])){let U=A[0];L=h.findIndex(he=>he.route.id===U)-1}let I=A?A[1].statusCode:void 0,S=I&&I>=400,x={currentUrl:V,currentParams:(($=u.matches[0])==null?void 0:$.params)||{},nextUrl:j,nextParams:h[0].params,...c,actionResult:D,actionStatus:I},O=h.map((U,he)=>{let{route:pe}=U,G=null;if(L!=null&&he>L?G=!1:pe.lazy?G=!0:pe.loader==null?G=!1:E?G=Dd(pe,u.loaderData,u.errors):Iw(u.loaderData,u.matches[he],U)&&(G=!0),G!==null)return Od(r,s,i,U,y,e,G);let se=S?!1:d||V.pathname+V.search===j.pathname+j.search||V.search!==j.search||Mw(u.matches[he],U),ye={...x,defaultShouldRevalidate:se},Re=Ac(U,ye);return Od(r,s,i,U,y,e,Re,ye)}),k=[];return v.forEach((U,he)=>{if(E||!h.some(te=>te.route.id===U.routeId)||_.has(he))return;let pe=na(R,U.path,T);if(!pe){k.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(b.has(he))return;let G=u.fetchers.get(he),se=yl(pe,U.path),ye=new AbortController,Re=Hs(o,U.path,ye.signal),B=null;if(p.has(he))p.delete(he),B=Ks(r,s,Re,pe,se,y,e);else if(G&&G.state!=="idle"&&G.data===void 0)d&&(B=Ks(r,s,Re,pe,se,y,e));else{let te={...x,defaultShouldRevalidate:S?!1:d};Ac(se,te)&&(B=Ks(r,s,Re,pe,se,y,e,te))}B&&k.push({key:he,routeId:U.routeId,path:U.path,matches:B,match:se,request:Re,controller:ye})}),{dsMatches:O,revalidatingFetchers:k}}function Dd(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function Iw(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function Mw(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function Ac(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function wv(i,e,r,s,o){let u;if(i){let g=s[i];Je(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=r;let h=e.filter(g=>!u.some(y=>i0(g,y))),c=Tc(h,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...c)}function i0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>i0(r,u))}):!1}var Sv=new WeakMap,a0=({key:i,route:e,manifest:r,mapRouteProperties:s})=>{let o=r[e.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let h=Sv.get(o);h||(h={},Sv.set(o,h));let c=h[i];if(c)return c;let g=(async()=>{let y=ew(i),d=o[i]!==void 0&&i!=="hasErrorBoundary";if(y)Vt(!y,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),h[i]=Promise.resolve();else if(d)Vt(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let p=await u();p!=null&&(Object.assign(o,{[i]:p}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(p=>p===void 0)&&(o.lazy=void 0))})();return h[i]=g,g},Av=new WeakMap;function Nw(i,e,r,s,o){let u=r[i.id];if(Je(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=Av.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let d=(async()=>{Je(typeof i.lazy=="function","No lazy route function found");let p=await i.lazy(),_={};for(let v in p){let b=p[v];if(b===void 0)continue;let R=nw(v),A=u[v]!==void 0&&v!=="hasErrorBoundary";R?Vt(!R,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Vt(!A,`Route "${u.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):_[v]=b}Object.assign(u,_),Object.assign(u,{...s(u),lazy:void 0})})();return Av.set(u,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let h=Object.keys(i.lazy),c=[],g;for(let E of h){if(o&&o.includes(E))continue;let d=a0({key:E,route:i,manifest:r,mapRouteProperties:s});d&&(c.push(d),E===e&&(g=d))}let y=c.length>0?Promise.all(c).then(()=>{}):void 0;return y==null||y.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:g}}async function Rv(i){let e=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{r[e[u].route.id]=o}),r}async function Vw(i){return i.matches.some(e=>e.route.unstable_middleware)?s0(i,!1,()=>Rv(i),(e,r)=>({[r]:{type:"error",result:e}})):Rv(i)}async function s0(i,e,r,s){let{matches:o,request:u,params:h,context:c}=i,g={handlerResult:void 0};try{let y=o.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(p=>[d.route.id,p]):[]),E=await o0({request:u,params:h,context:c},y,e,g,r);return e?E:g.handlerResult}catch(y){if(!g.middlewareError)throw y;let E=await s(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function o0(i,e,r,s,o,u=0){let{request:h}=i;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let c=e[u];if(!c)return s.handlerResult=await o(),s.handlerResult;let[g,y]=c,E=!1,d,p=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await o0(i,e,r,s,o,u+1)};try{let _=await y({request:i.request,params:i.params,context:i.context},p);return E?_===void 0?d:_:p()}catch(_){throw s.middlewareError?s.middlewareError.error!==_&&(s.middlewareError={routeId:g,error:_}):s.middlewareError={routeId:g,error:_},_}}function l0(i,e,r,s,o){let u=a0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:i}),h=Nw(s.route,Hn(r.method)?"action":"loader",e,i,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function Od(i,e,r,s,o,u,h,c=null){let g=!1,y=l0(i,e,r,s,o);return{...s,_lazyPromises:y,shouldLoad:h,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(E){return g=!0,c?typeof E=="boolean"?Ac(s,{...c,defaultShouldRevalidate:E}):Ac(s,c):h},resolve(E){return g||h||E&&r.method==="GET"&&(s.route.lazy||s.route.loader)?jw({request:r,match:s,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Ks(i,e,r,s,o,u,h,c=null){return s.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:l0(i,e,r,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Od(i,e,r,g,u,h,!0,c))}async function Lw(i,e,r,s,o,u){r.some(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware}));let h={request:e,params:r[0].params,context:o,matches:r},g=await i({...h,fetcherKey:s,unstable_runClientMiddleware:y=>{let E=h;return s0(E,!1,()=>y({...E,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,p)=>({[p]:{type:"error",result:d}}))}});try{await Promise.all(r.flatMap(y=>{var E,d;return[(E=y._lazyPromises)==null?void 0:E.handler,(d=y._lazyPromises)==null?void 0:d.route]}))}catch{}return g}async function jw({request:i,match:e,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let h,c,g=Hn(i.method),y=g?"action":"loader",E=d=>{let p,_=new Promise((R,T)=>p=T);c=()=>p(),i.signal.addEventListener("abort",c);let v=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${e.route.id}]`)):d({request:i,params:e.params,context:u},...R!==void 0?[R]:[]),b=(async()=>{try{return{type:"data",result:await(o?o(T=>v(T)):v())}}catch(R){return{type:"error",result:R}}})();return Promise.race([b,_])};try{let d=g?e.route.action:e.route.loader;if(r||s)if(d){let p,[_]=await Promise.all([E(d).catch(v=>{p=v}),r,s]);if(p!==void 0)throw p;h=_}else{await r;let p=g?e.route.action:e.route.loader;if(p)[h]=await Promise.all([E(p),s]);else if(y==="action"){let _=new URL(i.url),v=_.pathname+_.search;throw fr(405,{method:i.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)h=await E(d);else{let p=new URL(i.url),_=p.pathname+p.search;throw fr(404,{pathname:_})}}catch(d){return{type:"error",result:d}}finally{c&&i.signal.removeEventListener("abort",c)}return h}async function kw(i){var s,o,u,h,c,g;let{result:e,type:r}=i;if(c0(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new Sc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return r==="error"?Nv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Sc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:xl(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xl(e)?e.status:void 0}:Nv(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Pw(i,e,r,s,o){let u=i.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!rm.test(u)){let h=s.slice(0,s.findIndex(c=>c.route.id===r)+1);u=Cd(new URL(e.url),h,o,u),i.headers.set("Location",u)}return i}function xv(i,e,r){if(rm.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=hr(o.pathname,r)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function Hs(i,e,r,s){let o=i.createURL(u0(e)).toString(),u={signal:r};if(s&&Hn(s.formMethod)){let{formMethod:h,formEncType:c}=s;u.method=h.toUpperCase(),c==="application/json"?(u.headers=new Headers({"Content-Type":c}),u.body=JSON.stringify(s.json)):c==="text/plain"?u.body=s.text:c==="application/x-www-form-urlencoded"&&s.formData?u.body=Id(s.formData):u.body=s.formData}return new Request(o,u)}function Id(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function Cv(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function Uw(i,e,r,s=!1,o=!1){let u={},h=null,c,g=!1,y={},E=r&&qn(r[1])?r[1].error:void 0;return i.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,_=e[p];if(Je(!Ka(_),"Cannot handle redirect results in processLoaderData"),qn(_)){let v=_.error;if(E!==void 0&&(v=E,E=void 0),h=h||{},o)h[p]=v;else{let b=Ya(i,p);h[b.route.id]==null&&(h[b.route.id]=v)}s||(u[p]=r0),g||(g=!0,c=xl(_.error)?_.error.status:500),_.headers&&(y[p]=_.headers)}else u[p]=_.data,_.statusCode&&_.statusCode!==200&&!g&&(c=_.statusCode),_.headers&&(y[p]=_.headers)}),E!==void 0&&r&&(h={[r[0]]:E},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:h,statusCode:c||200,loaderHeaders:y}}function Dv(i,e,r,s,o,u){let{loaderData:h,errors:c}=Uw(e,r,s);return o.filter(g=>!g.matches||g.matches.some(y=>y.shouldLoad)).forEach(g=>{let{key:y,match:E,controller:d}=g,p=u[y];if(Je(p,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(qn(p)){let _=Ya(i.matches,E==null?void 0:E.route.id);c&&c[_.route.id]||(c={...c,[_.route.id]:p.error}),i.fetchers.delete(y)}else if(Ka(p))Je(!1,"Unhandled fetcher revalidation redirect");else{let _=ta(p.data);i.fetchers.set(y,_)}}),{loaderData:h,errors:c}}function Ov(i,e,r,s){let o=Object.entries(e).filter(([,u])=>u!==r0).reduce((u,[h,c])=>(u[h]=c,u),{});for(let u of r){let h=u.route.id;if(!e.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(o[h]=i[h]),s&&s.hasOwnProperty(h))break}return o}function Iv(i){return i?qn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Ya(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Mv(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(i,{pathname:e,routeId:r,method:s,type:o,message:u}={}){let h="Unknown Server Error",c="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&e&&r?c=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):i===403?(h="Forbidden",c=`Route "${r}" does not match URL "${e}"`):i===404?(h="Not Found",c=`No route matches URL "${e}"`):i===405&&(h="Method Not Allowed",s&&e&&r?c=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(c=`Invalid request method "${s.toUpperCase()}"`)),new Sc(i||500,h,new Error(c),!0)}function sc(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(Ka(o))return{key:s,result:o}}}function u0(i){let e=typeof i=="string"?Si(i):i;return la({...e,hash:""})}function zw(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function $w(i){return c0(i.result)&&Aw.has(i.result.status)}function qn(i){return i.type==="error"}function Ka(i){return(i&&i.type)==="redirect"}function Nv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function c0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function Bw(i){return Sw.has(i.toUpperCase())}function Hn(i){return Tw.has(i.toUpperCase())}function im(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function yl(i,e){let r=typeof e=="string"?Si(e).search:e.search;if(i[i.length-1].route.index&&im(r||""))return i[i.length-1];let s=e0(i);return s[s.length-1]}function Vv(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:u,json:h}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:h,text:void 0}}}function gd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qw(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ml(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Hw(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ta(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function Fw(i,e){try{let r=i.sessionStorage.getItem(n0);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Gw(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(n0,JSON.stringify(r))}catch(s){Vt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function Qw(){let i,e,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var Wa=ne.createContext(null);Wa.displayName="DataRouter";var jl=ne.createContext(null);jl.displayName="DataRouterState";var am=ne.createContext({isTransitioning:!1});am.displayName="ViewTransition";var f0=ne.createContext(new Map);f0.displayName="Fetchers";var Yw=ne.createContext(null);Yw.displayName="Await";var Gr=ne.createContext(null);Gr.displayName="Navigation";var qc=ne.createContext(null);qc.displayName="Location";var Qr=ne.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var sm=ne.createContext(null);sm.displayName="RouteError";function Kw(i,{relative:e}={}){Je(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=ne.useContext(Gr),{hash:o,pathname:u,search:h}=Pl(i,{relative:e}),c=u;return r!=="/"&&(c=u==="/"?r:$r([r,u])),s.createHref({pathname:c,search:h,hash:o})}function kl(){return ne.useContext(qc)!=null}function es(){return Je(kl(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(qc).location}var h0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d0(i){ne.useContext(Gr).static||ne.useLayoutEffect(i)}function m0(){let{isDataRoute:i}=ne.useContext(Qr);return i?cS():Xw()}function Xw(){Je(kl(),"useNavigate() may be used only in the context of a <Router> component.");let i=ne.useContext(Wa),{basename:e,navigator:r}=ne.useContext(Gr),{matches:s}=ne.useContext(Qr),{pathname:o}=es(),u=JSON.stringify(tm(s)),h=ne.useRef(!1);return d0(()=>{h.current=!0}),ne.useCallback((g,y={})=>{if(Vt(h.current,h0),!h.current)return;if(typeof g=="number"){r.go(g);return}let E=nm(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$r([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,u,o,i])}var Zw=ne.createContext(null);function Jw(i){let e=ne.useContext(Qr).outlet;return e&&ne.createElement(Zw.Provider,{value:i},e)}function Pl(i,{relative:e}={}){let{matches:r}=ne.useContext(Qr),{pathname:s}=es(),o=JSON.stringify(tm(r));return ne.useMemo(()=>nm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Ww(i,e,r,s){Je(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=ne.useContext(Gr),{matches:h}=ne.useContext(Qr),c=h[h.length-1],g=c?c.params:{},y=c?c.pathname:"/",E=c?c.pathnameBase:"/",d=c&&c.route;{let A=d&&d.path||"";p0(y,!d||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=es(),_;_=p;let v=_.pathname||"/",b=v;if(E!=="/"){let A=E.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=!u&&r&&r.matches&&r.matches.length>0?r.matches:na(i,{pathname:b});return Vt(d||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Vt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),iS(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},g,A.params),pathname:$r([E,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?E:$r([E,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),h,r,s)}function eS(){let i=uS(),e=xl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:u},"ErrorBoundary")," or"," ",ne.createElement("code",{style:u},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),r?ne.createElement("pre",{style:o},r):null,h)}var tS=ne.createElement(eS,null),nS=class extends ne.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?ne.createElement(Qr.Provider,{value:this.props.routeContext},ne.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rS({routeContext:i,match:e,children:r}){let s=ne.useContext(Wa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(Qr.Provider,{value:i},r)}function iS(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,c=-1;if(r)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(c=g),y.route.id){let{loaderData:E,errors:d}=r,p=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!d||d[y.route.id]===void 0);if(y.route.lazy||p){h=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let d,p=!1,_=null,v=null;r&&(d=u&&y.route.id?u[y.route.id]:void 0,_=y.route.errorElement||tS,h&&(c<0&&E===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===E&&(p=!0,v=y.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,E+1)),R=()=>{let T;return d?T=_:p?T=v:y.route.Component?T=ne.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=g,ne.createElement(rS,{match:y,routeContext:{outlet:g,matches:b,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?ne.createElement(nS,{location:r.location,revalidation:r.revalidation,component:_,error:d,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function om(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(i){let e=ne.useContext(Wa);return Je(e,om(i)),e}function sS(i){let e=ne.useContext(jl);return Je(e,om(i)),e}function oS(i){let e=ne.useContext(Qr);return Je(e,om(i)),e}function lm(i){let e=oS(i),r=e.matches[e.matches.length-1];return Je(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function lS(){return lm("useRouteId")}function uS(){var s;let i=ne.useContext(sm),e=sS("useRouteError"),r=lm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function cS(){let{router:i}=aS("useNavigate"),e=lm("useNavigate"),r=ne.useRef(!1);return d0(()=>{r.current=!0}),ne.useCallback(async(o,u={})=>{Vt(r.current,h0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Lv={};function p0(i,e,r){!e&&!Lv[i]&&(Lv[i]=!0,Vt(!1,r))}var jv={};function kv(i,e){!i&&!jv[e]&&(jv[e]=!0,console.warn(e))}function fS(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ne.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ne.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ne.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var hS=["HydrateFallback","hydrateFallbackElement"],dS=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function mS({router:i,flushSync:e}){let[r,s]=ne.useState(i.state),[o,u]=ne.useState(),[h,c]=ne.useState({isTransitioning:!1}),[g,y]=ne.useState(),[E,d]=ne.useState(),[p,_]=ne.useState(),v=ne.useRef(new Map),b=ne.useCallback((D,{deletedFetchers:V,flushSync:j,viewTransitionOpts:L})=>{D.fetchers.forEach((S,x)=>{S.data!==void 0&&v.current.set(x,S.data)}),V.forEach(S=>v.current.delete(S)),kv(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(kv(L==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!I){e&&j?e(()=>s(D)):ne.startTransition(()=>s(D));return}if(e&&j){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let S=i.window.document.startViewTransition(()=>{e(()=>s(D))});S.finished.finally(()=>{e(()=>{y(void 0),d(void 0),u(void 0),c({isTransitioning:!1})})}),e(()=>d(S));return}E?(g&&g.resolve(),E.skipTransition(),_({state:D,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(u(D),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[i.window,e,E,g]);ne.useLayoutEffect(()=>i.subscribe(b),[i,b]),ne.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new dS)},[h]),ne.useEffect(()=>{if(g&&o&&i.window){let D=o,V=g.promise,j=i.window.document.startViewTransition(async()=>{ne.startTransition(()=>s(D)),await V});j.finished.finally(()=>{y(void 0),d(void 0),u(void 0),c({isTransitioning:!1})}),d(j)}},[o,g,i.window]),ne.useEffect(()=>{g&&o&&r.location.key===o.location.key&&g.resolve()},[g,E,r.location,o]),ne.useEffect(()=>{!h.isTransitioning&&p&&(u(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),_(void 0))},[h.isTransitioning,p]);let R=ne.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:D=>i.navigate(D),push:(D,V,j)=>i.navigate(D,{state:V,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(D,V,j)=>i.navigate(D,{replace:!0,state:V,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[i]),T=i.basename||"/",A=ne.useMemo(()=>({router:i,navigator:R,static:!1,basename:T}),[i,R,T]);return ne.createElement(ne.Fragment,null,ne.createElement(Wa.Provider,{value:A},ne.createElement(jl.Provider,{value:r},ne.createElement(f0.Provider,{value:v.current},ne.createElement(am.Provider,{value:h},ne.createElement(vS,{basename:T,location:r.location,navigationType:r.historyAction,navigator:R},ne.createElement(pS,{routes:i.routes,future:i.future,state:r})))))),null)}var pS=ne.memo(gS);function gS({routes:i,future:e,state:r}){return Ww(i,void 0,r,e)}function yS(i){return Jw(i.context)}function vS({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Je(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),c=ne.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof r=="string"&&(r=Si(r));let{pathname:g="/",search:y="",hash:E="",state:d=null,key:p="default"}=r,_=ne.useMemo(()=>{let v=hr(g,h);return v==null?null:{location:{pathname:v,search:y,hash:E,state:d,key:p},navigationType:s}},[h,g,y,E,d,p,s]);return Vt(_!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:ne.createElement(Gr.Provider,{value:c},ne.createElement(qc.Provider,{children:e,value:_}))}var mc="get",pc="application/x-www-form-urlencoded";function Hc(i){return i!=null&&typeof i.tagName=="string"}function _S(i){return Hc(i)&&i.tagName.toLowerCase()==="button"}function bS(i){return Hc(i)&&i.tagName.toLowerCase()==="form"}function ES(i){return Hc(i)&&i.tagName.toLowerCase()==="input"}function TS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function wS(i,e){return i.button===0&&(!e||e==="_self")&&!TS(i)}var oc=null;function SS(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var AS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(i){return i!=null&&!AS.has(i)?(Vt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pc}"`),null):i}function RS(i,e){let r,s,o,u,h;if(bS(i)){let c=i.getAttribute("action");s=c?hr(c,e):null,r=i.getAttribute("method")||mc,o=yd(i.getAttribute("enctype"))||pc,u=new FormData(i)}else if(_S(i)||ES(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||c.getAttribute("action");if(s=g?hr(g,e):null,r=i.getAttribute("formmethod")||c.getAttribute("method")||mc,o=yd(i.getAttribute("formenctype"))||yd(c.getAttribute("enctype"))||pc,u=new FormData(c,i),!SS()){let{name:y,type:E,value:d}=i;if(E==="image"){let p=y?`${y}.`:"";u.append(`${p}x`,"0"),u.append(`${p}y`,"0")}else y&&u.append(y,d)}}else{if(Hc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=mc,s=null,o=pc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:h}}function um(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function xS(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function DS(i,e,r){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await xS(u,r);return h.links?h.links():[]}return[]}));return NS(s.flat(1).filter(CS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(i,e,r,s,o,u){let h=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,c=(g,y)=>{var E;return r[y].pathname!==g.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||c(g,y)):u==="data"?e.filter((g,y)=>{var d;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||c(g,y))return!0;if(g.route.shouldRevalidate){let p=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function OS(i,e,{includeHydrateFallback:r}={}){return IS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IS(i){return[...new Set(i)]}function MS(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function NS(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(MS(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}var VS=new Set([100,101,204,205]);function LS(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&hr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function g0(){let i=ne.useContext(Wa);return um(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function jS(){let i=ne.useContext(jl);return um(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cm=ne.createContext(void 0);cm.displayName="FrameworkContext";function y0(){let i=ne.useContext(cm);return um(i,"You must render this element inside a <HydratedRouter> element"),i}function kS(i,e){let r=ne.useContext(cm),[s,o]=ne.useState(!1),[u,h]=ne.useState(!1),{onFocus:c,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:d}=e,p=ne.useRef(null);ne.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let b=T=>{T.forEach(A=>{h(A.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[i]),ne.useEffect(()=>{if(s){let b=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(b)}}},[s]);let _=()=>{o(!0)},v=()=>{o(!1),h(!1)};return r?i!=="intent"?[u,p,{}]:[u,p,{onFocus:pl(c,_),onBlur:pl(g,v),onMouseEnter:pl(y,_),onMouseLeave:pl(E,v),onTouchStart:pl(d,_)}]:[!1,p,{}]}function pl(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function PS({page:i,...e}){let{router:r}=g0(),s=ne.useMemo(()=>na(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?ne.createElement(zS,{page:i,matches:s,...e}):null}function US(i){let{manifest:e,routeModules:r}=y0(),[s,o]=ne.useState([]);return ne.useEffect(()=>{let u=!1;return DS(i,e,r).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,r]),s}function zS({page:i,matches:e,...r}){let s=es(),{manifest:o,routeModules:u}=y0(),{basename:h}=g0(),{loaderData:c,matches:g}=jS(),y=ne.useMemo(()=>Pv(i,e,g,o,s,"data"),[i,e,g,o,s]),E=ne.useMemo(()=>Pv(i,e,g,o,s,"assets"),[i,e,g,o,s]),d=ne.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let v=new Set,b=!1;if(e.forEach(T=>{var D;let A=o.routes[T.route.id];!A||!A.hasLoader||(!y.some(V=>V.route.id===T.route.id)&&T.route.id in c&&((D=u[T.route.id])!=null&&D.shouldRevalidate)||A.hasClientLoader?b=!0:v.add(T.route.id))}),v.size===0)return[];let R=LS(i,h);return b&&v.size>0&&R.searchParams.set("_routes",e.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[h,c,s,o,y,e,i,u]),p=ne.useMemo(()=>OS(E,o),[E,o]),_=US(E);return ne.createElement(ne.Fragment,null,d.map(v=>ne.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),p.map(v=>ne.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),_.map(({key:v,link:b})=>ne.createElement("link",{key:v,...b})))}function $S(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.5.3")}catch{}function BS(i,e){return Dw({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:XT({window:e==null?void 0:e.window}),hydrationData:qS(),routes:i,mapRouteProperties:fS,hydrationRouteProperties:hS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function qS(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:HS(i.errors)}),i}function HS(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new Sc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",r[s]=h}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fc=ne.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:c,target:g,to:y,preventScrollReset:E,viewTransition:d,...p},_){let{basename:v}=ne.useContext(Gr),b=typeof y=="string"&&_0.test(y),R,T=!1;if(typeof y=="string"&&b&&(R=y,v0))try{let x=new URL(window.location.href),O=y.startsWith("//")?new URL(x.protocol+y):new URL(y),k=hr(O.pathname,v);O.origin===x.origin&&k!=null?y=k+O.search+O.hash:T=!0}catch{Vt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Kw(y,{relative:o}),[D,V,j]=kS(s,p),L=QS(y,{replace:h,state:c,target:g,preventScrollReset:E,relative:o,viewTransition:d});function I(x){e&&e(x),x.defaultPrevented||L(x)}let S=ne.createElement("a",{...p,...j,href:R||A,onClick:T||u?e:I,ref:$S(_,V),target:g,"data-discover":!b&&r==="render"?"true":void 0});return D&&!b?ne.createElement(ne.Fragment,null,S,ne.createElement(PS,{page:A})):S});Fc.displayName="Link";var Rc=ne.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:c,children:g,...y},E){let d=Pl(h,{relative:y.relative}),p=es(),_=ne.useContext(jl),{navigator:v,basename:b}=ne.useContext(Gr),R=_!=null&&JS(d)&&c===!0,T=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,A=p.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(A=A.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&b&&(D=hr(D,b)||D);const V=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let j=A===T||!o&&A.startsWith(T)&&A.charAt(V)==="/",L=D!=null&&(D===T||!o&&D.startsWith(T)&&D.charAt(T.length)==="/"),I={isActive:j,isPending:L,isTransitioning:R},S=j?e:void 0,x;typeof s=="function"?x=s(I):x=[s,j?"active":null,L?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return ne.createElement(Fc,{...y,"aria-current":S,className:x,ref:E,style:O,to:h,viewTransition:c},typeof g=="function"?g(I):g)});Rc.displayName="NavLink";var FS=ne.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:h=mc,action:c,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:d,...p},_)=>{let v=XS(),b=ZS(c,{relative:y}),R=h.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&_0.test(c),A=D=>{if(g&&g(D),D.defaultPrevented)return;D.preventDefault();let V=D.nativeEvent.submitter,j=(V==null?void 0:V.getAttribute("formmethod"))||h;v(V||D.currentTarget,{fetcherKey:e,method:j,navigate:r,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:d})};return ne.createElement("form",{ref:_,method:R,action:b,onSubmit:s?g:A,...p,"data-discover":!T&&i==="render"?"true":void 0})});FS.displayName="Form";function GS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b0(i){let e=ne.useContext(Wa);return Je(e,GS(i)),e}function QS(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let c=m0(),g=es(),y=Pl(i,{relative:u});return ne.useCallback(E=>{if(wS(E,e)){E.preventDefault();let d=r!==void 0?r:la(g)===la(y);c(i,{replace:d,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,c,y,r,s,e,i,o,u,h])}var YS=0,KS=()=>`__${String(++YS)}__`;function XS(){let{router:i}=b0("useSubmit"),{basename:e}=ne.useContext(Gr),r=lS();return ne.useCallback(async(s,o={})=>{let{action:u,method:h,encType:c,formData:g,body:y}=RS(s,e);if(o.navigate===!1){let E=o.fetcherKey||KS();await i.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||c,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function ZS(i,{relative:e}={}){let{basename:r}=ne.useContext(Gr),s=ne.useContext(Qr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pl(i||".",{relative:e})},h=es();if(i==null){u.search=h.search;let c=new URLSearchParams(u.search),g=c.getAll("index");if(g.some(E=>E==="")){c.delete("index"),g.filter(d=>d).forEach(d=>c.append("index",d));let E=c.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:$r([r,u.pathname])),la(u)}function JS(i,e={}){let r=ne.useContext(am);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=b0("useViewTransitionState"),o=Pl(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=hr(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=hr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return wc(o.pathname,h)!=null||wc(o.pathname,u)!=null}new TextEncoder;[...VS];const WS="/fizzfun/assets/FizzFunSVG-BByz3_3E.svg",Uv=i=>{let e;const r=new Set,s=(y,E)=>{const d=typeof y=="function"?y(e):y;if(!Object.is(d,e)){const p=e;e=E??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(_=>_(e,p))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>g,subscribe:y=>(r.add(y),()=>r.delete(y))},g=e=i(s,o,c);return c},eA=i=>i?Uv(i):Uv,tA=i=>i;function nA(i,e=tA){const r=uv.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return uv.useDebugValue(r),r}const zv=i=>{const e=eA(i),r=s=>nA(e,s);return Object.assign(r,e),r},fm=i=>i?zv(i):zv,Ul=fm((i,e)=>({cart:[],addToCart:r=>{const s=e().cart,o=s.find(u=>u.id===r.id);i(o?{cart:s.map(u=>u.id===r.id?{...u,quantity:u.quantity+1}:u)}:{cart:[...s,{...r,quantity:1}]})},updateQuantity:(r,s)=>{i({cart:e().cart.map(o=>o.id===r?{...o,quantity:s}:o)})},removeFromCart:r=>{i({cart:e().cart.filter(s=>s.id!==r)})},clearCart:()=>i({cart:[]})})),rA="data:image/svg+xml,%3csvg%20width='26'%20height='54'%20viewBox='0%200%2026%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14%2033C12.6739%2033%2011.4021%2032.4732%2010.4645%2031.5355C9.52678%2030.5979%209%2029.3261%209%2028H11C11%2028.7956%2011.3161%2029.5587%2011.8787%2030.1213C12.4413%2030.6839%2013.2044%2031%2014%2031C14.7956%2031%2015.5587%2030.6839%2016.1213%2030.1213C16.6839%2029.5587%2017%2028.7956%2017%2028H19C19%2029.3261%2018.4732%2030.5979%2017.5355%2031.5355C16.5979%2032.4732%2015.3261%2033%2014%2033ZM14%2023C14.7956%2023%2015.5587%2023.3161%2016.1213%2023.8787C16.6839%2024.4413%2017%2025.2044%2017%2026H11C11%2025.2044%2011.3161%2024.4413%2011.8787%2023.8787C12.4413%2023.3161%2013.2044%2023%2014%2023ZM21%2026H19C19%2025.3434%2018.8707%2024.6932%2018.6194%2024.0866C18.3681%2023.48%2017.9998%2022.9288%2017.5355%2022.4645C17.0712%2022.0002%2016.52%2021.6319%2015.9134%2021.3806C15.3068%2021.1293%2014.6566%2021%2014%2021C12.6739%2021%2011.4021%2021.5268%2010.4645%2022.4645C9.52678%2023.4021%209%2024.6739%209%2026H7C5.89%2026%205%2026.89%205%2028V40C5%2040.5304%205.21071%2041.0391%205.58579%2041.4142C5.96086%2041.7893%206.46957%2042%207%2042H21C21.5304%2042%2022.0391%2041.7893%2022.4142%2041.4142C22.7893%2041.0391%2023%2040.5304%2023%2040V28C23%2027.4696%2022.7893%2026.9609%2022.4142%2026.5858C22.0391%2026.2107%2021.5304%2026%2021%2026Z'%20fill='black'/%3e%3c/svg%3e",iA=()=>{const{cart:i}=Ul(),e=i.reduce((r,s)=>r+s.quantity,0);return ie.jsxs("nav",{className:"navbar",children:[ie.jsx("div",{className:"navbar-logo",children:ie.jsx(Fc,{to:"/",children:ie.jsx("img",{src:WS,alt:"FizzFun Logo",className:"logo-image"})})}),ie.jsxs("ul",{className:"navbar-links",children:[ie.jsx("li",{children:ie.jsx(Rc,{to:"/shop",className:"nav-link",children:"Shop"})}),ie.jsx("li",{children:ie.jsxs(Rc,{to:"/cart",className:"nav-link cart-link",children:[ie.jsx("img",{src:rA,alt:"Cart",className:"cart-icon"}),e>0&&ie.jsx("span",{className:"cart-count",children:e})]})})]})]})},E0=()=>ie.jsx("footer",{className:"footer",children:ie.jsxs("div",{className:"footer-content",children:[ie.jsxs("span",{children:[" ",new Date().getFullYear()," FizzFun. All rights reserved."]}),ie.jsx(Rc,{to:"/login",className:"footer-admin-link",children:"Admin"})]})});function aA(){return ie.jsxs("div",{className:"app-container",children:[ie.jsx("header",{children:ie.jsx(iA,{})}),ie.jsx("main",{className:"main-content",children:ie.jsx(yS,{})}),ie.jsx(E0,{})]})}const sA=()=>{};var $v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},oA=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],h=i[r++],c=i[r++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[r++],h=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,c=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,d=(u&3)<<4|c>>4;let p=(c&15)<<2|y>>6,_=y&63;g||(_=64,h||(p=64)),s.push(r[E],r[d],r[p],r[_])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(T0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):oA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],c=o<i.length?r[i.charAt(o)]:0;++o;const y=o<i.length?r[i.charAt(o)]:64;++o;const d=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||c==null||y==null||d==null)throw new lA;const p=u<<2|c>>4;if(s.push(p),y!==64){const _=c<<4&240|y>>2;if(s.push(_),d!==64){const v=y<<6&192|d;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(i){const e=T0(i);return w0.encodeByteArray(e,!0)},xc=function(i){return uA(i).replace(/\./g,"")},cA=function(i){try{return w0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=()=>fA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof $v>"u")return;const i=$v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&cA(i[1]);return e&&JSON.parse(e)},hm=()=>{try{return sA()||hA()||dA()||mA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},pA=i=>{var e,r;return(r=(e=hm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},gA=i=>{const e=pA(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},S0=()=>{var i;return(i=hm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[xc(JSON.stringify(r)),xc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){var i;const e=(i=hm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="FirebaseError";class ao extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=SA,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A0.prototype.create)}}class A0{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?AA(u,s):"Error",c=`${this.serviceName}: ${h} (${o}).`;return new ao(o,c,s)}}function AA(i,e){return i.replace(RA,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const RA=/\{\$([^}]+)}/g;function Cc(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Bv(u)&&Bv(h)){if(!Cc(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Bv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(i){return i&&i._delegate?i._delegate:i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(i){return i.endsWith(".cloudworkstations.dev")}async function xA(i){return(await fetch(i,{credentials:"include"})).ok}class Cl{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new yA;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OA(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,h]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);s===c&&h.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DA(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DA(i){return i===Qa?void 0:i}function OA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new CA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const MA={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},NA=at.INFO,VA={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},LA=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=VA[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x0{constructor(e){this.name=e,this._logLevel=NA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const jA=(i,e)=>e.some(r=>i instanceof r);let qv,Hv;function kA(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,Md=new WeakMap,D0=new WeakMap,vd=new WeakMap,dm=new WeakMap;function UA(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(ia(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&C0.set(r,i)}).catch(()=>{}),dm.set(e,i),e}function zA(i){if(Md.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Md.set(i,e)}let Nd={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Md.get(i);if(e==="objectStoreNames")return i.objectStoreNames||D0.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ia(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $A(i){Nd=i(Nd)}function BA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(_d(this),e,...r);return D0.set(s,e.sort?e.sort():[e]),ia(s)}:PA().includes(i)?function(...e){return i.apply(_d(this),e),ia(C0.get(this))}:function(...e){return ia(i.apply(_d(this),e))}}function qA(i){return typeof i=="function"?BA(i):(i instanceof IDBTransaction&&zA(i),jA(i,kA())?new Proxy(i,Nd):i)}function ia(i){if(i instanceof IDBRequest)return UA(i);if(vd.has(i))return vd.get(i);const e=qA(i);return e!==i&&(vd.set(i,e),dm.set(e,i)),e}const _d=i=>dm.get(i);function HA(i,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),c=ia(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ia(h.result),g.oldVersion,g.newVersion,ia(h.transaction),g)}),r&&h.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),c.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),c}const FA=["get","getKey","getAll","getAllKeys","count"],GA=["put","add","delete","clear"],bd=new Map;function Fv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=GA.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FA.includes(r)))return;const u=async function(h,...c){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(c.shift())),(await Promise.all([y[r](...c),o&&g.done]))[0]};return bd.set(e,u),u}$A(i=>({...i,get:(e,r,s)=>Fv(e,r)||i.get(e,r,s),has:(e,r)=>!!Fv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(YA(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function YA(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vd="@firebase/app",Gv="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new x0("@firebase/app"),KA="@firebase/app-compat",XA="@firebase/analytics-compat",ZA="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",e1="@firebase/auth",t1="@firebase/auth-compat",n1="@firebase/database",r1="@firebase/data-connect",i1="@firebase/database-compat",a1="@firebase/functions",s1="@firebase/functions-compat",o1="@firebase/installations",l1="@firebase/installations-compat",u1="@firebase/messaging",c1="@firebase/messaging-compat",f1="@firebase/performance",h1="@firebase/performance-compat",d1="@firebase/remote-config",m1="@firebase/remote-config-compat",p1="@firebase/storage",g1="@firebase/storage-compat",y1="@firebase/firestore",v1="@firebase/vertexai",_1="@firebase/firestore-compat",b1="firebase",E1="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",T1={[Vd]:"fire-core",[KA]:"fire-core-compat",[ZA]:"fire-analytics",[XA]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[e1]:"fire-auth",[t1]:"fire-auth-compat",[n1]:"fire-rtdb",[r1]:"fire-data-connect",[i1]:"fire-rtdb-compat",[a1]:"fire-fn",[s1]:"fire-fn-compat",[o1]:"fire-iid",[l1]:"fire-iid-compat",[u1]:"fire-fcm",[c1]:"fire-fcm-compat",[f1]:"fire-perf",[h1]:"fire-perf-compat",[d1]:"fire-rc",[m1]:"fire-rc-compat",[p1]:"fire-gcs",[g1]:"fire-gcs-compat",[y1]:"fire-fst",[_1]:"fire-fst-compat",[v1]:"fire-vertex","fire-js":"fire-js",[b1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,w1=new Map,jd=new Map;function Qv(i,e){try{i.container.addComponent(e)}catch(r){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Oc(i){const e=i.name;if(jd.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;jd.set(e,i);for(const r of Dc.values())Qv(r,i);for(const r of w1.values())Qv(r,i);return!0}function S1(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function A1(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new A0("app","Firebase",R1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=E1;function O0(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ld,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(r||(r=S0()),!r)throw aa.create("no-options");const u=Dc.get(o);if(u){if(Cc(r,u.options)&&Cc(s,u.config))return u;throw aa.create("duplicate-app",{appName:o})}const h=new IA(o);for(const g of jd.values())h.addComponent(g);const c=new x1(r,s,h);return Dc.set(o,c),c}function D1(i=Ld){const e=Dc.get(i);if(!e&&i===Ld&&S0())return O0();if(!e)throw aa.create("no-app",{appName:i});return e}function Xs(i,e,r){var s;let o=(s=T1[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&c.push("and"),h&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(c.join(" "));return}Oc(new Cl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebase-heartbeat-database",I1=1,Dl="firebase-heartbeat-store";let Ed=null;function I0(){return Ed||(Ed=HA(O1,I1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Dl)}catch(r){console.warn(r)}}}}).catch(i=>{throw aa.create("idb-open",{originalErrorMessage:i.message})})),Ed}async function M1(i){try{const r=(await I0()).transaction(Dl),s=await r.objectStore(Dl).get(M0(i));return await r.done,s}catch(e){if(e instanceof ao)bi.warn(e.message);else{const r=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(r.message)}}}async function Yv(i,e){try{const s=(await I0()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(e,M0(i)),await s.done}catch(r){if(r instanceof ao)bi.warn(r.message);else{const s=aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});bi.warn(s.message)}}}function M0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1024,V1=30;class L1{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new k1(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>V1){const h=P1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){bi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Kv(),{heartbeatsToSend:s,unsentEntries:o}=j1(this._heartbeatsCache.heartbeats),u=xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return bi.warn(r),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function j1(i,e=N1){const r=[];let s=i.slice();for(const o of i){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Xv(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Xv(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class k1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await M1(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Xv(i){return xc(JSON.stringify({version:2,heartbeats:i})).length}function P1(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i){Oc(new Cl("platform-logger",e=>new QA(e),"PRIVATE")),Oc(new Cl("heartbeat",e=>new L1(e),"PRIVATE")),Xs(Vd,Gv,i),Xs(Vd,Gv,"esm2017"),Xs("fire-js","")}U1("");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,N0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function x(){}x.prototype=S.prototype,I.D=S.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(O,k,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return S.prototype[k].apply(O,U)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,x){x||(x=0);var O=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)O[k]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(k=0;16>k;++k)O[k]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=I.g[0],x=I.g[1],k=I.g[2];var $=I.g[3],U=S+($^x&(k^$))+O[0]+3614090360&4294967295;S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[1]+3905402710&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[2]+606105819&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[3]+3250441966&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+($^x&(k^$))+O[4]+4118548399&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[5]+1200080426&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[6]+2821735955&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[7]+4249261313&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+($^x&(k^$))+O[8]+1770035416&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[9]+2336552879&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[10]+4294925233&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[11]+2304563134&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+($^x&(k^$))+O[12]+1804603682&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[13]+4254626195&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[14]+2792965006&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[15]+1236535329&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+(k^$&(x^k))+O[1]+4129170786&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[6]+3225465664&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[11]+643717713&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[0]+3921069994&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(x^k))+O[5]+3593408605&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[10]+38016083&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[15]+3634488961&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[4]+3889429448&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(x^k))+O[9]+568446438&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[14]+3275163606&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[3]+4107603335&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[8]+1163531501&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(x^k))+O[13]+2850285829&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[2]+4243563512&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[7]+1735328473&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[12]+2368359562&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(x^k^$)+O[5]+4294588738&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[8]+2272392833&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[11]+1839030562&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[14]+4259657740&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(x^k^$)+O[1]+2763975236&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[4]+1272893353&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[7]+4139469664&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[10]+3200236656&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(x^k^$)+O[13]+681279174&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[0]+3936430074&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[3]+3572445317&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[6]+76029189&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(x^k^$)+O[9]+3654602809&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[12]+3873151461&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[15]+530742520&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[2]+3299628645&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(k^(x|~$))+O[0]+4096336452&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[7]+1126891415&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[14]+2878612391&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[5]+4237533241&4294967295,x=k+(U<<21&4294967295|U>>>11),U=S+(k^(x|~$))+O[12]+1700485571&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[3]+2399980690&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[10]+4293915773&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[1]+2240044497&4294967295,x=k+(U<<21&4294967295|U>>>11),U=S+(k^(x|~$))+O[8]+1873313359&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[15]+4264355552&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[6]+2734768916&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[13]+1309151649&4294967295,x=k+(U<<21&4294967295|U>>>11),U=S+(k^(x|~$))+O[4]+4149444226&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[11]+3174756917&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[2]+718787259&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(k+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+$&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var x=S-this.blockSize,O=this.B,k=this.h,$=0;$<S;){if(k==0)for(;$<=x;)o(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<S;)if(O[k++]=I.charCodeAt($++),k==this.blockSize){o(this,O),k=0;break}}else for(;$<S;)if(O[k++]=I[$++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var x=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=x&255,x/=256;for(this.u(I),I=Array(16),S=x=0;4>S;++S)for(var O=0;32>O;O+=8)I[x++]=this.g[S]>>>O&255;return I};function u(I,S){var x=c;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=S(I)}function h(I,S){this.h=S;for(var x=[],O=!0,k=I.length-1;0<=k;k--){var $=I[k]|0;O&&$==S||(x[k]=$,O=!1)}this.g=x}var c={};function g(I){return-128<=I&&128>I?u(I,function(S){return new h([S|0],0>S?-1:0)}):new h([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return R(y(-I));for(var S=[],x=1,O=0;I>=x;O++)S[O]=I/x|0,x*=4294967296;return new h(S,0)}function E(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return R(E(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(S,8)),O=d,k=0;k<I.length;k+=8){var $=Math.min(8,I.length-k),U=parseInt(I.substring(k,k+$),S);8>$?($=y(Math.pow(S,$)),O=O.j($).add(y(U))):(O=O.j(x),O=O.add(y(U)))}return O}var d=g(0),p=g(1),_=g(16777216);i=h.prototype,i.m=function(){if(b(this))return-R(this).m();for(var I=0,S=1,x=0;x<this.g.length;x++){var O=this.i(x);I+=(0<=O?O:4294967296+O)*S,S*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+R(this).toString(I);for(var S=y(Math.pow(I,6)),x=this,O="";;){var k=V(x,S).g;x=T(x,k.j(S));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=k,v(x))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function b(I){return I.h==-1}i.l=function(I){return I=T(this,I),b(I)?-1:v(I)?0:1};function R(I){for(var S=I.g.length,x=[],O=0;O<S;O++)x[O]=~I.g[O];return new h(x,~I.h).add(p)}i.abs=function(){return b(this)?R(this):this},i.add=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0,k=0;k<=S;k++){var $=O+(this.i(k)&65535)+(I.i(k)&65535),U=($>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);O=U>>>16,$&=65535,U&=65535,x[k]=U<<16|$}return new h(x,x[x.length-1]&-2147483648?-1:0)};function T(I,S){return I.add(R(S))}i.j=function(I){if(v(this)||v(I))return d;if(b(this))return b(I)?R(this).j(R(I)):R(R(this).j(I));if(b(I))return R(this.j(R(I)));if(0>this.l(_)&&0>I.l(_))return y(this.m()*I.m());for(var S=this.g.length+I.g.length,x=[],O=0;O<2*S;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<I.g.length;k++){var $=this.i(O)>>>16,U=this.i(O)&65535,he=I.i(k)>>>16,pe=I.i(k)&65535;x[2*O+2*k]+=U*pe,A(x,2*O+2*k),x[2*O+2*k+1]+=$*pe,A(x,2*O+2*k+1),x[2*O+2*k+1]+=U*he,A(x,2*O+2*k+1),x[2*O+2*k+2]+=$*he,A(x,2*O+2*k+2)}for(O=0;O<S;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=S;O<2*S;O++)x[O]=0;return new h(x,0)};function A(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function D(I,S){this.g=I,this.h=S}function V(I,S){if(v(S))throw Error("division by zero");if(v(I))return new D(d,d);if(b(I))return S=V(R(I),S),new D(R(S.g),R(S.h));if(b(S))return S=V(I,R(S)),new D(R(S.g),S.h);if(30<I.g.length){if(b(I)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var x=p,O=S;0>=O.l(I);)x=j(x),O=j(O);var k=L(x,1),$=L(O,1);for(O=L(O,2),x=L(x,2);!v(O);){var U=$.add(O);0>=U.l(I)&&(k=k.add(x),$=U),O=L(O,1),x=L(x,1)}return S=T(I,k.j(S)),new D(k,S)}for(k=d;0<=I.l(S);){for(x=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=y(x),U=$.j(S);b(U)||0<U.l(I);)x-=O,$=y(x),U=$.j(S);v($)&&($=p),k=k.add($),I=T(I,U)}return new D(k,I)}i.A=function(I){return V(this,I).h},i.and=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)&I.i(O);return new h(x,this.h&I.h)},i.or=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)|I.i(O);return new h(x,this.h|I.h)},i.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)^I.i(O);return new h(x,this.h^I.h)};function j(I){for(var S=I.g.length+1,x=[],O=0;O<S;O++)x[O]=I.i(O)<<1|I.i(O-1)>>>31;return new h(x,I.h)}function L(I,S){var x=S>>5;S%=32;for(var O=I.g.length-x,k=[],$=0;$<O;$++)k[$]=0<S?I.i($+x)>>>S|I.i($+x+1)<<32-S:I.i($+x);return new h(k,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,N0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,sa=h}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,vl,L0,gc,kd,j0,k0,P0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,C,M){return f==Array.prototype||f==Object.prototype||(f[C]=M.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var C=0;C<f.length;++C){var M=f[C];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var s=r(this);function o(f,C){if(C)e:{var M=s;f=f.split(".");for(var z=0;z<f.length-1;z++){var K=f[z];if(!(K in M))break e;M=M[K]}f=f[f.length-1],z=M[f],C=C(z),C!=z&&C!=null&&e(M,f,{configurable:!0,writable:!0,value:C})}}function u(f,C){f instanceof String&&(f+="");var M=0,z=!1,K={next:function(){if(!z&&M<f.length){var re=M++;return{value:C(re,f[re]),done:!1}}return z=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(f){return f||function(){return u(this,function(C,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},c=this||self;function g(f){var C=typeof f;return C=C!="object"?C:f?Array.isArray(f)?"array":C:"null",C=="array"||C=="object"&&typeof f.length=="number"}function y(f){var C=typeof f;return C=="object"&&f!=null||C=="function"}function E(f,C,M){return f.call.apply(f.bind,arguments)}function d(f,C,M){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,z),f.apply(C,K)}}return function(){return f.apply(C,arguments)}}function p(f,C,M){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:d,p.apply(null,arguments)}function _(f,C){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function v(f,C){function M(){}M.prototype=C.prototype,f.aa=C.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function(z,K,re){for(var ve=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ve[tt-2]=arguments[tt];return C.prototype[K].apply(z,ve)}}function b(f){const C=f.length;if(0<C){const M=Array(C);for(let z=0;z<C;z++)M[z]=f[z];return M}return[]}function R(f,C){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(g(z)){const K=f.length||0,re=z.length||0;f.length=K+re;for(let ve=0;ve<re;ve++)f[K+ve]=z[ve]}else f.push(z)}}class T{constructor(C,M){this.i=C,this.j=M,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(f){return/^[\s\xa0]*$/.test(f)}function D(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function V(f){return V[" "](f),f}V[" "]=function(){};var j=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function L(f,C,M){for(const z in f)C.call(M,f[z],z,f)}function I(f,C){for(const M in f)C.call(void 0,f[M],M,f)}function S(f){const C={};for(const M in f)C[M]=f[M];return C}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,C){let M,z;for(let K=1;K<arguments.length;K++){z=arguments[K];for(M in z)f[M]=z[M];for(let re=0;re<x.length;re++)M=x[re],Object.prototype.hasOwnProperty.call(z,M)&&(f[M]=z[M])}}function k(f){var C=1;f=f.split(":");const M=[];for(;0<C&&f.length;)M.push(f.shift()),C--;return f.length&&M.push(f.join(":")),M}function $(f){c.setTimeout(()=>{throw f},0)}function U(){var f=Re;let C=null;return f.g&&(C=f.g,f.g=f.g.next,f.g||(f.h=null),C.next=null),C}class he{constructor(){this.h=this.g=null}add(C,M){const z=pe.get();z.set(C,M),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new T(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(C,M){this.h=C,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ye=!1,Re=new he,B=()=>{const f=c.Promise.resolve(void 0);se=()=>{f.then(te)}};var te=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(M){$(M)}var C=pe;C.j(f),100>C.h&&(C.h++,f.next=C.g,C.g=f)}ye=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,C){this.type=f,this.g=this.target=C,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,C=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};c.addEventListener("test",M,C),c.removeEventListener("test",M,C)}catch{}return f}();function ke(f,C){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=C,C=f.relatedTarget){if(j){e:{try{V(C.nodeName);var K=!0;break e}catch{}K=!1}K||(C=null)}}else M=="mouseover"?C=f.fromElement:M=="mouseout"&&(C=f.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ke.aa.h.call(this)}}v(ke,ce);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Qn(f,C,M,z,K){this.listener=f,this.proxy=null,this.src=C,this.type=M,this.capture=!!z,this.ha=K,this.key=++pt,this.da=this.fa=!1}function St(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function fn(f){this.src=f,this.g={},this.h=0}fn.prototype.add=function(f,C,M,z,K){var re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);var ve=Yr(f,C,z,K);return-1<ve?(C=f[ve],M||(C.fa=!1)):(C=new Qn(C,this.src,re,!!z,K),C.fa=M,f.push(C)),C};function br(f,C){var M=C.type;if(M in f.g){var z=f.g[M],K=Array.prototype.indexOf.call(z,C,void 0),re;(re=0<=K)&&Array.prototype.splice.call(z,K,1),re&&(St(C),f.g[M].length==0&&(delete f.g[M],f.h--))}}function Yr(f,C,M,z){for(var K=0;K<f.length;++K){var re=f[K];if(!re.da&&re.listener==C&&re.capture==!!M&&re.ha==z)return K}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),va={};function rs(f,C,M,z,K){if(Array.isArray(C)){for(var re=0;re<C.length;re++)rs(f,C[re],M,z,K);return null}return M=xi(M),f&&f[Tt]?f.K(C,M,y(z)?!!z.capture:!1,K):bn(f,C,M,!1,z,K)}function bn(f,C,M,z,K,re){if(!C)throw Error("Invalid event type");var ve=y(K)?!!K.capture:!!K,tt=Yn(f);if(tt||(f[_n]=tt=new fn(f)),M=tt.add(C,M,z,ve,re),M.proxy)return M;if(z=fo(),M.proxy=z,z.src=f,z.listener=M,f.addEventListener)_e||(K=ve),K===void 0&&(K=!1),f.addEventListener(C.toString(),z,K);else if(f.attachEvent)f.attachEvent(Kr(C.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function fo(){function f(M){return C.call(f.src,f.listener,M)}const C=dr;return f}function _a(f,C,M,z,K){if(Array.isArray(C))for(var re=0;re<C.length;re++)_a(f,C[re],M,z,K);else z=y(z)?!!z.capture:!!z,M=xi(M),f&&f[Tt]?(f=f.i,C=String(C).toString(),C in f.g&&(re=f.g[C],M=Yr(re,M,z,K),-1<M&&(St(re[M]),Array.prototype.splice.call(re,M,1),re.length==0&&(delete f.g[C],f.h--)))):f&&(f=Yn(f))&&(C=f.g[C.toString()],f=-1,C&&(f=Yr(C,M,z,K)),(M=-1<f?C[f]:null)&&Ai(M))}function Ai(f){if(typeof f!="number"&&f&&!f.da){var C=f.src;if(C&&C[Tt])br(C.i,f);else{var M=f.type,z=f.proxy;C.removeEventListener?C.removeEventListener(M,z,f.capture):C.detachEvent?C.detachEvent(Kr(M),z):C.addListener&&C.removeListener&&C.removeListener(z),(M=Yn(C))?(br(M,f),M.h==0&&(M.src=null,C[_n]=null)):St(f)}}}function Kr(f){return f in va?va[f]:va[f]="on"+f}function dr(f,C){if(f.da)f=!0;else{C=new ke(C,this);var M=f.listener,z=f.ha||f.src;f.fa&&Ai(f),f=M.call(z,C)}return f}function Yn(f){return f=f[_n],f instanceof fn?f:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function xi(f){return typeof f=="function"?f:(f[Ri]||(f[Ri]=function(C){return f.handleEvent(C)}),f[Ri])}function lt(){me.call(this),this.i=new fn(this),this.M=this,this.F=null}v(lt,me),lt.prototype[Tt]=!0,lt.prototype.removeEventListener=function(f,C,M,z){_a(this,f,C,M,z)};function He(f,C){var M,z=f.F;if(z)for(M=[];z;z=z.F)M.push(z);if(f=f.M,z=C.type||C,typeof C=="string")C=new ce(C,f);else if(C instanceof ce)C.target=C.target||f;else{var K=C;C=new ce(z,f),O(C,K)}if(K=!0,M)for(var re=M.length-1;0<=re;re--){var ve=C.g=M[re];K=hn(ve,z,!0,C)&&K}if(ve=C.g=f,K=hn(ve,z,!0,C)&&K,K=hn(ve,z,!1,C)&&K,M)for(re=0;re<M.length;re++)ve=C.g=M[re],K=hn(ve,z,!1,C)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var f=this.i,C;for(C in f.g){for(var M=f.g[C],z=0;z<M.length;z++)St(M[z]);delete f.g[C],f.h--}}this.F=null},lt.prototype.K=function(f,C,M,z){return this.i.add(String(f),C,!1,M,z)},lt.prototype.L=function(f,C,M,z){return this.i.add(String(f),C,!0,M,z)};function hn(f,C,M,z){if(C=f.i.g[String(C)],!C)return!0;C=C.concat();for(var K=!0,re=0;re<C.length;++re){var ve=C[re];if(ve&&!ve.da&&ve.capture==M){var tt=ve.listener,Bt=ve.ha||ve.src;ve.fa&&br(f.i,ve),K=tt.call(Bt,z)!==!1&&K}}return K&&!z.defaultPrevented}function Lt(f,C,M){if(typeof f=="function")M&&(f=p(f,M));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(f,C||0)}function is(f){f.g=Lt(()=>{f.g=null,f.i&&(f.i=!1,is(f))},f.l);const C=f.h;f.h=null,f.m.apply(null,C)}class Kn extends me{constructor(C,M){super(),this.m=C,this.l=M,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(f){me.call(this),this.h=f,this.g={}}v(Er,me);var Tr=[];function wr(f){L(f.g,function(C,M){this.g.hasOwnProperty(M)&&Ai(C)},f),f.g={}}Er.prototype.N=function(){Er.aa.N.call(this),wr(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=c.JSON.stringify,Xr=c.JSON.parse,Xn=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ci(){}Ci.prototype.h=null;function Zr(f){return f.h||(f.h=f.i())}function ba(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ce.call(this,"d")}v(mr,ce);function Di(){ce.call(this,"c")}v(Di,ce);var En={},Sr=null;function Ar(){return Sr=Sr||new lt}En.La="serverreachability";function Oi(f){ce.call(this,En.La,f)}v(Oi,ce);function H(f){const C=Ar();He(C,new Oi(C))}En.STAT_EVENT="statevent";function Y(f,C){ce.call(this,En.STAT_EVENT,f),this.stat=C}v(Y,ce);function Z(f){const C=Ar();He(C,new Y(C,f))}En.Ma="timingevent";function le(f,C){ce.call(this,En.Ma,f),this.size=C}v(le,ce);function ge(f,C){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},C)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ie(f,C,M,z,K,re){f.info(function(){if(f.g)if(re)for(var ve="",tt=re.split("&"),Bt=0;Bt<tt.length;Bt++){var nt=tt[Bt].split("=");if(1<nt.length){var Xt=nt[0];nt=nt[1];var qt=Xt.split("_");ve=2<=qt.length&&qt[1]=="type"?ve+(Xt+"="+nt+"&"):ve+(Xt+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+z+") [attempt "+K+"]: "+C+`
`+M+`
`+ve})}function Te(f,C,M,z,K,re,ve){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+K+"]: "+C+`
`+M+`
`+re+" "+ve})}function Se(f,C,M,z){f.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ne(f,M)+(z?" "+z:"")})}function Ce(f,C){f.info(function(){return"TIMEOUT: "+C})}Ee.prototype.info=function(){};function Ne(f,C){if(!f.g)return C;if(!C)return null;try{var M=JSON.parse(C);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var z=M[f];if(!(2>z.length)){var K=z[1];if(Array.isArray(K)&&!(1>K.length)){var re=K[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<K.length;ve++)K[ve]=""}}}}return Mn(M)}catch{return C}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ke;function ct(){}v(ct,Ci),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},Ke=new ct;function st(f,C,M,z){this.j=f,this.i=C,this.l=M,this.R=z||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Qe={},Jn={};function $t(f,C,M){f.L=1,f.v=wa(Ln(C)),f.m=M,f.P=!0,Tn(f,null)}function Tn(f,C){f.F=Date.now(),Nn(f),f.A=Ln(f.v);var M=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),yo(M.i,"t",z),f.C=0,M=f.j.J,f.h=new et,f.g=nu(f.j,M?C:null,!f.m),0<f.O&&(f.M=new Kn(p(f.Y,f,f.g),f.O)),C=f.U,M=f.g,z=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Tr[0]=K.toString()),K=Tr);for(var re=0;re<K.length;re++){var ve=rs(M,K[re],z||C.handleEvent,!1,C.h||C);if(!ve)break;C.g[ve.key]=ve}C=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,C)):(f.u="GET",f.g.ea(f.A,f.u,null,C)),H(),Ie(f.i,f.u,f.A,f.l,f.R,f.m)}st.prototype.ca=function(f){f=f.target;const C=this.M;C&&rr(f)==3?C.j():this.Y(f)},st.prototype.Y=function(f){try{if(f==this.g)e:{const qt=rr(this.g);var C=this.g.Ba();const ai=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Yl(this.g)))){this.J||qt!=4||C==7||(C==8||0>=ai?H(3):H(2)),dn(this);var M=this.g.Z();this.X=M;t:if(tn(this)){var z=Yl(this.g);f="";var K=z.length,re=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),wn(this);var ve="";break t}this.h.i=new c.TextDecoder}for(C=0;C<K;C++)this.h.h=!0,f+=this.h.i.decode(z[C],{stream:!(re&&C==K-1)});z.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=M==200,Te(this.i,this.u,this.A,this.l,this.R,qt,M),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Bt=this.g;if((tt=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(tt)){var nt=tt;break t}}nt=null}if(M=nt)Se(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jt(this,M);else{this.o=!1,this.s=3,Z(12),ze(this),wn(this);break e}}if(this.P){M=!0;let rn;for(;!this.J&&this.C<ve.length;)if(rn=Rr(this,ve),rn==Jn){qt==4&&(this.s=4,Z(14),M=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qe){this.s=4,Z(15),Se(this.i,this.l,ve,"[Invalid Chunk]"),M=!1;break}else Se(this.i,this.l,rn,null),jt(this,rn);if(tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ve.length!=0||this.h.h||(this.s=1,Z(16),M=!1),this.o=this.o&&M,!M)Se(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),wn(this);else if(0<ve.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ia(Xt),Xt.M=!0,Z(11))}}else Se(this.i,this.l,ve,null),jt(this,ve);qt==4&&ze(this),this.o&&!this.J&&(qt==4?Wl(this.j,this):(this.o=!1,Nn(this)))}else pf(this.g),M==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),ze(this),wn(this)}}}catch{}finally{}};function tn(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Rr(f,C){var M=f.C,z=C.indexOf(`
`,M);return z==-1?Jn:(M=Number(C.substring(M,z)),isNaN(M)?Qe:(z+=1,z+M>C.length?Jn:(C=C.slice(z,z+M),f.C=z+M,C)))}st.prototype.cancel=function(){this.J=!0,ze(this)};function Nn(f){f.S=Date.now()+f.I,Ii(f,f.I)}function Ii(f,C){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ge(p(f.ba,f),C)}function dn(f){f.B&&(c.clearTimeout(f.B),f.B=null)}st.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ce(this.i,this.A),this.L!=2&&(H(),Z(17)),ze(this),this.s=2,wn(this)):Ii(this,this.S-f)};function wn(f){f.j.G==0||f.J||Wl(f.j,f)}function ze(f){dn(f);var C=f.M;C&&typeof C.ma=="function"&&C.ma(),f.M=null,wr(f.U),f.g&&(C=f.g,f.g=null,C.abort(),C.ma())}function jt(f,C){try{var M=f.j;if(M.G!=0&&(M.g==f||Wn(M.h,f))){if(!f.K&&Wn(M.h,f)&&M.G==3){try{var z=M.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var K=z;if(K[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)ds(M),fs(M);else break e;To(M),Z(18)}}else M.za=K[1],0<M.za-M.T&&37500>K[2]&&M.F&&M.v==0&&!M.C&&(M.C=ge(p(M.Za,M),6e3));if(1>=bt(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ii(M,11)}else if((f.K||M.g==f)&&ds(M),!A(C))for(K=M.Da.g.parse(C),C=0;C<K.length;C++){let nt=K[C];if(M.T=nt[0],nt=nt[1],M.G==2)if(nt[0]=="c"){M.K=nt[1],M.ia=nt[2];const Xt=nt[3];Xt!=null&&(M.la=Xt,M.j.info("VER="+M.la));const qt=nt[4];qt!=null&&(M.Aa=qt,M.j.info("SVER="+M.Aa));const ai=nt[5];ai!=null&&typeof ai=="number"&&0<ai&&(z=1.5*ai,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const rn=f.g;if(rn){const Vr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var re=z.h;re.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Jr(re,re.h),re.h=null))}if(z.D){const So=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(z.ya=So,gt(z.I,z.D,So))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var ve=f;if(z.qa=tu(z,z.J?z.ia:null,z.W),ve.K){nn(z.h,ve);var tt=ve,Bt=z.L;Bt&&(tt.I=Bt),tt.B&&(dn(tt),Nn(tt)),z.g=ve}else Zl(z);0<M.i.length&&hs(M)}else nt[0]!="stop"&&nt[0]!="close"||ii(M,7);else M.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ii(M,7):bo(M):nt[0]!="noop"&&M.l&&M.l.ta(nt),M.v=0)}}H(4)}catch{}}var Vn=class{constructor(f,C){this.g=f,this.map=C}};function Rn(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bt(f){return f.h?1:f.g?f.g.size:0}function Wn(f,C){return f.h?f.h==C:f.g?f.g.has(C):!1}function Jr(f,C){f.g?f.g.add(C):f.h=C}function nn(f,C){f.h&&f.h==C?f.h=null:f.g&&f.g.has(C)&&f.g.delete(C)}Rn.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ho(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let C=f.i;for(const M of f.g.values())C=C.concat(M.D);return C}return b(f.i)}function ff(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(g(f)){for(var C=[],M=f.length,z=0;z<M;z++)C.push(f[z]);return C}C=[],M=0;for(z in f)C[M++]=f[z];return C}function as(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(g(f)||typeof f=="string"){var C=[];f=f.length;for(var M=0;M<f;M++)C.push(M);return C}C=[],M=0;for(const z in f)C[M++]=z;return C}}}function mo(f,C){if(f.forEach&&typeof f.forEach=="function")f.forEach(C,void 0);else if(g(f)||typeof f=="string")Array.prototype.forEach.call(f,C,void 0);else for(var M=as(f),z=ff(f),K=z.length,re=0;re<K;re++)C.call(void 0,z[re],M&&M[re],f)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(f,C){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var z=f[M].indexOf("="),K=null;if(0<=z){var re=f[M].substring(0,z);K=f[M].substring(z+1)}else re=f[M];C(re,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function kt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof kt){this.h=f.h,Ta(this,f.j),this.o=f.o,this.g=f.g,Mi(this,f.s),this.l=f.l;var C=f.i,M=new ei;M.i=C.i,C.g&&(M.g=new Map(C.g),M.h=C.h),Wr(this,M),this.m=f.m}else f&&(C=String(f).match(Ea))?(this.h=!1,Ta(this,C[1]||"",!0),this.o=er(C[2]||""),this.g=er(C[3]||"",!0),Mi(this,C[4]),this.l=er(C[5]||"",!0),Wr(this,C[6]||"",!0),this.m=er(C[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}kt.prototype.toString=function(){var f=[],C=this.j;C&&f.push(Sa(C,po,!0),":");var M=this.g;return(M||C=="file")&&(f.push("//"),(C=this.o)&&f.push(Sa(C,po,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(Sa(M,M.charAt(0)=="/"?df:go,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",Sa(M,ss)),f.join("")};function Ln(f){return new kt(f)}function Ta(f,C,M){f.j=M?er(C,!0):C,f.j&&(f.j=f.j.replace(/:$/,""))}function Mi(f,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);f.s=C}else f.s=null}function Wr(f,C,M){C instanceof ei?(f.i=C,Gl(f.i,f.h)):(M||(C=Sa(C,mf)),f.i=new ei(C,f.h))}function gt(f,C,M){f.i.set(C,M)}function wa(f){return gt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function er(f,C){return f?C?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Sa(f,C,M){return typeof f=="string"?(f=encodeURI(f).replace(C,Fl),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var po=/[#\/\?@]/g,go=/[#\?:]/g,df=/[#\?]/g,mf=/[#\?@]/g,ss=/#/g;function ei(f,C){this.h=this.g=null,this.i=f||null,this.j=!!C}function tr(f){f.g||(f.g=new Map,f.h=0,f.i&&hf(f.i,function(C,M){f.add(decodeURIComponent(C.replace(/\+/g," ")),M)}))}i=ei.prototype,i.add=function(f,C){tr(this),this.i=null,f=Cr(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(C),this.h+=1,this};function ti(f,C){tr(f),C=Cr(f,C),f.g.has(C)&&(f.i=null,f.h-=f.g.get(C).length,f.g.delete(C))}function ni(f,C){return tr(f),C=Cr(f,C),f.g.has(C)}i.forEach=function(f,C){tr(this),this.g.forEach(function(M,z){M.forEach(function(K){f.call(C,K,z,this)},this)},this)},i.na=function(){tr(this);const f=Array.from(this.g.values()),C=Array.from(this.g.keys()),M=[];for(let z=0;z<C.length;z++){const K=f[z];for(let re=0;re<K.length;re++)M.push(C[z])}return M},i.V=function(f){tr(this);let C=[];if(typeof f=="string")ni(this,f)&&(C=C.concat(this.g.get(Cr(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)C=C.concat(f[M])}return C},i.set=function(f,C){return tr(this),this.i=null,f=Cr(this,f),ni(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[C]),this.h+=1,this},i.get=function(f,C){return f?(f=this.V(f),0<f.length?String(f[0]):C):C};function yo(f,C,M){ti(f,C),0<M.length&&(f.i=null,f.g.set(Cr(f,C),b(M)),f.h+=M.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],C=Array.from(this.g.keys());for(var M=0;M<C.length;M++){var z=C[M];const re=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var K=re;ve[z]!==""&&(K+="="+encodeURIComponent(String(ve[z]))),f.push(K)}}return this.i=f.join("&")};function Cr(f,C){return C=String(C),f.j&&(C=C.toLowerCase()),C}function Gl(f,C){C&&!f.j&&(tr(f),f.i=null,f.g.forEach(function(M,z){var K=z.toLowerCase();z!=K&&(ti(this,z),yo(this,K,M))},f)),f.j=C}function Aa(f,C){const M=new Ee;if(c.Image){const z=new Image;z.onload=_(nr,M,"TestLoadImage: loaded",!0,C,z),z.onerror=_(nr,M,"TestLoadImage: error",!1,C,z),z.onabort=_(nr,M,"TestLoadImage: abort",!1,C,z),z.ontimeout=_(nr,M,"TestLoadImage: timeout",!1,C,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else C(!1)}function pr(f,C){const M=new Ee,z=new AbortController,K=setTimeout(()=>{z.abort(),nr(M,"TestPingServer: timeout",!1,C)},1e4);fetch(f,{signal:z.signal}).then(re=>{clearTimeout(K),re.ok?nr(M,"TestPingServer: ok",!0,C):nr(M,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(K),nr(M,"TestPingServer: error",!1,C)})}function nr(f,C,M,z,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),z(M)}catch{}}function Ra(){this.g=new Xn}function Dr(f,C,M){const z=M||"";try{mo(f,function(K,re){let ve=K;y(K)&&(ve=Mn(K)),C.push(z+re+"="+encodeURIComponent(ve))})}catch(K){throw C.push(z+"type="+encodeURIComponent("_badmap")),K}}function Ni(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Ni,Ci),Ni.prototype.g=function(){return new ri(this.l,this.j)},Ni.prototype.i=function(f){return function(){return f}}({});function ri(f,C){lt.call(this),this.D=f,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ri,lt),i=ri.prototype,i.open=function(f,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=C,this.readyState=1,Ir(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(C.body=f),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var C=f.value?f.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!f.done}))&&(this.response=this.responseText+=C)}f.done?Or(this):Ir(this),this.readyState==3&&vo(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,Or(this))},i.Qa=function(f){this.g&&(this.response=f,Or(this))},i.ga=function(){this.g&&Or(this)};function Or(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ir(f)}i.setRequestHeader=function(f,C){this.u.append(f,C)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],C=this.h.entries();for(var M=C.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=C.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function _o(f){let C="";return L(f,function(M,z){C+=z,C+=":",C+=M,C+=`\r
`}),C}function Kt(f,C,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=_o(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):gt(f,C,M))}function ft(f){lt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ft,lt);var os=/^https?$/i,xa=["POST","PUT"];i=ft.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,C,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);C=C?C.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Zr(this.o):Zr(Ke),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(f),!0),this.B=!1}catch(re){Ql(this,re);return}if(f=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var K in z)M.set(K,z[K]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const re of z.keys())M.set(re,z.get(re));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(re=>re.toLowerCase()=="content-type"),K=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xa,C,void 0))||z||K||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of M)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(f),this.u=!1}catch(re){Ql(this,re)}};function Ql(f,C){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=C,f.m=5,ls(f),Mr(f)}function ls(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,He(this,"complete"),He(this,"abort"),Mr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?us(this):this.bb())},i.bb=function(){us(this)};function us(f){if(f.h&&typeof h<"u"&&(!f.v[1]||rr(f)!=4||f.Z()!=2)){if(f.u&&rr(f)==4)Lt(f.Ea,0,f);else if(He(f,"readystatechange"),rr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var M;if(!(M=C)){var z;if(z=ve===0){var K=String(f.D).match(Ea)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),z=!os.test(K?K.toLowerCase():"")}M=z}if(M)He(f,"complete"),He(f,"success");else{f.m=6;try{var re=2<rr(f)?f.g.statusText:""}catch{re=""}f.l=re+" ["+f.Z()+"]",ls(f)}}finally{Mr(f)}}}}function Mr(f,C){if(f.g){Ca(f);const M=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,C||He(f,"ready");try{M.onreadystatechange=z}catch{}}}function Ca(f){f.I&&(c.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function rr(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var C=this.g.responseText;return f&&C.indexOf(f)==0&&(C=C.substring(f.length)),Xr(C)}};function Yl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(f){const C={};f=(f.g&&2<=rr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(A(f[z]))continue;var M=k(f[z]);const K=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const re=C[K]||[];C[K]=re,re.push(M)}I(C,function(z){return z.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(f,C,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||C}function cs(f){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,f),this.cb=Da("retryDelaySeedMs",1e4,f),this.Wa=Da("forwardChannelMaxRetries",2,f),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(f&&f.concurrentRequestLimit),this.Da=new Ra,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=cs.prototype,i.la=8,i.G=1,i.connect=function(f,C,M,z){Z(0),this.W=f,this.H=C||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=tu(this,null,this.W),hs(this)};function bo(f){if(Kl(f),f.G==3){var C=f.U++,M=Ln(f.I);if(gt(M,"SID",f.K),gt(M,"RID",C),gt(M,"TYPE","terminate"),Oa(f,M),C=new st(f,f.j,C),C.L=2,C.v=wa(Ln(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=C.v,M=!0),M||(C.g=nu(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Nn(C)}eu(f)}function fs(f){f.g&&(Ia(f),f.g.cancel(),f.g=null)}function Kl(f){fs(f),f.u&&(c.clearTimeout(f.u),f.u=null),ds(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function hs(f){if(!xr(f.h)&&!f.s){f.s=!0;var C=f.Ga;se||B(),ye||(se(),ye=!0),Re.add(C,f),f.B=0}}function gf(f,C){return bt(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=C.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ge(p(f.Ga,f,C),wo(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new st(this,this.j,f);let re=this.o;if(this.S&&(re?(re=S(re),O(re,this.S)):re=this.S),this.m!==null||this.O||(K.H=re,re=null),this.P)e:{for(var C=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=M;break e}if(C===4096||M===this.i.length-1){C=M+1;break e}}C=1e3}else C=1e3;C=Xl(this,K,C),M=Ln(this.I),gt(M,"RID",f),gt(M,"CVER",22),this.D&&gt(M,"X-HTTP-Session-Id",this.D),Oa(this,M),re&&(this.O?C="headers="+encodeURIComponent(String(_o(re)))+"&"+C:this.m&&Kt(M,this.m,re)),Jr(this.h,K),this.Ua&&gt(M,"TYPE","init"),this.P?(gt(M,"$req",C),gt(M,"SID","null"),K.T=!0,$t(K,M,null)):$t(K,M,C),this.G=2}}else this.G==3&&(f?Eo(this,f):this.i.length==0||xr(this.h)||Eo(this))};function Eo(f,C){var M;C?M=C.l:M=f.U++;const z=Ln(f.I);gt(z,"SID",f.K),gt(z,"RID",M),gt(z,"AID",f.T),Oa(f,z),f.m&&f.o&&Kt(z,f.m,f.o),M=new st(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),C&&(f.i=C.D.concat(f.i)),C=Xl(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Jr(f.h,M),$t(M,z,C)}function Oa(f,C){f.H&&L(f.H,function(M,z){gt(C,z,M)}),f.l&&mo({},function(M,z){gt(C,z,M)})}function Xl(f,C,M){M=Math.min(f.i.length,M);var z=f.l?p(f.l.Na,f.l,f):null;e:{var K=f.i;let re=-1;for(;;){const ve=["count="+M];re==-1?0<M?(re=K[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let tt=!0;for(let Bt=0;Bt<M;Bt++){let nt=K[Bt].g;const Xt=K[Bt].map;if(nt-=re,0>nt)re=Math.max(0,K[Bt].g-100),tt=!1;else try{Dr(Xt,ve,"req"+nt+"_")}catch{z&&z(Xt)}}if(tt){z=ve.join("&");break e}}}return f=f.i.splice(0,M),C.D=f,z}function Zl(f){if(!f.g&&!f.u){f.Y=1;var C=f.Fa;se||B(),ye||(se(),ye=!0),Re.add(C,f),f.v=0}}function To(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ge(p(f.Fa,f),wo(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ge(p(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),fs(this),Jl(this))};function Ia(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Jl(f){f.g=new st(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var C=Ln(f.qa);gt(C,"RID","rpc"),gt(C,"SID",f.K),gt(C,"AID",f.T),gt(C,"CI",f.F?"0":"1"),!f.F&&f.ja&&gt(C,"TO",f.ja),gt(C,"TYPE","xmlhttp"),Oa(f,C),f.m&&f.o&&Kt(C,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=wa(Ln(C)),M.m=null,M.P=!0,Tn(M,f)}i.Za=function(){this.C!=null&&(this.C=null,fs(this),To(this),Z(19))};function ds(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Wl(f,C){var M=null;if(f.g==C){ds(f),Ia(f),f.g=null;var z=2}else if(Wn(f.h,C))M=C.D,nn(f.h,C),z=1;else return;if(f.G!=0){if(C.o)if(z==1){M=C.m?C.m.length:0,C=Date.now()-C.F;var K=f.B;z=Ar(),He(z,new le(z,M)),hs(f)}else Zl(f);else if(K=C.s,K==3||K==0&&0<C.X||!(z==1&&gf(f,C)||z==2&&To(f)))switch(M&&0<M.length&&(C=f.h,C.i=C.i.concat(M)),K){case 1:ii(f,5);break;case 4:ii(f,10);break;case 3:ii(f,6);break;default:ii(f,2)}}}function wo(f,C){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*C}function ii(f,C){if(f.j.info("Error code "+C),C==2){var M=p(f.fb,f),z=f.Xa;const K=!z;z=new kt(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ta(z,"https"),wa(z),K?Aa(z.toString(),M):pr(z.toString(),M)}else Z(2);f.G=0,f.l&&f.l.sa(C),eu(f),Kl(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function eu(f){if(f.G=0,f.ka=[],f.l){const C=ho(f.h);(C.length!=0||f.i.length!=0)&&(R(f.ka,C),R(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function tu(f,C,M){var z=M instanceof kt?Ln(M):new kt(M);if(z.g!="")C&&(z.g=C+"."+z.g),Mi(z,z.s);else{var K=c.location;z=K.protocol,C=C?C+"."+K.hostname:K.hostname,K=+K.port;var re=new kt(null);z&&Ta(re,z),C&&(re.g=C),K&&Mi(re,K),M&&(re.l=M),z=re}return M=f.D,C=f.ya,M&&C&&gt(z,M,C),gt(z,"VER",f.la),Oa(f,z),z}function nu(f,C,M){if(C&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=f.Ca&&!f.pa?new ft(new Ni({eb:M})):new ft(f.pa),C.Ha(f.J),C}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}i=ru.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ms(){}ms.prototype.g=function(f,C){return new Sn(f,C)};function Sn(f,C){lt.call(this),this.g=new cs(C),this.l=f,this.h=C&&C.messageUrlParams||null,f=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(f?f["X-WebChannel-Content-Type"]=C.messageContentType:f={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(f?f["X-WebChannel-Client-Profile"]=C.va:f={"X-WebChannel-Client-Profile":C.va}),this.g.S=f,(f=C&&C.Sb)&&!A(f)&&(this.g.m=f),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!A(C)&&(this.g.D=C,f=this.h,f!==null&&C in f&&(f=this.h,C in f&&delete f[C])),this.j=new Nr(this)}v(Sn,lt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){bo(this.g)},Sn.prototype.o=function(f){var C=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=Mn(f),f=M);C.i.push(new Vn(C.Ya++,f)),C.G==3&&hs(C)},Sn.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Sn.aa.N.call(this)};function iu(f){mr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var C=f.__sm__;if(C){e:{for(const M in C){f=M;break e}f=void 0}(this.i=f)&&(f=this.i,C=C!==null&&f in C?C[f]:void 0),this.data=C}else this.data=f}v(iu,mr);function au(){Di.call(this),this.status=1}v(au,Di);function Nr(f){this.g=f}v(Nr,ru),Nr.prototype.ua=function(){He(this.g,"a")},Nr.prototype.ta=function(f){He(this.g,new iu(f))},Nr.prototype.sa=function(f){He(this.g,new au)},Nr.prototype.ra=function(){He(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,P0=function(){return new ms},k0=function(){return Ar()},j0=En,kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,gc=Ae,Le.COMPLETE="complete",L0=Le,ba.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,vl=ba,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,V0=ft}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Wv="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new x0("@firebase/firestore");function Fs(){return Za.logLevel}function be(i,...e){if(Za.logLevel<=at.DEBUG){const r=e.map(mm);Za.debug(`Firestore (${so}): ${i}`,...r)}}function Ei(i,...e){if(Za.logLevel<=at.ERROR){const r=e.map(mm);Za.error(`Firestore (${so}): ${i}`,...r)}}function Js(i,...e){if(Za.logLevel<=at.WARN){const r=e.map(mm);Za.warn(`Firestore (${so}): ${i}`,...r)}}function mm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,U0(i,s,r)}function U0(i,e,r){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Ei(s),new Error(s)}function ht(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||U0(e,o,s)}function Be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends ao{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(yn.UNAUTHENTICATED))}shutdown(){}}class $1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class B1{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ht(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,r(g)):Promise.resolve();let u=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _i,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},c=g=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>c(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?c(g):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _i)}},0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht(typeof s.accessToken=="string",31837,{l:s}),new z0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class q1{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H1{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new q1(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F1{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,A1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ht(this.o===void 0,3512);const s=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new e_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=G1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function Pd(i,e){let r=0;for(;r<i.length&&r<e.length;){const s=i.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=$0(),h=Q1(u.encode(t_(i,r)),u.encode(t_(e,r)));return h!==0?h:Ge(s,o)}}r+=s>65535?2:1}return Ge(i.length,e.length)}function t_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function Q1(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return Ge(i[r],e[r]);return Ge(i.length,e.length)}function Ws(i,e,r){return i.length===e.length&&i.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,r_=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*r_);return new Qt(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<n_)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Qt(0,0))}static max(){return new $e(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="__name__";class zr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Pe(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Pe(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=zr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Ge(e.length,r.length)}static compareSegments(e,r){const s=zr.isNumericId(e),o=zr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?zr.extractNumericId(e).compare(zr.extractNumericId(r)):Pd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class Rt extends zr{construct(e,r,s){return new Rt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new Rt(r)}static emptyPath(){return new Rt([])}}const Y1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends zr{construct(e,r,s){return new un(e,r,s)}static isValidIdentifier(e){return Y1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i_}static keyField(){return new un([i_])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let h=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else c==="`"?(h=!h,o++):c!=="."||h?(s+=c,o++):(u(),o++)}if(u(),h)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(r)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Rt.fromString(e))}static fromName(e){return new Me(Rt.fromString(e).popFirst(5))}static empty(){return new Me(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function K1(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(s===1e9?new Qt(r+1,0):new Qt(r,s));return new ca(o,Me.empty(),e)}function X1(i){return new ca(i.readTime,i.key,Ol)}class ca{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ca($e.min(),Me.empty(),Ol)}static max(){return new ca($e.max(),Me.empty(),Ol)}}function Z1(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=Me.comparator(i.documentKey,e.documentKey),r!==0?r:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==J1)throw i;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.reject(r)}static resolve(e){return new fe((r,s)=>{r(e)})}static reject(e){return new fe((r,s)=>{s(e)})}static waitFor(e){return new fe((r,s)=>{let o=0,u=0,h=!1;e.forEach(c=>{++o,c.next(()=>{++u,h&&u===o&&r()},g=>s(g))}),h=!0,u===o&&r()})}static or(e){let r=fe.resolve(!1);for(const s of e)r=r.next(o=>o?fe.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,u)=>{s.push(r.call(this,o,u))}),this.waitFor(s)}static mapArray(e,r){return new fe((s,o)=>{const u=e.length,h=new Array(u);let c=0;for(let g=0;g<u;g++){const y=g;r(e[y]).next(E=>{h[y]=E,++c,c===u&&s(h)},E=>o(E))}})}static doWhile(e,r){return new fe((s,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):s()};u()})}}function eR(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Gc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=-1;function Qc(i){return i==null}function Ic(i){return i===0&&1/i==-1/0}function tR(i){return typeof i=="number"&&Number.isInteger(i)&&!Ic(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="";function nR(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=a_(e)),e=rR(i.get(r),e);return a_(e)}function rR(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case q0:r+="";break;default:r+=u}}return r}function a_(i){return i+q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ga(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function H0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,r){this.comparator=e,this.root=r||ln.EMPTY}insert(e,r){return new Ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new ln(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new ln(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Yt(this.comparator);return r.data=e,r}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Fn([])}unionWith(e){let r=new Yt(un.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Fn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new F0("Invalid base64 string: "+u):u}}(e);return new cn(r)}static fromUint8Array(e){const r=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new cn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(ht(!!i,39018),typeof i=="string"){let e=0;const r=iR.exec(i);if(ht(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ha(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="server_timestamp",Q0="__type__",Y0="__previous_value__",K0="__local_write_time__";function gm(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q0])===null||r===void 0?void 0:r.stringValue)===G0}function Yc(i){const e=i.mapValue.fields[Y0];return gm(e)?Yc(e):e}function Il(i){const e=fa(i.mapValue.fields[K0].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,r,s,o,u,h,c,g,y,E){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=c,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Mc="(default)";class Ml{constructor(e,r){this.projectId=e,this.database=r||Mc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__type__",sR="__max__",cc={mapValue:{}},Z0="__vector__",Nc="value";function da(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gm(i)?4:lR(i)?9007199254740991:oR(i)?10:11:Pe(28295,{value:i})}function Hr(i,e){if(i===e)return!0;const r=da(i);if(r!==da(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Il(i).isEqual(Il(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fa(o.timestampValue),c=fa(u.timestampValue);return h.seconds===c.seconds&&h.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ha(o.bytesValue).isEqual(ha(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Nt(o.doubleValue),c=Nt(u.doubleValue);return h===c?Ic(h)===Ic(c):isNaN(h)&&isNaN(c)}return!1}(i,e);case 9:return Ws(i.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},c=u.mapValue.fields||{};if(s_(h)!==s_(c))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(c[g]===void 0||!Hr(h[g],c[g])))return!1;return!0}(i,e);default:return Pe(52216,{left:i})}}function Nl(i,e){return(i.values||[]).find(r=>Hr(r,e))!==void 0}function eo(i,e){if(i===e)return 0;const r=da(i),s=da(e);if(r!==s)return Ge(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,h){const c=Nt(u.integerValue||u.doubleValue),g=Nt(h.integerValue||h.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(i,e);case 3:return l_(i.timestampValue,e.timestampValue);case 4:return l_(Il(i),Il(e));case 5:return Pd(i.stringValue,e.stringValue);case 6:return function(u,h){const c=ha(u),g=ha(h);return c.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const c=u.split("/"),g=h.split("/");for(let y=0;y<c.length&&y<g.length;y++){const E=Ge(c[y],g[y]);if(E!==0)return E}return Ge(c.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const c=Ge(Nt(u.latitude),Nt(h.latitude));return c!==0?c:Ge(Nt(u.longitude),Nt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return u_(i.arrayValue,e.arrayValue);case 10:return function(u,h){var c,g,y,E;const d=u.fields||{},p=h.fields||{},_=(c=d[Nc])===null||c===void 0?void 0:c.arrayValue,v=(g=p[Nc])===null||g===void 0?void 0:g.arrayValue,b=Ge(((y=_==null?void 0:_.values)===null||y===void 0?void 0:y.length)||0,((E=v==null?void 0:v.values)===null||E===void 0?void 0:E.length)||0);return b!==0?b:u_(_,v)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===cc.mapValue&&h===cc.mapValue)return 0;if(u===cc.mapValue)return 1;if(h===cc.mapValue)return-1;const c=u.fields||{},g=Object.keys(c),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let d=0;d<g.length&&d<E.length;++d){const p=Pd(g[d],E[d]);if(p!==0)return p;const _=eo(c[g[d]],y[E[d]]);if(_!==0)return _}return Ge(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Pe(23264,{Pe:r})}}function l_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const r=fa(i),s=fa(e),o=Ge(r.seconds,s.seconds);return o!==0?o:Ge(r.nanos,s.nanos)}function u_(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=eo(r[o],s[o]);if(u)return u}return Ge(r.length,s.length)}function to(i){return Ud(i)}function Ud(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=fa(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return ha(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return Me.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=Ud(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ud(r.fields[h])}`;return o+"}"}(i.mapValue):Pe(61005,{value:i})}function yc(i){switch(da(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(i);return e?16+yc(e):16;case 5:return 2*i.stringValue.length;case 6:return ha(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ga(s.fields,(u,h)=>{o+=u.length+yc(h)}),o}(i.mapValue);default:throw Pe(13486,{value:i})}}function zd(i){return!!i&&"integerValue"in i}function ym(i){return!!i&&"arrayValue"in i}function c_(i){return!!i&&"nullValue"in i}function f_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vc(i){return!!i&&"mapValue"in i}function oR(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[X0])===null||r===void 0?void 0:r.stringValue)===Z0}function Tl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ga(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Tl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Tl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function lR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!vc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(r)}setAll(e){let r=un.emptyPath(),s={},o=[];e.forEach((h,c)=>{if(!r.isImmediateParentOf(c)){const g=this.getFieldsMap(r);this.applyChanges(g,s,o),s={},o=[],r=c.popLast()}h?s[c.lastSegment()]=Tl(h):o.push(c.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());vc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){ga(r,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new In(Tl(this.value))}}function J0(i){const e=[];return ga(i.fields,(r,s)=>{const o=new un([r]);if(vc(s)){const u=J0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r,s,o,u,h,c){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=c}static newInvalidDocument(e){return new vn(e,0,$e.min(),$e.min(),$e.min(),In.empty(),0)}static newFoundDocument(e,r,s,o){return new vn(e,1,r,$e.min(),s,o,0)}static newNoDocument(e,r){return new vn(e,2,r,$e.min(),$e.min(),In.empty(),0)}static newUnknownDocument(e,r){return new vn(e,3,r,$e.min(),$e.min(),In.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r){this.position=e,this.inclusive=r}}function h_(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=Me.comparator(Me.fromName(h.referenceValue),r.key):s=eo(h,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function d_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Hr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,r="asc"){this.field=e,this.dir=r}}function uR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class Gt extends W0{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new fR(e,r,s):r==="array-contains"?new mR(e,s):r==="in"?new pR(e,s):r==="not-in"?new gR(e,s):r==="array-contains-any"?new yR(e,s):new Gt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new hR(e,s):new dR(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(eo(r,this.value)):r!==null&&da(this.value)===da(r)&&this.matchesComparison(eo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends W0{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Fr(e,r)}matches(e){return eb(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function eb(i){return i.op==="and"}function tb(i){return cR(i)&&eb(i)}function cR(i){for(const e of i.filters)if(e instanceof Fr)return!1;return!0}function $d(i){if(i instanceof Gt)return i.field.canonicalString()+i.op.toString()+to(i.value);if(tb(i))return i.filters.map(e=>$d(e)).join(",");{const e=i.filters.map(r=>$d(r)).join(",");return`${i.op}(${e})`}}function nb(i,e){return i instanceof Gt?function(s,o){return o instanceof Gt&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)}(i,e):i instanceof Fr?function(s,o){return o instanceof Fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,c)=>u&&nb(h,o.filters[c]),!0):!1}(i,e):void Pe(19439)}function rb(i){return i instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${to(r.value)}`}(i):i instanceof Fr?function(r){return r.op.toString()+" {"+r.getFilters().map(rb).join(" ,")+"}"}(i):"Filter"}class fR extends Gt{constructor(e,r,s){super(e,r,s),this.key=Me.fromName(s.referenceValue)}matches(e){const r=Me.comparator(e.key,this.key);return this.matchesComparison(r)}}class hR extends Gt{constructor(e,r){super(e,"in",r),this.keys=ib("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class dR extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=ib("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ib(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>Me.fromName(s.referenceValue))}class mR extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ym(r)&&Nl(r.arrayValue,this.value)}}class pR extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Nl(this.value.arrayValue,r)}}class gR extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Nl(this.value.arrayValue,r)}}class yR extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ym(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Nl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,r=null,s=[],o=[],u=null,h=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=c,this.Ie=null}}function m_(i,e=null,r=[],s=[],o=null,u=null,h=null){return new vR(i,e,r,s,o,u,h)}function vm(i){const e=Be(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>$d(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Qc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>to(s)).join(",")),e.Ie=r}return e.Ie}function _m(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!uR(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!nb(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!d_(i.startAt,e.startAt)&&d_(i.endAt,e.endAt)}function Bd(i){return Me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,r=null,s=[],o=[],u=null,h="F",c=null,g=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=c,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _R(i,e,r,s,o,u,h,c){return new Kc(i,e,r,s,o,u,h,c)}function bm(i){return new Kc(i)}function p_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bR(i){return i.collectionGroup!==null}function wl(i){const e=Be(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let c=new Yt(un.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(c=c.add(y.field))})}),c})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Lc(u,s))}),r.has(un.keyField().canonicalString())||e.Ee.push(new Lc(un.keyField(),s))}return e.Ee}function Br(i){const e=Be(i);return e.de||(e.de=ER(e,wl(i))),e.de}function ER(i,e){if(i.limitType==="F")return m_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Lc(o.field,u)});const r=i.endAt?new Vc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vc(i.startAt.position,i.startAt.inclusive):null;return m_(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function qd(i,e,r){return new Kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Xc(i,e){return _m(Br(i),Br(e))&&i.limitType===e.limitType}function ab(i){return`${vm(Br(i))}|lt:${i.limitType}`}function Gs(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>rb(o)).join(", ")}]`),Qc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>to(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(Br(i))}; limitType=${i.limitType})`}function Zc(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,c,g){const y=h_(h,c,g);return h.inclusive?y<=0:y<0}(s.startAt,wl(s),o)||s.endAt&&!function(h,c,g){const y=h_(h,c,g);return h.inclusive?y>=0:y>0}(s.endAt,wl(s),o))}(i,e)}function TR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sb(i){return(e,r)=>{let s=!1;for(const o of wl(i)){const u=wR(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function wR(i,e,r){const s=i.field.isKeyField()?Me.comparator(e.key,r.key):function(u,h,c){const g=h.data.field(u),y=c.data.field(u);return g!==null&&y!==null?eo(g,y):Pe(42886)}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Pe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(r,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Ct(Me.comparator);function Ti(){return SR}const ob=new Ct(Me.comparator);function _l(...i){let e=ob;for(const r of i)e=e.insert(r.key,r);return e}function lb(i){let e=ob;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Xa(){return Sl()}function ub(){return Sl()}function Sl(){return new ts(i=>i.toString(),(i,e)=>i.isEqual(e))}const AR=new Ct(Me.comparator),RR=new Yt(Me.comparator);function We(...i){let e=RR;for(const r of i)e=e.add(r);return e}const xR=new Yt(Ge);function CR(){return xR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function cb(i){return{integerValue:""+i}}function DR(i,e){return tR(e)?cb(e):Em(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function OR(i,e,r){return i instanceof jc?function(o,u){const h={fields:{[Q0]:{stringValue:G0},[K0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gm(u)&&(u=Yc(u)),u&&(h.fields[Y0]=u),{mapValue:h}}(r,e):i instanceof Vl?hb(i,e):i instanceof Ll?db(i,e):function(o,u){const h=fb(o,u),c=g_(h)+g_(o.Re);return zd(h)&&zd(o.Re)?cb(c):Em(o.serializer,c)}(i,e)}function IR(i,e,r){return i instanceof Vl?hb(i,e):i instanceof Ll?db(i,e):r}function fb(i,e){return i instanceof kc?function(s){return zd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class jc extends Jc{}class Vl extends Jc{constructor(e){super(),this.elements=e}}function hb(i,e){const r=mb(e);for(const s of i.elements)r.some(o=>Hr(o,s))||r.push(s);return{arrayValue:{values:r}}}class Ll extends Jc{constructor(e){super(),this.elements=e}}function db(i,e){let r=mb(e);for(const s of i.elements)r=r.filter(o=>!Hr(o,s));return{arrayValue:{values:r}}}class kc extends Jc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function g_(i){return Nt(i.integerValue||i.doubleValue)}function mb(i){return ym(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function MR(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Vl&&o instanceof Vl||s instanceof Ll&&o instanceof Ll?Ws(s.elements,o.elements,Hr):s instanceof kc&&o instanceof kc?Hr(s.Re,o.Re):s instanceof jc&&o instanceof jc}(i.transform,e.transform)}class NR{constructor(e,r){this.version=e,this.transformResults=r}}class _r{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Wc{}function pb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tm(i.key,_r.none()):new zl(i.key,i.data,_r.none());{const r=i.data,s=In.empty();let o=new Yt(un.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ya(i.key,s,new Fn(o.toArray()),_r.none())}}function VR(i,e,r){i instanceof zl?function(o,u,h){const c=o.value.clone(),g=v_(o.fieldTransforms,u,h.transformResults);c.setAll(g),u.convertToFoundDocument(h.version,c).setHasCommittedMutations()}(i,e,r):i instanceof ya?function(o,u,h){if(!_c(o.precondition,u))return void u.convertToUnknownDocument(h.version);const c=v_(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(gb(o)),g.setAll(c),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,r):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,r)}function Al(i,e,r,s){return i instanceof zl?function(u,h,c,g){if(!_c(u.precondition,h))return c;const y=u.value.clone(),E=__(u.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,r,s):i instanceof ya?function(u,h,c,g){if(!_c(u.precondition,h))return c;const y=__(u.fieldTransforms,g,h),E=h.data;return E.setAll(gb(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(d=>d.field))}(i,e,r,s):function(u,h,c){return _c(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):c}(i,e,r)}function LR(i,e){let r=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=fb(s.transform,o||null);u!=null&&(r===null&&(r=In.empty()),r.set(s.field,u))}return r||null}function y_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ws(s,o,(u,h)=>MR(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class zl extends Wc{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends Wc{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gb(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function v_(i,e,r){const s=new Map;ht(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const u=i[o],h=u.transform,c=e.data.field(u.field);s.set(u.field,IR(h,c,r[o]))}return s}function __(i,e,r){const s=new Map;for(const o of i){const u=o.transform,h=r.data.field(o.field);s.set(o.field,OR(u,h,e))}return s}class Tm extends Wc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends Wc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VR(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Al(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Al(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=ub();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let c=this.applyToLocalView(h,u.mutatedFields);c=r.has(o.key)?null:c;const g=pb(h,c);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument($e.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),We())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(r,s)=>y_(r,s))&&Ws(this.baseMutations,e.baseMutations,(r,s)=>y_(r,s))}}class wm{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return AR}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new wm(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function zR(i){switch(i){case de.OK:return Pe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Pe(15467,{code:i})}}function yb(i){if(i===void 0)return Ei("GRPC error has no .code"),de.UNKNOWN;switch(i){case zt.OK:return de.OK;case zt.CANCELLED:return de.CANCELLED;case zt.UNKNOWN:return de.UNKNOWN;case zt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case zt.INTERNAL:return de.INTERNAL;case zt.UNAVAILABLE:return de.UNAVAILABLE;case zt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case zt.NOT_FOUND:return de.NOT_FOUND;case zt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case zt.ABORTED:return de.ABORTED;case zt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case zt.DATA_LOSS:return de.DATA_LOSS;default:return Pe(39323,{code:i})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new sa([4294967295,4294967295],0);function b_(i){const e=$0().encode(i),r=new N0;return r.update(e),new Uint8Array(r.digest())}function E_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sa([r,s],0),new sa([o,u],0)]}class Sm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new bl(`Invalid padding: ${r}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new bl(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=sa.fromNumber(this.pe)}we(e,r,s){let o=e.add(r.multiply(sa.fromNumber(s)));return o.compare($R)===1&&(o=new sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=b_(e),[s,o]=E_(r);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Sm(u,o,r);return s.forEach(c=>h.insert(c)),h}insert(e){if(this.pe===0)return;const r=b_(e),[s,o]=E_(r);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new ef($e.min(),o,new Ct(Ge),Ti(),We())}}class $l{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new $l(s,r,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,r,s,o){this.De=e,this.removedTargetIds=r,this.key=s,this.ve=o}}class vb{constructor(e,r){this.targetId=e,this.Ce=r}}class _b{constructor(e,r,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class T_{constructor(){this.Fe=0,this.Me=w_(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),r=We(),s=We();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Pe(38017,{changeType:u})}}),new $l(this.xe,this.Oe,e,r,s)}Qe(){this.Ne=!1,this.Me=w_()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class BR{constructor(e){this.ze=e,this.je=new Map,this.He=Ti(),this.Je=fc(),this.Ye=fc(),this.Ze=new Ct(Ge)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const s=this.rt(r);switch(e.state){case 0:this.it(r)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,s=e.Ce.count,o=this._t(r);if(o){const u=o.target;if(Bd(u))if(s===0){const h=new Me(u.path);this.tt(r,h,vn.newNoDocument(h,$e.min()))}else ht(s===1,20013,{expectedCount:s});else{const h=this.ut(r);if(h!==s){const c=this.ct(e),g=c?this.lt(c,e,h):1;if(g!==0){this.st(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let h,c;try{h=ha(s).toUint8Array()}catch(g){if(g instanceof F0)return Js("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{c=new Sm(h,o,u)}catch(g){return Js(g instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return c.pe===0?null:c}lt(e,r,s){return r.Ce.count===s-this.Tt(e,r.targetId)?0:2}Tt(e,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),c=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,u,null),o++)}),o}It(e){const r=new Map;this.je.forEach((u,h)=>{const c=this._t(h);if(c){if(u.current&&Bd(c.target)){const g=new Me(c.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,vn.newNoDocument(g,e))}u.Le&&(r.set(h,u.qe()),u.Qe())}});let s=We();this.Ye.forEach((u,h)=>{let c=!0;h.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new ef(e,r,this.Ze,this.He,s);return this.He=Ti(),this.Je=fc(),this.Ye=fc(),this.Ze=new Ct(Ge),o}et(e,r){if(!this.it(e))return;const s=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),s&&(this.He=this.He.insert(r,s))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new T_,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Yt(Ge),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Yt(Ge),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||be("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new T_),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function fc(){return new Ct(Me.comparator)}function w_(){return new Ct(Me.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},HR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class GR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Hd(i,e){return i.useProto3Json||Qc(e)?e:{value:e}}function Pc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function QR(i,e){return Pc(i,e.toTimestamp())}function qr(i){return ht(!!i,49232),$e.fromTimestamp(function(r){const s=fa(r);return new Qt(s.seconds,s.nanos)}(i))}function Am(i,e){return Fd(i,e).canonicalString()}function Fd(i,e){const r=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function Eb(i){const e=Rt.fromString(i);return ht(Rb(e),10190,{key:e.toString()}),e}function Gd(i,e){return Am(i.databaseId,e.path)}function Td(i,e){const r=Eb(e);if(r.get(1)!==i.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Me(wb(r))}function Tb(i,e){return Am(i.databaseId,e)}function YR(i){const e=Eb(i);return e.length===4?Rt.emptyPath():wb(e)}function Qd(i){return new Rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function wb(i){return ht(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function S_(i,e,r){return{name:Gd(i,e),fields:r.value.mapValue.fields}}function KR(i,e){let r;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(ht(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,c=h&&function(y){const E=y.code===void 0?de.UNKNOWN:yb(y.code);return new Oe(E,y.message||"")}(h);r=new _b(s,o,u,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Td(i,s.document.name),u=qr(s.document.updateTime),h=s.document.createTime?qr(s.document.createTime):$e.min(),c=new In({mapValue:{fields:s.document.fields}}),g=vn.newFoundDocument(o,u,h,c),y=s.targetIds||[],E=s.removedTargetIds||[];r=new bc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Td(i,s.document),u=s.readTime?qr(s.readTime):$e.min(),h=vn.newNoDocument(o,u),c=s.removedTargetIds||[];r=new bc([],c,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Td(i,s.document),u=s.removedTargetIds||[];r=new bc([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new UR(o,u),c=s.targetId;r=new vb(c,h)}}return r}function XR(i,e){let r;if(e instanceof zl)r={update:S_(i,e.key,e.value)};else if(e instanceof Tm)r={delete:Gd(i,e.key)};else if(e instanceof ya)r={update:S_(i,e.key,e.data),updateMask:a2(e.fieldMask)};else{if(!(e instanceof jR))return Pe(16599,{ft:e.type});r={verify:Gd(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const c=h.transform;if(c instanceof jc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ll)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof kc)return{fieldPath:h.field.canonicalString(),increment:c.Re};throw Pe(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:QR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(i,e.precondition)),r}function ZR(i,e){return i&&i.length>0?(ht(e!==void 0,14353),i.map(r=>function(o,u){let h=o.updateTime?qr(o.updateTime):qr(u);return h.isEqual($e.min())&&(h=qr(u)),new NR(h,o.transformResults||[])}(r,e))):[]}function JR(i,e){return{documents:[Tb(i,e.path)]}}function WR(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Tb(i,o);const u=function(y){if(y.length!==0)return Ab(Fr.create(y,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(E=>function(p){return{field:Qs(p.field),direction:n2(p.dir)}}(E))}(e.orderBy);h&&(r.structuredQuery.orderBy=h);const c=Hd(i,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:r,parent:o}}function e2(i){let e=YR(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){ht(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];r.where&&(u=function(d){const p=Sb(d);return p instanceof Fr&&tb(p)?p.getFilters():[p]}(r.where));let h=[];r.orderBy&&(h=function(d){return d.map(p=>function(v){return new Lc(Ys(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let c=null;r.limit&&(c=function(d){let p;return p=typeof d=="object"?d.value:d,Qc(p)?null:p}(r.limit));let g=null;r.startAt&&(g=function(d){const p=!!d.before,_=d.values||[];return new Vc(_,p)}(r.startAt));let y=null;return r.endAt&&(y=function(d){const p=!d.before,_=d.values||[];return new Vc(_,p)}(r.endAt)),_R(e,o,h,u,c,"F",g,y)}function t2(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Sb(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ys(r.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ys(r.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ys(r.unaryFilter.field);return Gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ys(r.unaryFilter.field);return Gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(i):i.fieldFilter!==void 0?function(r){return Gt.create(Ys(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Fr.create(r.compositeFilter.filters.map(s=>Sb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(r.compositeFilter.op))}(i):Pe(30097,{filter:i})}function n2(i){return qR[i]}function r2(i){return HR[i]}function i2(i){return FR[i]}function Qs(i){return{fieldPath:i.canonicalString()}}function Ys(i){return un.fromServerFormat(i.fieldPath)}function Ab(i){return i instanceof Gt?function(r){if(r.op==="=="){if(f_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NAN"}};if(c_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(f_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NAN"}};if(c_(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(r.field),op:r2(r.op),value:r.value}}}(i):i instanceof Fr?function(r){const s=r.getFilters().map(o=>Ab(o));return s.length===1?s[0]:{compositeFilter:{op:i2(r.op),filters:s}}}(i):Pe(54877,{filter:i})}function a2(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Rb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,r,s,o,u=$e.min(),h=$e.min(),c=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=c,this.expectedCount=g}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.wt=e}}function o2(i){const e=e2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?qd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.yn=new u2}addToCollectionParentIndex(e,r){return this.yn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(ca.min())}updateCollectionGroup(e,r,s){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class u2{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Yt(Rt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xb=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(xb,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new no(0)}static ir(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",c2=1048576;function x_([i,e],[r,s]){const o=Ge(i,r);return o===0?Ge(e,s):o}class f2{constructor(e){this.cr=e,this.buffer=new Yt(x_),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();x_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class h2{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(R_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){lo(r)?be(R_,"Ignoring IndexedDB error during garbage collection: ",r):await oo(r)}await this.Ir(3e5)})}}class d2{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(Gc.le);const s=new f2(r);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.Er.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(A_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let s,o,u,h,c,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,h=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(s=d,c=Date.now(),this.removeTargets(e,s,r))).next(d=>(u=d,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(d=>(y=Date.now(),Fs()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(c-h)+`ms
	Removed ${u} targets in `+(g-c)+`ms
	Removed ${d} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:d})))}}function m2(i,e){return new d2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.changes=new ts(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?fe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&Al(s.mutation,o,Fn.empty(),Qt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,We()).next(()=>s))}getLocalViewOfDocuments(e,r,s=We()){const o=Xa();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(u=>{let h=_l();return u.forEach((c,g)=>{h=h.insert(c,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,r){const s=Xa();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,We()))}populateOverlays(e,r,s){const o=[];return s.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,c)=>{r.set(h,c)})})}computeViews(e,r,s,o){let u=Ti();const h=Sl(),c=function(){return Sl()}();return r.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ya)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Al(E.mutation,y,E.mutation.getFieldMask(),Qt.now())):h.set(y.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>h.set(y,E)),r.forEach((y,E)=>{var d;return c.set(y,new g2(E,(d=h.get(y))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,r){const s=Sl();let o=new Ct((h,c)=>h-c),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(h=>{for(const c of h)c.keys().forEach(g=>{const y=r.get(g);if(y===null)return;let E=s.get(g)||Fn.empty();E=c.applyToLocalView(y,E),s.set(g,E);const d=(o.get(c.batchId)||We()).add(g);o=o.insert(c.batchId,d)})}).next(()=>{const h=[],c=o.getReverseIterator();for(;c.hasNext();){const g=c.getNext(),y=g.key,E=g.value,d=ub();E.forEach(p=>{if(!u.has(p)){const _=pb(r.get(p),s.get(p));_!==null&&d.set(p,_),u=u.add(p)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,d))}return fe.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(h){return Me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):bR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):fe.resolve(Xa());let c=Ol,g=u;return h.next(y=>fe.forEach(y,(E,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),u.get(E)?fe.resolve():this.remoteDocumentCache.getEntry(e,E).next(p=>{g=g.insert(E,p)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,We())).next(E=>({batchId:c,changes:lb(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Me(r)).next(s=>{let o=_l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let h=_l();return this.indexManager.getCollectionParents(e,u).next(c=>fe.forEach(c,g=>{const y=function(d,p){return new Kc(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((d,p)=>{h=h.insert(d,p)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o))).next(h=>{u.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,vn.newInvalidDocument(E)))});let c=_l();return h.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Al(E.mutation,y,Fn.empty(),Qt.now()),Zc(r,y)&&(c=c.insert(g,y))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}}(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:o2(o.bundledQuery),readTime:qr(o.readTime)}}(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.overlays=new Ct(Me.comparator),this.Or=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Xa();return fe.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,u)=>{this.St(e,r,u)}),fe.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),fe.resolve()}getOverlaysForCollection(e,r,s){const o=Xa(),u=r.length+1,h=new Me(r.child("")),c=this.overlays.getIteratorFrom(h);for(;c.hasNext();){const g=c.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new Ct((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Xa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const c=Xa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>c.set(y,E)),!(c.size()>=o)););return fe.resolve(c)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new PR(r,s));let u=this.Or.get(r);u===void 0&&(u=We(),this.Or.set(r,u)),this.Or.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.Nr=new Yt(en.Br),this.Lr=new Yt(en.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const s=new en(e,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Qr(new en(e,r))}$r(e,r){e.forEach(s=>this.removeReference(s,r))}Ur(e){const r=new Me(new Rt([])),s=new en(r,e),o=new en(r,e+1),u=[];return this.Lr.forEachInRange([s,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Me(new Rt([])),s=new en(r,e),o=new en(r,e+1);let u=We();return this.Lr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const r=new en(e,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Me.comparator(e.key,r.key)||Ge(e.Gr,r.Gr)}static kr(e,r){return Ge(e.Gr,r.Gr)||Me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Yt(en.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kR(u,r,s,o);this.mutationQueue.push(h);for(const c of o)this.zr=this.zr.add(new en(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(h)}lookupMutationBatch(e,r){return fe.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.Hr(s),u=o<0?0:o;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?pm:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new en(r,0),o=new en(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],h=>{const c=this.jr(h.Gr);u.push(c)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Yt(Ge);return r.forEach(o=>{const u=new en(o,0),h=new en(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],c=>{s=s.add(c.Gr)})}),fe.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Me.isDocumentKey(u)||(u=u.child(""));const h=new en(new Me(u),0);let c=new Yt(Ge);return this.zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(c=c.add(g.Gr)),!0)},h),fe.resolve(this.Jr(c))}Jr(e){const r=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){ht(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return fe.forEach(r.mutations,o=>{const u=new en(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,r){const s=new en(r,0),o=this.zr.firstAfterOrEqual(s);return fe.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.Zr=e,this.docs=function(){return new Ct(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,h=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return fe.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(e,r){let s=Ti();return r.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),fe.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=Ti();const h=r.path,c=new Me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(c);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||Z1(X1(E),s)<=0||(o.has(E.key)||Zc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return fe.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Pe(9500)}Xr(e,r){return fe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new w2(this)}getSize(e){return fe.resolve(this.size)}}class w2 extends p2{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),fe.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.persistence=e,this.ei=new ts(r=>vm(r),_m),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ti=0,this.ni=new Rm,this.targetCount=0,this.ri=no.rr()}forEachTarget(e,r){return this.ei.forEach((s,o)=>r(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),fe.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new no(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.ar(r),fe.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.ei.forEach((h,c)=>{c.sequenceNumber<=r&&s.get(c.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(u).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const s=this.ei.get(r)||null;return fe.resolve(s)}addMatchingKeys(e,r,s){return this.ni.qr(r,s),fe.resolve()}removeMatchingKeys(e,r,s){this.ni.$r(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.ni.Wr(r);return fe.resolve(s)}containsKey(e,r){return fe.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,r){this.ii={},this.overlays={},this.si=new Gc(0),this.oi=!1,this.oi=!0,this._i=new b2,this.referenceDelegate=e(this),this.ai=new S2(this),this.indexManager=new l2,this.remoteDocumentCache=function(o){return new T2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new s2(r),this.ci=new v2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _2,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ii[e.toKey()];return s||(s=new E2(r,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const o=new A2(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,r){return fe.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,r)))}}class A2 extends W1{constructor(e){super(),this.currentSequenceNumber=e}}class xm{constructor(e){this.persistence=e,this.Ti=new Rm,this.Ii=null}static Ei(e){return new xm(e)}get di(){if(this.Ii)return this.Ii;throw Pe(60996)}addReference(e,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),fe.resolve()}removeReference(e,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,s=>{const o=Me.fromPath(s);return this.Ai(e,o).next(u=>{u||r.removeEntry(o,$e.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return fe.or([()=>fe.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Uc{constructor(e,r){this.persistence=e,this.Ri=new ts(s=>nR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=m2(this,r)}static Ei(e,r){return new Uc(e,r)}li(){}hi(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}Vr(e){let r=0;return this.Ar(e,s=>{r++}).next(()=>r)}Ar(e,r){return fe.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?fe.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,h=>this.gr(e,h,r).next(c=>{c||(s++,u.removeEntry(h,$e.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=yc(e.data.value)),r}gr(e,r,s){return fe.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return fe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.ls=s,this.hs=o}static Ps(e,r){let s=We(),o=We();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cm(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return EA()?8:eR(_A())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.Rs(e,r).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(e,r,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new R2;return this.fs(e,r,h).next(c=>{if(u.result=c,this.Is)return this.gs(e,r,h,c.size)})}).next(()=>u.result)}gs(e,r,s,o){return s.documentReadCount<this.Es?(Fs()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(Fs()<=at.DEBUG&&be("QueryEngine","Query:",Gs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Fs()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(r))):fe.resolve())}Rs(e,r){if(p_(r))return fe.resolve(null);let s=Br(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=qd(r,null,"F"),s=Br(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=We(...u);return this.As.getDocuments(e,h).next(c=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.ps(r,c);return this.ys(r,y,h,g.readTime)?this.Rs(e,qd(r,null,"F")):this.ws(e,y,r,g)}))})))}Vs(e,r,s,o){return p_(r)||o.isEqual($e.min())?fe.resolve(null):this.As.getDocuments(e,s).next(u=>{const h=this.ps(r,u);return this.ys(r,h,s,o)?fe.resolve(null):(Fs()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(r)),this.ws(e,h,r,K1(o,Ol)).next(c=>c))})}ps(e,r){let s=new Yt(sb(e));return r.forEach((o,u)=>{Zc(e,u)&&(s=s.add(u))}),s}ys(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,r,s){return Fs()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Gs(r)),this.As.getDocumentsMatchingQuery(e,r,ca.min(),s)}ws(e,r,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",C2=3e8;class D2{constructor(e,r,s,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new Ct(Ge),this.Ds=new ts(u=>vm(u),_m),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function O2(i,e,r,s){return new D2(i,e,r,s)}async function Db(i,e){const r=Be(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,r.Fs(e),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],c=[];let g=We();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){c.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(s,g).next(y=>({Ms:y,removedBatchIds:h,addedBatchIds:c}))})})}function I2(i,e){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(c,g,y,E){const d=y.batch,p=d.keys();let _=fe.resolve();return p.forEach(v=>{_=_.next(()=>E.getEntry(g,v)).next(b=>{const R=y.docVersions.get(v);ht(R!==null,48541),b.version.compareTo(R)<0&&(d.applyToRemoteDocument(b,y),b.isValidDocument()&&(b.setReadTime(y.commitVersion),E.addEntry(b)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(g,d))}(r,s,e,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let g=We();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(g=g.add(c.batch.mutations[y].key));return g}(e))).next(()=>r.localDocuments.getDocuments(s,o))})}function Ob(i){const e=Be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function M2(i,e){const r=Be(i),s=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const c=[];e.targetChanges.forEach((E,d)=>{const p=o.get(d);if(!p)return;c.push(r.ai.removeMatchingKeys(u,E.removedDocuments,d).next(()=>r.ai.addMatchingKeys(u,E.addedDocuments,d)));let _=p.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(d)!==null?_=_.withResumeToken(cn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):E.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(E.resumeToken,s)),o=o.insert(d,_),function(b,R,T){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=C2?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,_,E)&&c.push(r.ai.updateTargetData(u,_))});let g=Ti(),y=We();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),c.push(N2(u,h,e.documentUpdates).next(E=>{g=E.xs,y=E.Os})),!s.isEqual($e.min())){const E=r.ai.getLastRemoteSnapshotVersion(u).next(d=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));c.push(E)}return fe.waitFor(c).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(r.Ss=o,u))}function N2(i,e,r){let s=We(),o=We();return r.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Ti();return r.forEach((c,g)=>{const y=u.get(c);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(c)),g.isNoDocument()&&g.version.isEqual($e.min())?(e.removeEntry(c,g.readTime),h=h.insert(c,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(c,g)):be(Dm,"Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",g.version)}),{xs:h,Os:o}})}function V2(i,e){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function L2(i,e){const r=Be(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ai.getTargetData(s,e).next(u=>u?(o=u,fe.resolve(o)):r.ai.allocateTargetId(s).next(h=>(o=new ra(e,h,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(e,s.targetId)),s})}async function Yd(i,e,r){const s=Be(i),o=s.Ss.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!lo(h))throw h;be(Dm,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function C_(i,e,r){const s=Be(i);let o=$e.min(),u=We();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const d=Be(g),p=d.Ds.get(E);return p!==void 0?fe.resolve(d.Ss.get(p)):d.ai.getTargetData(y,E)}(s,h,Br(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(h,c.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(h,e,r?o:$e.min(),r?u:We())).next(c=>(j2(s,TR(e),c),{documents:c,Ns:u})))}function j2(i,e,r){let s=i.vs.get(e)||$e.min();r.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class D_{constructor(){this.activeTargetIds=CR()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k2{constructor(){this.So=new D_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,s){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new D_,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class I_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be(O_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be(O_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Kd(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Mc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,r,s,o,u){const h=Kd(),c=this.$o(e,r.toUriEncodedString());be(wd,`Sending RPC '${e}' ${h}:`,c,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(g,o,u);const{host:y}=new URL(c),E=R0(y);return this.Ko(e,c,g,s,E).then(d=>(be(wd,`Received RPC '${e}' ${h}: `,d),d),d=>{throw Js(wd,`RPC '${e}' ${h} failed with error: `,d,"url: ",c,"request:",s),d})}Wo(e,r,s,o,u,h){return this.Qo(e,r,s,o,u)}Uo(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,r){const s=U2[e];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class B2 extends z2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,s,o,u){const h=Kd();return new Promise((c,g)=>{const y=new V0;y.setWithCredentials(!0),y.listenOnce(L0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case gc.NO_ERROR:const d=y.getResponseJson();be(gn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(d)),c(d);break;case gc.TIMEOUT:be(gn,`RPC '${e}' ${h} timed out`),g(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const p=y.getStatus();if(be(gn,`RPC '${e}' ${h} failed with status:`,p,"response text:",y.getResponseText()),p>0){let _=y.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_==null?void 0:_.error;if(v&&v.status&&v.message){const b=function(T){const A=T.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(A)>=0?A:de.UNKNOWN}(v.status);g(new Oe(b,v.message))}else g(new Oe(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{s_:e,streamId:h,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{be(gn,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);be(gn,`RPC '${e}' ${h} sending request:`,o),y.send(r,"POST",E,s,15)})}a_(e,r,s){const o=Kd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=P0(),c=k0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,r,s),g.encodeInitMessageHeaders=!0;const E=u.join("");be(gn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const d=h.createWebChannel(E,g);let p=!1,_=!1;const v=new $2({Go:R=>{_?be(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(p||(be(gn,`Opening RPC '${e}' stream ${o} transport.`),d.open(),p=!0),be(gn,`RPC '${e}' stream ${o} sending:`,R),d.send(R))},zo:()=>d.close()}),b=(R,T,A)=>{R.listen(T,D=>{try{A(D)}catch(V){setTimeout(()=>{throw V},0)}})};return b(d,vl.EventType.OPEN,()=>{_||(be(gn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),b(d,vl.EventType.CLOSE,()=>{_||(_=!0,be(gn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),b(d,vl.EventType.ERROR,R=>{_||(_=!0,Js(gn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),v.r_(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),b(d,vl.EventType.MESSAGE,R=>{var T;if(!_){const A=R.data[0];ht(!!A,16349);const D=A,V=(D==null?void 0:D.error)||((T=D[0])===null||T===void 0?void 0:T.error);if(V){be(gn,`RPC '${e}' stream ${o} received error:`,V);const j=V.status;let L=function(x){const O=zt[x];if(O!==void 0)return yb(O)}(j),I=V.message;L===void 0&&(L=de.INTERNAL,I="Unknown error status: "+j+" with message "+V.message),_=!0,v.r_(new Oe(L,I)),d.close()}else be(gn,`RPC '${e}' stream ${o} received:`,A),v.i_(A)}}),b(c,j0.STAT_EVENT,R=>{R.stat===kd.PROXY?be(gn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===kd.NOPROXY&&be(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){return new GR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,r,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=r,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-s);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class Mb{constructor(e,r,s,o,u,h,c,g){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=c,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Ib(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(Ei(r.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===r&&this.B_(s,o)},s=>{e(()=>{const o=new Oe(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,r){const s=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(be(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q2 extends Mb{constructor(e,r,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=KR(this.serializer,e),s=function(u){if(!("targetChange"in u))return $e.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?$e.min():h.readTime?qr(h.readTime):$e.min()}(e);return this.listener.Q_(r,s)}U_(e){const r={};r.database=Qd(this.serializer),r.addTarget=function(u,h){let c;const g=h.target;if(c=Bd(g)?{documents:JR(u,g)}:{query:WR(u,g).gt},c.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){c.resumeToken=bb(u,h.resumeToken);const y=Hd(u,h.expectedCount);y!==null&&(c.expectedCount=y)}else if(h.snapshotVersion.compareTo($e.min())>0){c.readTime=Pc(u,h.snapshotVersion.toTimestamp());const y=Hd(u,h.expectedCount);y!==null&&(c.expectedCount=y)}return c}(this.serializer,e);const s=t2(this.serializer,e);s&&(r.labels=s),this.F_(r)}K_(e){const r={};r.database=Qd(this.serializer),r.removeTarget=e,this.F_(r)}}class H2 extends Mb{constructor(e,r,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=ZR(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.j_(s,r)}H_(){const e={};e.database=Qd(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>XR(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{}class G2 extends F2{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(e,Fd(r,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(de.UNKNOWN,u.toString())})}Wo(e,r,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,c])=>this.connection.Wo(e,Fd(r,s),o,h,c,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Oe(de.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Q2{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ei(r),this.ea=!1):be("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class Y2{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{s.enqueueAndForget(async()=>{ns(this)&&(be(Ja,"Restarting streams for network reachability change."),await async function(g){const y=Be(g);y.aa.add(4),await Bl(y),y.la.set("Unknown"),y.aa.delete(4),await nf(y)}(this))})}),this.la=new Q2(s,o)}}async function nf(i){if(ns(i))for(const e of i.ua)await e(!0)}async function Bl(i){for(const e of i.ua)await e(!1)}function Nb(i,e){const r=Be(i);r._a.has(e.targetId)||(r._a.set(e.targetId,e),Nm(r)?Mm(r):uo(r).b_()&&Im(r,e))}function Om(i,e){const r=Be(i),s=uo(r);r._a.delete(e),s.b_()&&Vb(r,e),r._a.size===0&&(s.b_()?s.v_():ns(r)&&r.la.set("Unknown"))}function Im(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}uo(i).U_(e)}function Vb(i,e){i.ha.Ke(e),uo(i).K_(e)}function Mm(i){i.ha=new BR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),uo(i).start(),i.la.ta()}function Nm(i){return ns(i)&&!uo(i).w_()&&i._a.size>0}function ns(i){return Be(i).aa.size===0}function Lb(i){i.ha=void 0}async function K2(i){i.la.set("Online")}async function X2(i){i._a.forEach((e,r)=>{Im(i,e)})}async function Z2(i,e){Lb(i),Nm(i)?(i.la.ia(e),Mm(i)):i.la.set("Unknown")}async function J2(i,e,r){if(i.la.set("Online"),e instanceof _b&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,h),o._a.delete(c),o.ha.removeTarget(c))}(i,e)}catch(s){be(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zc(i,s)}else if(e instanceof bc?i.ha.Xe(e):e instanceof vb?i.ha.ot(e):i.ha.nt(e),!r.isEqual($e.min()))try{const s=await Ob(i.localStore);r.compareTo(s)>=0&&await function(u,h){const c=u.ha.It(h);return c.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(g.resumeToken,h))}}),c.targetMismatches.forEach((g,y)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),Vb(u,g);const d=new ra(E.target,g,y,E.sequenceNumber);Im(u,d)}),u.remoteSyncer.applyRemoteEvent(c)}(i,r)}catch(s){be(Ja,"Failed to raise snapshot:",s),await zc(i,s)}}async function zc(i,e,r){if(!lo(e))throw e;i.aa.add(1),await Bl(i),i.la.set("Offline"),r||(r=()=>Ob(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{be(Ja,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await nf(i)})}function jb(i,e){return e().catch(r=>zc(i,r,e))}async function rf(i){const e=Be(i),r=ma(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:pm;for(;W2(e);)try{const o=await V2(e.localStore,s);if(o===null){e.oa.length===0&&r.v_();break}s=o.batchId,ex(e,o)}catch(o){await zc(e,o)}kb(e)&&Pb(e)}function W2(i){return ns(i)&&i.oa.length<10}function ex(i,e){i.oa.push(e);const r=ma(i);r.b_()&&r.W_&&r.G_(e.mutations)}function kb(i){return ns(i)&&!ma(i).w_()&&i.oa.length>0}function Pb(i){ma(i).start()}async function tx(i){ma(i).H_()}async function nx(i){const e=ma(i);for(const r of i.oa)e.G_(r.mutations)}async function rx(i,e,r){const s=i.oa.shift(),o=wm.from(s,e,r);await jb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await rf(i)}async function ix(i,e){e&&ma(i).W_&&await async function(s,o){if(function(h){return zR(h)&&h!==de.ABORTED}(o.code)){const u=s.oa.shift();ma(s).D_(),await jb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rf(s)}}(i,e),kb(i)&&Pb(i)}async function N_(i,e){const r=Be(i);r.asyncQueue.verifyOperationInProgress(),be(Ja,"RemoteStore received new credentials");const s=ns(r);r.aa.add(3),await Bl(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await nf(r)}async function ax(i,e){const r=Be(i);e?(r.aa.delete(2),await nf(r)):e||(r.aa.add(2),await Bl(r),r.la.set("Unknown"))}function uo(i){return i.Pa||(i.Pa=function(r,s,o){const u=Be(r);return u.Y_(),new q2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:K2.bind(null,i),Jo:X2.bind(null,i),Zo:Z2.bind(null,i),Q_:J2.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Nm(i)?Mm(i):i.la.set("Unknown")):(await i.Pa.stop(),Lb(i))})),i.Pa}function ma(i){return i.Ta||(i.Ta=function(r,s,o){const u=Be(r);return u.Y_(),new H2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:tx.bind(null,i),Zo:ix.bind(null,i),z_:nx.bind(null,i),j_:rx.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await rf(i)):(await i.Ta.stop(),i.oa.length>0&&(be(Ja,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const h=Date.now()+s,c=new Vm(e,r,h,o,u);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),lo(i))return new Oe(de.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Me.comparator(r.key,s.key):(r,s)=>Me.comparator(r.key,s.key),this.keyedMap=_l(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Zs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Ia=new Ct(Me.comparator)}track(e){const r=e.doc.key,s=this.Ia.get(r);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(r):e.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Pe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,s)=>{e.push(s)}),e}}class ro{constructor(e,r,s,o,u,h,c,g,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=c,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,u){const h=[];return r.forEach(c=>{h.push({type:0,doc:c})}),new ro(e,r,Zs.emptySet(r),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class ox{constructor(){this.queries=L_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const o=Be(r),u=o.queries;o.queries=L_(),u.forEach((h,c)=>{for(const g of c.Ra)g.onError(s)})})(this,new Oe(de.ABORTED,"Firestore shutting down"))}}function L_(){return new ts(i=>ab(i),Xc)}async function Ub(i,e){const r=Be(i);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new sx,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const c=Lm(h,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,u),u.Ra.push(e),e.ga(r.onlineState),u.Aa&&e.pa(u.Aa)&&jm(r)}async function zb(i,e){const r=Be(i),s=e.query;let o=3;const u=r.queries.get(s);if(u){const h=u.Ra.indexOf(e);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function lx(i,e){const r=Be(i);let s=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const c of h.Ra)c.pa(o)&&(s=!0);h.Aa=o}}s&&jm(r)}function ux(i,e,r){const s=Be(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(r);s.queries.delete(e)}function jm(i){i.fa.forEach(e=>{e.next()})}var Xd,j_;(j_=Xd||(Xd={})).ya="default",j_.Cache="cache";class $b{constructor(e,r,s){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.key=e}}class qb{constructor(e){this.key=e}}class cx{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=sb(e),this.Ka=new Zs(this.Ua)}get Wa(){return this.qa}Ga(e,r){const s=r?r.za:new V_,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,c=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,d)=>{const p=o.get(E),_=Zc(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;p&&_?p.data.isEqual(_.data)?v!==b&&(s.track({type:3,doc:_}),R=!0):this.ja(p,_)||(s.track({type:2,doc:_}),R=!0,(g&&this.Ua(_,g)>0||y&&this.Ua(_,y)<0)&&(c=!0)):!p&&_?(s.track({type:0,doc:_}),R=!0):p&&!_&&(s.track({type:1,doc:p}),R=!0,(g||y)&&(c=!0)),R&&(_?(h=h.add(_),u=b?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:h,za:s,ys:c,mutatedKeys:u}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((E,d)=>function(_,v){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:R})}};return b(_)-b(v)}(E.type,d.type)||this.Ua(E.doc,d.doc)),this.Ha(s),o=o!=null&&o;const c=r&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,y=g!==this.Qa;return this.Qa=g,h.length!==0||y?{snapshot:new ro(this.query,e.Ka,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new V_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return e.forEach(s=>{this.$a.has(s)||r.push(new qb(s))}),this.$a.forEach(s=>{e.has(s)||r.push(new Bb(s))}),r}Xa(e){this.qa=e.Ns,this.$a=We();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return ro.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const km="SyncEngine";class fx{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class hx{constructor(e){this.key=e,this.tu=!1}}class dx{constructor(e,r,s,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new ts(c=>ab(c),Xc),this.iu=new Map,this.su=new Set,this.ou=new Ct(Me.comparator),this._u=new Map,this.au=new Rm,this.uu={},this.cu=new Map,this.lu=no.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function mx(i,e,r=!0){const s=Kb(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await Hb(s,e,r,!0),o}async function px(i,e){const r=Kb(i);await Hb(r,e,!0,!1)}async function Hb(i,e,r,s){const o=await L2(i.localStore,Br(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let c;return s&&(c=await gx(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&r&&Nb(i.remoteStore,o),c}async function gx(i,e,r,s,o){i.Pu=(d,p,_)=>async function(b,R,T,A){let D=R.view.Ga(T);D.ys&&(D=await C_(b.localStore,R.query,!1).then(({documents:I})=>R.view.Ga(I,D)));const V=A&&A.targetChanges.get(R.targetId),j=A&&A.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(D,b.isPrimaryClient,V,j);return P_(b,R.targetId,L.Ya),L.snapshot}(i,d,p,_);const u=await C_(i.localStore,e,!0),h=new cx(e,u.Ns),c=h.Ga(u.documents),g=$l.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),y=h.applyChanges(c,i.isPrimaryClient,g);P_(i,r,y.Ya);const E=new fx(e,r,h);return i.ru.set(e,E),i.iu.has(r)?i.iu.get(r).push(e):i.iu.set(r,[e]),y.snapshot}async function yx(i,e,r){const s=Be(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(h=>!Xc(h,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Yd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Om(s.remoteStore,o.targetId),Zd(s,o.targetId)}).catch(oo)):(Zd(s,o.targetId),await Yd(s.localStore,o.targetId,!0))}async function vx(i,e){const r=Be(i),s=r.ru.get(e),o=r.iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Om(r.remoteStore,s.targetId))}async function _x(i,e,r){const s=Rx(i);try{const o=await function(h,c){const g=Be(h),y=Qt.now(),E=c.reduce((_,v)=>_.add(v.key),We());let d,p;return g.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Ti(),b=We();return g.Cs.getEntries(_,E).next(R=>{v=R,v.forEach((T,A)=>{A.isValidDocument()||(b=b.add(T))})}).next(()=>g.localDocuments.getOverlayedDocuments(_,v)).next(R=>{d=R;const T=[];for(const A of c){const D=LR(A,d.get(A.key).overlayedDocument);D!=null&&T.push(new ya(A.key,D,J0(D.value.mapValue),_r.exists(!0)))}return g.mutationQueue.addMutationBatch(_,y,T,c)}).next(R=>{p=R;const T=R.applyToLocalDocumentSet(d,b);return g.documentOverlayCache.saveOverlays(_,R.batchId,T)})}).then(()=>({batchId:p.batchId,changes:lb(d)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,c,g){let y=h.uu[h.currentUser.toKey()];y||(y=new Ct(Ge)),y=y.insert(c,g),h.uu[h.currentUser.toKey()]=y}(s,o.batchId,r),await ql(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Lm(o,"Failed to persist write");r.reject(u)}}async function Fb(i,e){const r=Be(i);try{const s=await M2(r.localStore,e);e.targetChanges.forEach((o,u)=>{const h=r._u.get(u);h&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?ht(h.tu,14607):o.removedDocuments.size>0&&(ht(h.tu,42227),h.tu=!1))}),await ql(r,s,e)}catch(s){await oo(s)}}function k_(i,e,r){const s=Be(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.ru.forEach((u,h)=>{const c=h.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(h,c){const g=Be(h);g.onlineState=c;let y=!1;g.queries.forEach((E,d)=>{for(const p of d.Ra)p.ga(c)&&(y=!0)}),y&&jm(g)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bx(i,e,r){const s=Be(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s._u.get(e),u=o&&o.key;if(u){let h=new Ct(Me.comparator);h=h.insert(u,vn.newNoDocument(u,$e.min()));const c=We().add(u),g=new ef($e.min(),new Map,new Ct(Ge),h,c);await Fb(s,g),s.ou=s.ou.remove(u),s._u.delete(e),Pm(s)}else await Yd(s.localStore,e,!1).then(()=>Zd(s,e,r)).catch(oo)}async function Ex(i,e){const r=Be(i),s=e.batch.batchId;try{const o=await I2(r.localStore,e);Qb(r,s,null),Gb(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await ql(r,o)}catch(o){await oo(o)}}async function Tx(i,e,r){const s=Be(i);try{const o=await function(h,c){const g=Be(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,c).next(d=>(ht(d!==null,37113),E=d.keys(),g.mutationQueue.removeMutationBatch(y,d))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);Qb(s,e,r),Gb(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await ql(s,o)}catch(o){await oo(o)}}function Gb(i,e){(i.cu.get(e)||[]).forEach(r=>{r.resolve()}),i.cu.delete(e)}function Qb(i,e,r){const s=Be(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Zd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||Yb(i,s)})}function Yb(i,e){i.su.delete(e.path.canonicalString());const r=i.ou.get(e);r!==null&&(Om(i.remoteStore,r),i.ou=i.ou.remove(e),i._u.delete(r),Pm(i))}function P_(i,e,r){for(const s of r)s instanceof Bb?(i.au.addReference(s.key,e),wx(i,s)):s instanceof qb?(be(km,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||Yb(i,s.key)):Pe(19791,{Iu:s})}function wx(i,e){const r=e.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(be(km,"New document in limbo: "+r),i.su.add(s),Pm(i))}function Pm(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const r=new Me(Rt.fromString(e)),s=i.lu.next();i._u.set(s,new hx(r)),i.ou=i.ou.insert(r,s),Nb(i.remoteStore,new ra(Br(bm(r.path)),s,"TargetPurposeLimboResolution",Gc.le))}}async function ql(i,e,r){const s=Be(i),o=[],u=[],h=[];s.ru.isEmpty()||(s.ru.forEach((c,g)=>{h.push(s.Pu(g,e,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const d=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,d?"current":"not-current")}if(y){o.push(y);const d=Cm.Ps(g.targetId,y);u.push(d)}}))}),await Promise.all(h),s.nu.Q_(o),await async function(g,y){const E=Be(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(y,p=>fe.forEach(p.ls,_=>E.persistence.referenceDelegate.addReference(d,p.targetId,_)).next(()=>fe.forEach(p.hs,_=>E.persistence.referenceDelegate.removeReference(d,p.targetId,_)))))}catch(d){if(!lo(d))throw d;be(Dm,"Failed to update sequence numbers: "+d)}for(const d of y){const p=d.targetId;if(!d.fromCache){const _=E.Ss.get(p),v=_.snapshotVersion,b=_.withLastLimboFreeSnapshotVersion(v);E.Ss=E.Ss.insert(p,b)}}}(s.localStore,u))}async function Sx(i,e){const r=Be(i);if(!r.currentUser.isEqual(e)){be(km,"User change. New user:",e.toKey());const s=await Db(r.localStore,e);r.currentUser=e,function(u,h){u.cu.forEach(c=>{c.forEach(g=>{g.reject(new Oe(de.CANCELLED,h))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ql(r,s.Ms)}}function Ax(i,e){const r=Be(i),s=r._u.get(e);if(s&&s.tu)return We().add(s.key);{let o=We();const u=r.iu.get(e);if(!u)return o;for(const h of u){const c=r.ru.get(h);o=o.unionWith(c.view.Wa)}return o}}function Kb(i){const e=Be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bx.bind(null,e),e.nu.Q_=lx.bind(null,e.eventManager),e.nu.Tu=ux.bind(null,e.eventManager),e}function Rx(i){const e=Be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tx.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return O2(this.persistence,new x2,e.initialUser,this.serializer)}Ru(e){return new Cb(xm.Ei,this.serializer)}Au(e){return new k2}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class xx extends $c{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){ht(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new h2(s,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Cb(s=>Uc.Ei(s,r),this.serializer)}}class Jd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sx.bind(null,this.syncEngine),await ax(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ox}()}createDatastore(e){const r=tf(e.databaseInfo.databaseId),s=function(u){return new B2(u)}(e.databaseInfo);return function(u,h,c,g){return new G2(u,h,c,g)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,u,h,c){return new Y2(s,o,u,h,c)}(this.localStore,this.datastore,e.asyncQueue,r=>k_(this.syncEngine,r,0),function(){return I_.C()?new I_:new P2}())}createSyncEngine(e,r){return function(o,u,h,c,g,y,E){const d=new dx(o,u,h,c,g,y);return E&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=Be(o);be(Ja,"RemoteStore shutting down."),u.aa.add(5),await Bl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Jd.provider={build:()=>new Jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class Cx{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=B0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{be(pa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(be(pa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Lm(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ad(i,e){i.asyncQueue.verifyOperationInProgress(),be(pa,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Db(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function U_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await Dx(i);be(pa,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>N_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>N_(e.remoteStore,o)),i._onlineComponents=e}async function Dx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){be(pa,"Using user provided OfflineComponentProvider");try{await Ad(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Js("Error using user provided cache. Falling back to memory cache: "+r),await Ad(i,new $c)}}else be(pa,"Using default OfflineComponentProvider"),await Ad(i,new xx(void 0));return i._offlineComponents}async function Zb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(be(pa,"Using user provided OnlineComponentProvider"),await U_(i,i._uninitializedComponentsProvider._online)):(be(pa,"Using default OnlineComponentProvider"),await U_(i,new Jd))),i._onlineComponents}function Ox(i){return Zb(i).then(e=>e.syncEngine)}async function Jb(i){const e=await Zb(i),r=e.eventManager;return r.onListen=mx.bind(null,e.syncEngine),r.onUnlisten=yx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=px.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=vx.bind(null,e.syncEngine),r}function Ix(i,e,r={}){const s=new _i;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,c,g,y){const E=new Xb({next:p=>{E.yu(),h.enqueueAndForget(()=>zb(u,d));const _=p.docs.has(c);!_&&p.fromCache?y.reject(new Oe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&p.fromCache&&g&&g.source==="server"?y.reject(new Oe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(p)},error:p=>y.reject(p)}),d=new $b(bm(c.path),E,{includeMetadataChanges:!0,Fa:!0});return Ub(u,d)}(await Jb(i),i.asyncQueue,e,r,s)),s.promise}function Mx(i,e,r={}){const s=new _i;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,c,g,y){const E=new Xb({next:p=>{E.yu(),h.enqueueAndForget(()=>zb(u,d)),p.fromCache&&g.source==="server"?y.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(p)},error:p=>y.reject(p)}),d=new $b(c,E,{includeMetadataChanges:!0,Fa:!0});return Ub(u,d)}(await Jb(i),i.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(i,e,r){if(!r)throw new Oe(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Nx(i,e,r,s){if(e===!0&&s===!0)throw new Oe(de.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function $_(i){if(!Me.isDocumentKey(i))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function B_(i){if(Me.isDocumentKey(i))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Um(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Pe(12329,{type:typeof i})}function wi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Um(i);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firestore.googleapis.com",q_=!0;class H_{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tE,this.ssl=q_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c2)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new z1;switch(s.type){case"firstParty":return new H1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=z_.get(r);s&&(be("ComponentProvider","Removing Datastore"),z_.delete(r),s.terminate())}(this),Promise.resolve()}}function Vx(i,e,r,s={}){var o;i=wi(i,af);const u=R0(e),h=i._getSettings(),c=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${r}`;u&&xA(`https://${g}`),h.host!==tE&&h.host!==g&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:s});if(!Cc(y,c)&&(i._setSettings(y),s.mockUserToken)){let E,d;if(typeof s.mockUserToken=="string")E=s.mockUserToken,d=yn.MOCK_USER;else{E=vA(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new yn(p)}i._authCredentials=new $1(new z0(E,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sf(this.firestore,e,this._query)}}class Gn{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class oa extends sf{constructor(e,r,s){super(e,r,bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Me(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function nE(i,e,...r){if(i=ua(i),eE("collection","path",e),i instanceof af){const s=Rt.fromString(e,...r);return B_(s),new oa(i,null,s)}{if(!(i instanceof Gn||i instanceof oa))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return B_(s),new oa(i.firestore,null,s)}}function of(i,e,...r){if(i=ua(i),arguments.length===1&&(e=B0.newId()),eE("doc","path",e),i instanceof af){const s=Rt.fromString(e,...r);return $_(s),new Gn(i,null,new Me(s))}{if(!(i instanceof Gn||i instanceof oa))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return $_(s),new Gn(i.firestore,i instanceof oa?i.converter:null,new Me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Ib(this,"async_queue_retry"),this.ju=()=>{const s=Sd();s&&be(F_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const r=Sd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=Sd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new _i;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!lo(e))throw e;be(F_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Ei("INTERNAL UNHANDLED ERROR: ",Q_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(e,r,s){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=Vm.createAndSchedule(this,e,r,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Pe(47125,{ec:Q_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function Q_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class co extends af{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function Lx(i,e){const r=typeof i=="object"?i:D1(),s=typeof i=="string"?i:Mc,o=S1(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=gA("firestore");u&&Vx(o,...u)}return o}function zm(i){if(i._terminated)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jx(i),i._firestoreClient}function jx(i){var e,r,s;const o=i._freezeSettings(),u=function(c,g,y,E){return new aR(c,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Wb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Cx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(c){const g=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(cn.fromBase64String(e))}catch(r){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new io(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=/^__.*__$/;class Px{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,r,this.fieldTransforms):new zl(e,this.data,r,this.fieldTransforms)}}class rE{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new ya(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function iE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{oc:i})}}class Hm{constructor(e,r,s,o,u,h){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Bc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(iE(this.oc)&&kx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Ux{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||tf(e)}dc(e,r,s,o=!1){return new Hm({oc:e,methodName:r,Ec:s,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aE(i){const e=i._freezeSettings(),r=tf(i._databaseId);return new Ux(i._databaseId,!!e.ignoreUndefinedProperties,r)}function zx(i,e,r,s,o,u={}){const h=i.dc(u.merge||u.mergeFields?2:0,e,r,o);Fm("Data must be an object, but it was:",h,s);const c=sE(s,h);let g,y;if(u.merge)g=new Fn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const d of u.mergeFields){const p=Wd(e,d,r);if(!h.contains(p))throw new Oe(de.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);lE(E,p)||E.push(p)}g=new Fn(E),y=h.fieldTransforms.filter(d=>g.covers(d.field))}else g=null,y=h.fieldTransforms;return new Px(new In(c),g,y)}class uf extends $m{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function $x(i,e,r,s){const o=i.dc(1,e,r);Fm("Data must be an object, but it was:",o,s);const u=[],h=In.empty();ga(s,(g,y)=>{const E=Gm(e,g,r);y=ua(y);const d=o.hc(E);if(y instanceof uf)u.push(E);else{const p=cf(y,d);p!=null&&(u.push(E),h.set(E,p))}});const c=new Fn(u);return new rE(h,c,o.fieldTransforms)}function Bx(i,e,r,s,o,u){const h=i.dc(1,e,r),c=[Wd(e,s,r)],g=[o];if(u.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<u.length;p+=2)c.push(Wd(e,u[p])),g.push(u[p+1]);const y=[],E=In.empty();for(let p=c.length-1;p>=0;--p)if(!lE(y,c[p])){const _=c[p];let v=g[p];v=ua(v);const b=h.hc(_);if(v instanceof uf)y.push(_);else{const R=cf(v,b);R!=null&&(y.push(_),E.set(_,R))}}const d=new Fn(y);return new rE(E,d,h.fieldTransforms)}function cf(i,e){if(oE(i=ua(i)))return Fm("Unsupported field value:",e,i),sE(i,e);if(i instanceof $m)return function(s,o){if(!iE(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const c of s){let g=cf(c,o.Pc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ua(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Qt.fromDate(s);return{timestampValue:Pc(o.serializer,u)}}if(s instanceof Qt){const u=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(o.serializer,u)}}if(s instanceof Bm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof io)return{bytesValue:bb(o.serializer,s._byteString)};if(s instanceof Gn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Am(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qm)return function(h,c){return{mapValue:{fields:{[X0]:{stringValue:Z0},[Nc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw c.Tc("VectorValues must only contain numeric values.");return Em(c.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Um(s)}`)}(i,e)}function sE(i,e){const r={};return H0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(i,(s,o)=>{const u=cf(o,e.uc(s));u!=null&&(r[s]=u)}),{mapValue:{fields:r}}}function oE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qt||i instanceof Bm||i instanceof io||i instanceof Gn||i instanceof $m||i instanceof qm)}function Fm(i,e,r){if(!oE(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const s=Um(r);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function Wd(i,e,r){if((e=ua(e))instanceof lf)return e._internalPath;if(typeof e=="string")return Gm(i,e);throw Bc("Field path arguments must be of type string or ",i,!1,void 0,r)}const qx=new RegExp("[~\\*/\\[\\]]");function Gm(i,e,r){if(e.search(qx)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new lf(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Bc(i,e,r,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new Oe(de.INVALID_ARGUMENT,c+i+g)}function lE(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Hx extends uE{data(){return super.data()}}function cE(i,e){return typeof e=="string"?Gm(i,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gx{convertValue(e,r="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return ga(e,(o,u)=>{s[o]=this.convertValue(u,r)}),s}convertVectorValue(e){var r,s,o;const u=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[Nc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Nt(h.doubleValue));return new qm(u)}convertGeoPoint(e){return new Bm(Nt(e.latitude),Nt(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Yc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const r=fa(e);return new Qt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Rt.fromString(e);ht(Rb(s),9688,{name:e});const o=new Ml(s.get(1),s.get(3)),u=new Me(s.popFirst(5));return o.isEqual(r)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i,e,r){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fE extends uE{constructor(e,r,s,o,u,h){super(e,r,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(cE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Ec extends fE{data(e={}){return super.data(e)}}class Yx{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Ec(this._firestore,this._userDataWriter,s.key,s,new El(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(c=>{const g=new Ec(o._firestore,o._userDataWriter,c.doc.key,c.doc,new El(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const g=new Ec(o._firestore,o._userDataWriter,c.doc.key,c.doc,new El(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return c.type!==0&&(y=h.indexOf(c.doc.key),h=h.delete(c.doc.key)),c.type!==1&&(h=h.add(c.doc),E=h.indexOf(c.doc.key)),{type:Kx(c.type),doc:g,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Kx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(i){i=wi(i,Gn);const e=wi(i.firestore,co);return Ix(zm(e),i._key).then(r=>tC(e,i,r))}class hE extends Gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,r)}}function Zx(i){i=wi(i,sf);const e=wi(i.firestore,co),r=zm(e),s=new hE(e);return Fx(i._query),Mx(r,i._query).then(o=>new Yx(e,s,i,o))}function Jx(i,e,r,...s){i=wi(i,Gn);const o=wi(i.firestore,co),u=aE(o);let h;return h=typeof(e=ua(e))=="string"||e instanceof lf?Bx(u,"updateDoc",i._key,e,r,s):$x(u,"updateDoc",i._key,e),Qm(o,[h.toMutation(i._key,_r.exists(!0))])}function Wx(i){return Qm(wi(i.firestore,co),[new Tm(i._key,_r.none())])}function eC(i,e){const r=wi(i.firestore,co),s=of(i),o=Qx(i.converter,e);return Qm(r,[zx(aE(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function Qm(i,e){return function(s,o){const u=new _i;return s.asyncQueue.enqueueAndForget(async()=>_x(await Ox(s),o,u)),u.promise}(zm(i),e)}function tC(i,e,r){const s=r.docs.get(e._key),o=new hE(i);return new fE(i,o,e._key,s,new El(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(o){so=o})(C1),Oc(new Cl("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),c=new co(new B1(s.getProvider("auth-internal")),new F1(h,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:r},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),Xs(Jv,Wv,e),Xs(Jv,Wv,"esm2017")})();var nC="firebase",rC="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(nC,rC,"app");const iC={apiKey:"AIzaSyCbK2hkYjuSglbxsGlrrd6CY8aCXG8x-nQ",authDomain:"fizzfun-5b914.firebaseapp.com",projectId:"fizzfun-5b914",storageBucket:"fizzfun-5b914.firebasestorage.app",messagingSenderId:"668921027194",appId:"1:668921027194:web:5f171c9a09b7f9781bf9c3"},aC=O0(iC),Hl=Lx(aC),sC=nE(Hl,"toys"),oC=async i=>{try{const e=await eC(sC,i);return console.log("Toy added with ID:",e.id),e.id}catch(e){throw console.error("Error adding toy:",e),e}},lC=async i=>{try{const e=of(Hl,"toys",i),r=await Xx(e);return r.exists()?{id:r.id,...r.data()}:(console.log("No such toy!"),null)}catch(e){throw console.error("Error fetching toy:",e),e}},uC=async(i,e)=>{try{const r=of(Hl,"toys",i);await Jx(r,e),console.log("Toy updated:",i)}catch(r){throw console.error("Error updating toy:",r),r}},cC=async i=>{try{const e=of(Hl,"toys",i);await Wx(e),console.log("Toy deleted:",i)}catch(e){throw console.error("Error deleting toy:",e),e}},Ym=fm(i=>({toys:[],loading:!1,error:null,fetchToys:async()=>{i({loading:!0,error:null});try{const r=(await Zx(nE(Hl,"toys"))).docs.map(s=>({id:s.id,...s.data()}));i({toys:r,loading:!1})}catch(e){console.error("Error fetching toys:",e),i({error:"Failed to load toys",loading:!1})}},addToy:async e=>{try{const r=await oC(e);i(s=>({toys:[...s.toys,{id:r,...e}]}))}catch(r){console.error("Error adding toy:",r),i({error:"Failed to add toy"})}},fetchToyById:async e=>{try{return await lC(e)}catch(r){console.error("Error fetching toy:",r),i({error:"Failed to fetch toy"})}},updateToyInStore:async(e,r)=>{try{await uC(e,r),i(s=>({toys:s.toys.map(o=>o.id===e?{...o,...r}:o)}))}catch(s){console.error("Error updating toy:",s),i({error:"Failed to update toy"})}},deleteToyFromStore:async e=>{try{await cC(e),i(r=>({toys:r.toys.filter(s=>s.id!==e)}))}catch(r){console.error("Error deleting toy:",r),i({error:"Failed to delete toy"})}}})),fC=({toy:i,addToCart:e})=>ie.jsxs("div",{className:"toy-card",children:[ie.jsx("img",{src:i.image||"https://via.placeholder.com/150",alt:i.name||"No name available",className:"toy-image"}),ie.jsx("h3",{className:"toy-name",children:i.name}),ie.jsx("p",{className:"toy-description",children:i.description}),ie.jsx("p",{className:"toy-category",children:i.category}),ie.jsxs("p",{className:"toy-price",children:[i.price," SEK"]}),ie.jsx("button",{className:"add-to-bag-btn",onClick:()=>e&&e(i),children:"Add To Bag"})]}),hC=()=>{const{toys:i,fetchToys:e,loading:r,error:s}=Ym(),{addToCart:o}=Ul();return ne.useEffect(()=>{e()},[e]),ie.jsxs("div",{className:"home-container",children:[ie.jsx("section",{className:"hero",children:ie.jsxs("div",{className:"hero-content",children:[ie.jsx("h2",{className:"hero-title",children:"Play More This Summer!"}),ie.jsx(Fc,{to:"/shop",children:ie.jsx("button",{className:"shop-now-btn",children:"Shop Now"})})]})}),ie.jsxs("section",{className:"bestsellers",children:[ie.jsx("h2",{className:"section-title",children:"Bestsellers"}),r&&ie.jsx("p",{children:"Loading toys..."}),s&&ie.jsx("p",{className:"error",children:s}),ie.jsx("div",{className:"toy-grid",children:i.slice(5,9).map(u=>ie.jsx(fC,{toy:u,addToCart:o},u.id))})]})]})},dC=()=>{const{toys:i,fetchToys:e}=Ym(),{addToCart:r}=Ul(),[s,o]=ne.useState(!0);return ne.useEffect(()=>{e().then(()=>o(!1))},[e]),s?ie.jsx("p",{children:"Loading toys..."}):ie.jsxs("div",{className:"shop",children:[ie.jsx("h2",{className:"section-title",children:"Shop"}),ie.jsx("div",{className:"toy-grid",children:i.map(u=>ie.jsxs("div",{className:"toy-card",children:[ie.jsx("img",{src:u.image,alt:u.name,className:"toy-img"}),ie.jsx("h3",{children:u.name}),ie.jsx("p",{className:"toy-description",children:u.description}),ie.jsx("p",{className:"toy-category",children:u.category}),ie.jsxs("p",{children:[u.price," SEK "]}),ie.jsx("button",{onClick:()=>r(u),children:"Add to Cart"})]},u.id))})]})},mC=({item:i})=>{const{updateQuantity:e,removeFromCart:r}=Ul(),s=o=>{const u=parseInt(o.target.value);u>=1&&e(i.id,u)};return ie.jsxs("div",{className:"cart-item",children:[ie.jsx("img",{src:i.image,alt:i.name,className:"cart-item-img"}),ie.jsxs("div",{className:"cart-item-details",children:[ie.jsx("h3",{children:i.name}),ie.jsx("p",{className:"toy-description",children:i.description}),ie.jsx("p",{className:"toy-category",children:i.category}),ie.jsxs("p",{children:[i.price," SEK "]}),ie.jsx("input",{type:"number",min:"1",value:i.quantity,onChange:s,className:"cart-item-qty"}),ie.jsx("button",{onClick:()=>r(i.id),className:"remove-btn",children:"Remove"})]})]})},pC=()=>{const{cart:i,clearCart:e}=Ul(),r=i.reduce((s,o)=>s+o.price*o.quantity,0);return ie.jsxs("div",{className:"cart-page",children:[ie.jsx("h2",{children:"Your Cart"}),i.length===0?ie.jsx("p",{children:"Your cart is empty "}):ie.jsxs(ie.Fragment,{children:[i.map(s=>ie.jsx(mC,{item:s},s.id)),ie.jsxs("h3",{children:["Total: ",r," kr"]}),ie.jsx("button",{onClick:e,className:"clear-cart-btn",children:"Clear Cart"})]})]})},gC=fm(i=>({isLoggedIn:!1,toggleLogIn:()=>{i(e=>({isLoggedIn:!e.isLoggedIn}))}})),yC=()=>{const[i,e]=ne.useState(""),[r,s]=ne.useState(""),[o,u]=ne.useState(""),[h,c]=ne.useState(""),{toggleLogIn:g}=gC(),y=m0(),E=d=>{if(d.preventDefault(),u(""),c(""),i!=="admin"||r!=="password"){i!=="admin"&&u("Invalid username"),r!=="password"&&c("Invalid password");return}g(),y("/admin")};return ie.jsxs("form",{className:"login-form",onSubmit:E,children:[ie.jsxs("div",{className:"form-group",children:[ie.jsx("label",{children:"Username"}),ie.jsx("input",{type:"text",value:i,onChange:d=>e(d.target.value),className:o?"input-error":""}),o&&ie.jsx("span",{className:"error",children:o})]}),ie.jsxs("div",{className:"form-group",children:[ie.jsx("label",{children:"Password"}),ie.jsx("input",{type:"password",value:r,onChange:d=>s(d.target.value),className:h?"input-error":""}),h&&ie.jsx("span",{className:"error",children:h})]}),ie.jsx("button",{type:"submit",className:"login-btn",children:"Log In"})]})},vC=()=>ie.jsxs("div",{className:"login-page",children:[ie.jsx("h2",{children:"Admin Login"}),ie.jsx(yC,{})]});var Rd={exports:{}},Y_;function _C(){return Y_||(Y_=1,function(i,e){(function(r,s){i.exports=s()})(self,()=>{return r={7629:(o,u,h)=>{const c=h(375),g=h(8571),y=h(9474),E=h(1687),d=h(8652),p=h(8160),_=h(3292),v=h(6354),b=h(8901),R=h(9708),T=h(6914),A=h(2294),D=h(6133),V=h(1152),j=h(8863),L=h(2036),I={Base:class{constructor(S){this.type=S,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new A.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...S){return p.verifyFlat(S,"allow"),this._values(S,"_valids")}alter(S){c(S&&typeof S=="object"&&!Array.isArray(S),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const O in S){const k=S[O];c(typeof k=="function","Alteration adjuster for",O,"must be a function"),x.$_terms.alterations.push({target:O,adjuster:k})}return x.$_temp.ruleset=!1,x}artifact(S){return c(S!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",S)}cast(S){return c(S===!1||typeof S=="string","Invalid to value"),c(S===!1||this._definition.cast[S],"Type",this.type,"does not support casting to",S),this.$_setFlag("cast",S===!1?void 0:S)}default(S,x){return this._default("default",S,x)}description(S){return c(S&&typeof S=="string","Description must be a non-empty string"),this.$_setFlag("description",S)}empty(S){const x=this.clone();return S!==void 0&&(S=x.$_compile(S,{override:!1})),x.$_setFlag("empty",S,{clone:!1})}error(S){return c(S,"Missing error"),c(S instanceof Error||typeof S=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",S)}example(S,x={}){return c(S!==void 0,"Missing example"),p.assertOptions(x,["override"]),this._inner("examples",S,{single:!0,override:x.override})}external(S,x){return typeof S=="object"&&(c(!x,"Cannot combine options with description"),x=S.description,S=S.method),c(typeof S=="function","Method must be a function"),c(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:S,description:x},{single:!0})}failover(S,x){return this._default("failover",S,x)}forbidden(){return this.presence("forbidden")}id(S){return S?(c(typeof S=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(S),"id cannot contain period character"),this.$_setFlag("id",S)):this.$_setFlag("id",void 0)}invalid(...S){return this._values(S,"_invalids")}label(S){return c(S&&typeof S=="string","Label name must be a non-empty string"),this.$_setFlag("label",S)}meta(S){return c(S!==void 0,"Meta cannot be undefined"),this._inner("metas",S,{single:!0})}note(...S){c(S.length,"Missing notes");for(const x of S)c(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",S)}only(S=!0){return c(typeof S=="boolean","Invalid mode:",S),this.$_setFlag("only",S)}optional(){return this.presence("optional")}prefs(S){c(S,"Missing preferences"),c(S.context===void 0,"Cannot override context"),c(S.externals===void 0,"Cannot override externals"),c(S.warnings===void 0,"Cannot override warnings"),c(S.debug===void 0,"Cannot override debug"),p.checkPreferences(S);const x=this.clone();return x._preferences=p.preferences(x._preferences,S),x}presence(S){return c(["optional","required","forbidden"].includes(S),"Unknown presence mode",S),this.$_setFlag("presence",S)}raw(S=!0){return this.$_setFlag("result",S?"raw":void 0)}result(S){return c(["raw","strip"].includes(S),"Unknown result mode",S),this.$_setFlag("result",S)}required(){return this.presence("required")}strict(S){const x=this.clone(),O=S!==void 0&&!S;return x._preferences=p.preferences(x._preferences,{convert:O}),x}strip(S=!0){return this.$_setFlag("result",S?"strip":void 0)}tag(...S){c(S.length,"Missing tags");for(const x of S)c(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",S)}unit(S){return c(S&&typeof S=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",S)}valid(...S){p.verifyFlat(S,"valid");const x=this.allow(...S);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(S,x){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const k=_.when(O,S,x);if(!["any","link"].includes(O.type)){const $=k.is?[k]:k.switch;for(const U of $)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(k),O.$_mutateRebuild()}cache(S){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=S||d.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const S=Object.create(Object.getPrototypeOf(this));return this._assign(S)}concat(S){c(p.isSchema(S),"Invalid schema object"),c(this.type==="any"||S.type==="any"||S.type===this.type,"Cannot merge type",this.type,"with another type:",S.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!S._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&S.type!=="any"){const O=S.clone();for(const k of Object.keys(x))k!=="type"&&(O[k]=x[k]);x=O}x._ids.concat(S._ids),x._refs.register(S,D.toSibling),x._preferences=x._preferences?p.preferences(x._preferences,S._preferences):S._preferences,x._valids=L.merge(x._valids,S._valids,S._invalids),x._invalids=L.merge(x._invalids,S._invalids,S._valids);for(const O of S._singleRules.keys())x._singleRules.has(O)&&(x._rules=x._rules.filter(k=>k.keep||k.name!==O),x._singleRules.delete(O));for(const O of S._rules)S._definition.rules[O.method].multi||x._singleRules.set(O.name,O),x._rules.push(O);if(x._flags.empty&&S._flags.empty){x._flags.empty=x._flags.empty.concat(S._flags.empty);const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else if(S._flags.empty){x._flags.empty=S._flags.empty;const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else E(x._flags,S._flags);for(const O in S.$_terms){const k=S.$_terms[O];k?x.$_terms[O]?x.$_terms[O]=x.$_terms[O].concat(k):x.$_terms[O]=k.slice():x.$_terms[O]||(x.$_terms[O]=k)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,S]),x.$_mutateRebuild()}extend(S){return c(!S.base,"Cannot extend type with another base"),b.type(this,S)}extract(S){return S=Array.isArray(S)?S:S.split("."),this._ids.reach(S)}fork(S,x){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let k of[].concat(S))k=Array.isArray(k)?k:k.split("."),O=O._ids.fork(k,x,O);return O.$_temp.ruleset=!1,O}rule(S){const x=this._definition;p.assertOptions(S,Object.keys(x.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const k=this.clone();for(let $=O;$<k._rules.length;++$){const U=k._rules[$],he=g(U);for(const pe in S)x.modifiers[pe](he,S[pe]),c(he.name===U.name,"Cannot change rule name");k._rules[$]=he,k._singleRules.get(he.name)===U&&k._singleRules.set(he.name,he)}return k.$_temp.ruleset=!1,k.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const S=this.clone();return S.$_temp.ruleset=S._rules.length,S}get $(){return this.ruleset}tailor(S){S=[].concat(S),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:O,adjuster:k}of this.$_terms.alterations)S.includes(O)&&(x=k(x),c(p.isSchema(x),"Alteration adjuster for",O,"failed to return a schema object"));return x=x.$_modify({each:O=>O.tailor(S),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return V.location?V.location(this):this}validate(S,x){return j.entry(S,this,x)}validateAsync(S,x){return j.entryAsync(S,this,x)}$_addRule(S){typeof S=="string"&&(S={name:S}),c(S&&typeof S=="object","Invalid options"),c(S.name&&typeof S.name=="string","Invalid rule name");for(const U in S)c(U[0]!=="_","Cannot set private rule properties");const x=Object.assign({},S);x._resolve=[],x.method=x.method||x.name;const O=this._definition.rules[x.method],k=x.args;c(O,"Unknown rule",x.method);const $=this.clone();if(k){c(Object.keys(k).length===1||Object.keys(k).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const U in k){let he=k[U];if(O.argsByName){const pe=O.argsByName.get(U);if(pe.ref&&p.isResolvable(he))x._resolve.push(U),$.$_mutateRegister(he);else if(pe.normalize&&(he=pe.normalize(he),k[U]=he),pe.assert){const G=p.validateArg(he,U,pe);c(!G,G,"or reference")}}he!==void 0?k[U]=he:delete k[U]}}return O.multi||($._ruleRemove(x.name,{clone:!1}),$._singleRules.set(x.name,x)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),O.priority?$._rules.unshift(x):$._rules.push(x),$}$_compile(S,x){return _.schema(this.$_root,S,x)}$_createError(S,x,O,k,$,U={}){const he=U.flags!==!1?this._flags:{},pe=U.messages?T.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(S,x,O,he,pe,k,$)}$_getFlag(S){return this._flags[S]}$_getRule(S){return this._singleRules.get(S)}$_mapLabels(S){return S=Array.isArray(S)?S:S.split("."),this._ids.labels(S)}$_match(S,x,O,k){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,x.snapshot();const $=!j.validate(S,this,x,O,k).errors;return x.restore(),$}$_modify(S){return p.assertOptions(S,["each","once","ref","schema"]),A.schema(this,S)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(S,{source:x,name:O,path:k,key:$})=>{const U=this._definition[x][O]&&this._definition[x][O].register;U!==!1&&this.$_mutateRegister(S,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(S,{family:x,key:O}={}){this._refs.register(S,x),this._ids.register(S,{key:O})}$_property(S){return this._definition.properties[S]}$_reach(S){return this._ids.reach(S)}$_rootReferences(){return this._refs.roots()}$_setFlag(S,x,O={}){c(S[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const k=this._definition.flags[S]||{};if(y(x,k.default)&&(x=void 0),y(x,this._flags[S]))return this;const $=O.clone!==!1?this.clone():this;return x!==void 0?($._flags[S]=x,$.$_mutateRegister(x)):delete $._flags[S],S[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(S,...x){return this[S][p.symbols.parent].call(this,...x)}$_validate(S,x,O){return j.validate(S,this,x,O)}_assign(S){S.type=this.type,S.$_root=this.$_root,S.$_temp=Object.assign({},this.$_temp),S.$_temp.whens={},S._ids=this._ids.clone(),S._preferences=this._preferences,S._valids=this._valids&&this._valids.clone(),S._invalids=this._invalids&&this._invalids.clone(),S._rules=this._rules.slice(),S._singleRules=g(this._singleRules,{shallow:!0}),S._refs=this._refs.clone(),S._flags=Object.assign({},this._flags),S._cache=null,S.$_terms={};for(const x in this.$_terms)S.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;S.$_super={};for(const x in this.$_super)S.$_super[x]=this._super[x].bind(S);return S}_bare(){const S=this.clone();S._reset();const x=S._definition.terms;for(const O in x){const k=x[O];S.$_terms[O]=k.init}return S.$_mutateRebuild()}_default(S,x,O={}){return p.assertOptions(O,"literal"),c(x!==void 0,"Missing",S,"value"),c(typeof x=="function"||!O.literal,"Only function value supports literal option"),typeof x=="function"&&O.literal&&(x={[p.symbols.literal]:!0,literal:x}),this.$_setFlag(S,x)}_generate(S,x,O){if(!this.$_terms.whens)return{schema:this};const k=[],$=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const G=this.$_terms.whens[pe];if(G.concat){k.push(G.concat),$.push(`${pe}.concat`);continue}const se=G.ref?G.ref.resolve(S,x,O):S,ye=G.is?[G]:G.switch,Re=$.length;for(let B=0;B<ye.length;++B){const{is:te,then:me,otherwise:ce}=ye[B],_e=`${pe}${G.switch?"."+B:""}`;if(te.$_match(se,x.nest(te,`${_e}.is`),O)){if(me){const ke=x.localize([...x.path,`${_e}.then`],x.ancestors,x.schemas),{schema:xe,id:Tt}=me._generate(S,ke,O);k.push(xe),$.push(`${_e}.then${Tt?`(${Tt})`:""}`);break}}else if(ce){const ke=x.localize([...x.path,`${_e}.otherwise`],x.ancestors,x.schemas),{schema:xe,id:Tt}=ce._generate(S,ke,O);k.push(xe),$.push(`${_e}.otherwise${Tt?`(${Tt})`:""}`);break}}if(G.break&&$.length>Re)break}const U=$.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",U),!U)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,S,x,O));for(const pe of k)he=he.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...k]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(S,x,O={}){c(!this._inRuleset(),`Cannot set ${S} inside a ruleset`);const k=this.clone();return k.$_terms[S]&&!O.override||(k.$_terms[S]=[]),O.single?k.$_terms[S].push(x):k.$_terms[S].push(...x),k.$_temp.ruleset=!1,k}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(S,x={}){if(!this._singleRules.has(S))return this;const O=x.clone!==!1?this.clone():this;O._singleRules.delete(S);const k=[];for(let $=0;$<O._rules.length;++$){const U=O._rules[$];U.name!==S||U.keep?k.push(U):O._inRuleset()&&$<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=k,O}_values(S,x){p.verifyFlat(S,x.slice(1,-1));const O=this.clone(),k=S[0]===p.symbols.override;if(k&&(S=S.slice(1)),!O[x]&&S.length?O[x]=new L:k&&(O[x]=S.length?new L:null,O.$_mutateRebuild()),!O[x])return O;k&&O[x].override();for(const $ of S){c($!==void 0,"Cannot call allow/valid/invalid with undefined"),c($!==p.symbols.override,"Override must be the first value");const U=x==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove($),O[U].length||(c(x==="_valids"||!O._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[x].add($,O._refs)}return O}}};I.Base.prototype[p.symbols.any]={version:p.version,compile:_.compile,root:"$_root"},I.Base.prototype.isImmutable=!0,I.Base.prototype.deny=I.Base.prototype.invalid,I.Base.prototype.disallow=I.Base.prototype.invalid,I.Base.prototype.equal=I.Base.prototype.valid,I.Base.prototype.exist=I.Base.prototype.required,I.Base.prototype.not=I.Base.prototype.invalid,I.Base.prototype.options=I.Base.prototype.prefs,I.Base.prototype.preferences=I.Base.prototype.prefs,o.exports=new I.Base},8652:(o,u,h)=>{const c=h(375),g=h(8571),y=h(8160),E={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:d=>new E.Cache(d)},E.Cache=class{constructor(d={}){y.assertOptions(d,["max"]),c(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||E.max,this._map=new Map,this._list=new E.List}get length(){return this._map.size}set(d,p){if(d!==null&&!E.supported.has(typeof d))return;let _=this._map.get(d);if(_)return _.value=p,void this._list.first(_);_=this._list.unshift({key:d,value:p}),this._map.set(d,_),this._compact()}get(d){const p=this._map.get(d);if(p)return this._list.first(p),g(p.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},E.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:p,prev:_}=d;return p.prev=_,_&&(_.next=p),d===this.tail&&(this.tail=p),d.prev=null,d.next=null,d}}},8160:(o,u,h)=>{const c=h(375),g=h(7916),y=h(5934);let E,d;const p={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=y.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(_,v,b="Options"){c(_&&typeof _=="object"&&!Array.isArray(_),"Options must be of type object");const R=Object.keys(_).filter(T=>!v.includes(T));c(R.length===0,`${b} contain unknown keys: ${R}`)},u.checkPreferences=function(_){d=d||h(3378);const v=d.preferences.validate(_);if(v.error)throw new g([v.error.details[0].message])},u.compare=function(_,v,b){switch(b){case"=":return _===v;case">":return _>v;case"<":return _<v;case">=":return _>=v;case"<=":return _<=v}},u.default=function(_,v){return _===void 0?v:_},u.isIsoDate=function(_){return p.isoDate.test(_)},u.isNumber=function(_){return typeof _=="number"&&!isNaN(_)},u.isResolvable=function(_){return!!_&&(_[u.symbols.ref]||_[u.symbols.template])},u.isSchema=function(_,v={}){const b=_&&_[u.symbols.any];return!!b&&(c(v.legacy||b.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(_){return _[u.symbols.values]},u.limit=function(_){return Number.isSafeInteger(_)&&_>=0},u.preferences=function(_,v){E=E||h(6914),_=_||{},v=v||{};const b=Object.assign({},_,v);return v.errors&&_.errors&&(b.errors=Object.assign({},_.errors,v.errors),b.errors.wrap=Object.assign({},_.errors.wrap,v.errors.wrap)),v.messages&&(b.messages=E.compile(v.messages,_.messages)),delete b[u.symbols.prefs],b},u.tryWithPath=function(_,v,b={}){try{return _()}catch(R){throw R.path!==void 0?R.path=v+"."+R.path:R.path=v,b.append&&(R.message=`${R.message} (${R.path})`),R}},u.validateArg=function(_,v,{assert:b,message:R}){if(u.isSchema(b)){const T=b.validate(_);return T.error?T.error.message:void 0}if(!b(_))return v?`${v} ${R}`:R},u.verifyFlat=function(_,v){for(const b of _)c(!Array.isArray(b),"Method no longer accepts array arguments:",v)}},3292:(o,u,h)=>{const c=h(375),g=h(8160),y=h(6133),E={};u.schema=function(d,p,_={}){g.assertOptions(_,["appendPath","override"]);try{return E.schema(d,p,_)}catch(v){throw _.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},E.schema=function(d,p,_){c(p!==void 0,"Invalid undefined schema"),Array.isArray(p)&&(c(p.length,"Invalid empty array schema"),p.length===1&&(p=p[0]));const v=(b,...R)=>_.override!==!1?b.valid(d.override,...R):b.valid(...R);if(E.simple(p))return v(d,p);if(typeof p=="function")return d.custom(p);if(c(typeof p=="object","Invalid schema content:",typeof p),g.isResolvable(p))return v(d,p);if(g.isSchema(p))return p;if(Array.isArray(p)){for(const b of p)if(!E.simple(b))return d.alternatives().try(...p);return v(d,...p)}return p instanceof RegExp?d.string().regex(p):p instanceof Date?v(d.date(),p):(c(Object.getPrototypeOf(p)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(p))},u.ref=function(d,p){return y.isRef(d)?d:y.create(d,p)},u.compile=function(d,p,_={}){g.assertOptions(_,["legacy"]);const v=p&&p[g.symbols.any];if(v)return c(_.legacy||v.version===g.version,"Cannot mix different versions of joi schemas:",v.version,g.version),p;if(typeof p!="object"||!_.legacy)return u.schema(d,p,{appendPath:!0});const b=E.walk(p);return b?b.compile(b.root,p):u.schema(d,p,{appendPath:!0})},E.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const _ of d){const v=E.walk(_);if(v)return v}return null}const p=d[g.symbols.any];if(p)return{root:d[p.root],compile:p.compile};c(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const _ in d){const v=E.walk(d[_]);if(v)return v}return null},E.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},u.when=function(d,p,_){if(_===void 0&&(c(p&&typeof p=="object","Missing options"),_=p,p=y.create(".")),Array.isArray(_)&&(_={switch:_}),g.assertOptions(_,["is","not","then","otherwise","switch","break"]),g.isSchema(p))return c(_.is===void 0,'"is" can not be used with a schema condition'),c(_.not===void 0,'"not" can not be used with a schema condition'),c(_.switch===void 0,'"switch" can not be used with a schema condition'),E.condition(d,{is:p,then:_.then,otherwise:_.otherwise,break:_.break});if(c(y.isRef(p)||typeof p=="string","Invalid condition:",p),c(_.not===void 0||_.is===void 0,'Cannot combine "is" with "not"'),_.switch===void 0){let b=_;_.not!==void 0&&(b={is:_.not,then:_.otherwise,otherwise:_.then,break:_.break});let R=b.is!==void 0?d.$_compile(b.is):d.$_root.invalid(null,!1,0,"").required();return c(b.then!==void 0||b.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(b.break===void 0||b.then===void 0||b.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),_.is===void 0||y.isRef(_.is)||g.isSchema(_.is)||(R=R.required()),E.condition(d,{ref:u.ref(p),is:R,then:b.then,otherwise:b.otherwise,break:b.break})}c(Array.isArray(_.switch),'"switch" must be an array'),c(_.is===void 0,'Cannot combine "switch" with "is"'),c(_.not===void 0,'Cannot combine "switch" with "not"'),c(_.then===void 0,'Cannot combine "switch" with "then"');const v={ref:u.ref(p),switch:[],break:_.break};for(let b=0;b<_.switch.length;++b){const R=_.switch[b],T=b===_.switch.length-1;g.assertOptions(R,T?["is","then","otherwise"]:["is","then"]),c(R.is!==void 0,'Switch statement missing "is"'),c(R.then!==void 0,'Switch statement missing "then"');const A={is:d.$_compile(R.is),then:d.$_compile(R.then)};if(y.isRef(R.is)||g.isSchema(R.is)||(A.is=A.is.required()),T){c(_.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=_.otherwise!==void 0?_.otherwise:R.otherwise;D!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),A.otherwise=d.$_compile(D))}v.switch.push(A)}return v},E.condition=function(d,p){for(const _ of["then","otherwise"])p[_]===void 0?delete p[_]:p[_]=d.$_compile(p[_]);return p}},6354:(o,u,h)=>{const c=h(5688),g=h(8160),y=h(3328);u.Report=class{constructor(E,d,p,_,v,b,R){if(this.code=E,this.flags=_,this.messages=v,this.path=b.path,this.prefs=R,this.state=b,this.value=d,this.message=null,this.template=null,this.local=p||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const T=this.path[this.path.length-1];typeof T!="object"&&(this.local.key=T)}}_setTemplate(E){if(this.template=E,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const E=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${E}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(E,d){return u.template(this.value,E,d||this.code,this.state,this.prefs)}},u.path=function(E){let d="";for(const p of E)typeof p!="object"&&(typeof p=="string"?(d&&(d+="."),d+=p):d+=`[${p}]`);return d},u.template=function(E,d,p,_,v){if(!d)return;if(y.isTemplate(d))return p!=="root"?d:null;let b=v.errors.language;if(g.isResolvable(b)&&(b=b.resolve(E,_,v)),b&&d[b]){if(d[b][p]!==void 0)return d[b][p];if(d[b]["*"]!==void 0)return d[b]["*"]}return d[p]?d[p]:d["*"]},u.label=function(E,d,p,_){if(!p.errors.label)return"";if(E.label)return E.label;let v=d.path;return p.errors.label==="key"&&d.path.length>1&&(v=d.path.slice(-1)),u.path(v)||u.template(null,p.messages,"root",d,p)||_&&u.template(null,_,"root",d,p)||"value"},u.process=function(E,d,p){if(!E)return null;const{override:_,message:v,details:b}=u.details(E);if(_)return _;if(p.errors.stack)return new u.ValidationError(v,b,d);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const T=new u.ValidationError(v,b,d);return Error.stackTraceLimit=R,T},u.details=function(E,d={}){let p=[];const _=[];for(const v of E){if(v instanceof Error){if(d.override!==!1)return{override:v};const R=v.toString();p.push(R),_.push({message:R,type:"override",context:{error:v}});continue}const b=v.toString();p.push(b),_.push({message:b,path:v.path.filter(R=>typeof R!="object"),type:v.code,context:v.local})}return p.length>1&&(p=[...new Set(p)]),{message:p.join(". "),details:_}},u.ValidationError=class extends Error{constructor(E,d,p){super(E),this._original=p,this.details=d}static isError(E){return E instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,h)=>{const c=h(375),g=h(8571),y=h(8160),E=h(6914),d={};u.type=function(p,_){const v=Object.getPrototypeOf(p),b=g(v),R=p._assign(Object.create(b)),T=Object.assign({},_);delete T.base,b._definition=T;const A=v._definition||{};T.messages=E.merge(A.messages,T.messages),T.properties=Object.assign({},A.properties,T.properties),R.type=T.type,T.flags=Object.assign({},A.flags,T.flags);const D=Object.assign({},A.terms);if(T.terms)for(const I in T.terms){const S=T.terms[I];c(R.$_terms[I]===void 0,"Invalid term override for",T.type,I),R.$_terms[I]=S.init,D[I]=S}T.terms=D,T.args||(T.args=A.args),T.prepare=d.prepare(T.prepare,A.prepare),T.coerce&&(typeof T.coerce=="function"&&(T.coerce={method:T.coerce}),T.coerce.from&&!Array.isArray(T.coerce.from)&&(T.coerce={method:T.coerce.method,from:[].concat(T.coerce.from)})),T.coerce=d.coerce(T.coerce,A.coerce),T.validate=d.validate(T.validate,A.validate);const V=Object.assign({},A.rules);if(T.rules)for(const I in T.rules){const S=T.rules[I];c(typeof S=="object","Invalid rule definition for",T.type,I);let x=S.method;if(x===void 0&&(x=function(){return this.$_addRule(I)}),x&&(c(!b[I],"Rule conflict in",T.type,I),b[I]=x),c(!V[I],"Rule conflict in",T.type,I),V[I]=S,S.alias){const O=[].concat(S.alias);for(const k of O)b[k]=S.method}S.args&&(S.argsByName=new Map,S.args=S.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!S.argsByName.has(O.name),"Duplicated argument name",O.name),y.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),S.argsByName.set(O.name,O),O)))}T.rules=V;const j=Object.assign({},A.modifiers);if(T.modifiers)for(const I in T.modifiers){c(!b[I],"Rule conflict in",T.type,I);const S=T.modifiers[I];c(typeof S=="function","Invalid modifier definition for",T.type,I);const x=function(O){return this.rule({[I]:O})};b[I]=x,j[I]=S}if(T.modifiers=j,T.overrides){b._super=v,R.$_super={};for(const I in T.overrides)c(v[I],"Cannot override missing",I),T.overrides[I][y.symbols.parent]=v[I],R.$_super[I]=v[I].bind(R);Object.assign(b,T.overrides)}T.cast=Object.assign({},A.cast,T.cast);const L=Object.assign({},A.manifest,T.manifest);return L.build=d.build(T.manifest&&T.manifest.build,A.manifest&&A.manifest.build),T.manifest=L,T.rebuild=d.rebuild(T.rebuild,A.rebuild),R},d.build=function(p,_){return p&&_?function(v,b){return _(p(v,b),b)}:p||_},d.coerce=function(p,_){return p&&_?{from:p.from&&_.from?[...new Set([...p.from,..._.from])]:null,method(v,b){let R;if((!_.from||_.from.includes(typeof v))&&(R=_.method(v,b),R)){if(R.errors||R.value===void 0)return R;v=R.value}if(!p.from||p.from.includes(typeof v)){const T=p.method(v,b);if(T)return T}return R}}:p||_},d.prepare=function(p,_){return p&&_?function(v,b){const R=p(v,b);if(R){if(R.errors||R.value===void 0)return R;v=R.value}return _(v,b)||R}:p||_},d.rebuild=function(p,_){return p&&_?function(v){_(v),p(v)}:p||_},d.validate=function(p,_){return p&&_?function(v,b){const R=_(v,b);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;v=R.value}return p(v,b)||R}:p||_}},5107:(o,u,h)=>{const c=h(375),g=h(8571),y=h(8652),E=h(8160),d=h(3292),p=h(6354),_=h(8901),v=h(9708),b=h(6133),R=h(3328),T=h(1152);let A;const D={types:{alternatives:h(4946),any:h(8068),array:h(546),boolean:h(4937),date:h(7500),function:h(390),link:h(8785),number:h(3832),object:h(8966),string:h(7417),symbol:h(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const V={_types:new Set(Object.keys(D.types))};for(const j of V._types)V[j]=function(...L){return c(!L.length||["alternatives","link","object"].includes(j),"The",j,"type does not allow arguments"),D.generate(this,D.types[j],L)};for(const j of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])V[j]=function(...L){return this.any()[j](...L)};Object.assign(V,D.methods);for(const j in D.aliases){const L=D.aliases[j];V[j]=V[L]}return V.x=V.expression,T.setup&&T.setup(V),V}};D.methods={ValidationError:p.ValidationError,version:E.version,cache:y.provider,assert(V,j,...L){D.assert(V,j,!0,L)},attempt:(V,j,...L)=>D.assert(V,j,!1,L),build(V){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,V)},checkPreferences(V){E.checkPreferences(V)},compile(V,j){return d.compile(this,V,j)},defaults(V){c(typeof V=="function","modifier must be a function");const j=Object.assign({},this);for(const L of j._types){const I=V(j[L]());c(E.isSchema(I),"modifier must return a valid schema object"),j[L]=function(...S){return D.generate(this,I,S)}}return j},expression:(...V)=>new R(...V),extend(...V){E.verifyFlat(V,"extend"),A=A||h(3378),c(V.length,"You need to provide at least one extension"),this.assert(V,A.extensions);const j=Object.assign({},this);j._types=new Set(j._types);for(let L of V){typeof L=="function"&&(L=L(j)),this.assert(L,A.extension);const I=D.expandExtension(L,j);for(const S of I){c(j[S.type]===void 0||j._types.has(S.type),"Cannot override name",S.type);const x=S.base||this.any(),O=_.type(x,S);j._types.add(S.type),j[S.type]=function(...k){return D.generate(this,O,k)}}}return j},isError:p.ValidationError.isError,isExpression:R.isTemplate,isRef:b.isRef,isSchema:E.isSchema,in:(...V)=>b.in(...V),override:E.symbols.override,ref:(...V)=>b.create(...V),types(){const V={};for(const j of this._types)V[j]=this[j]();for(const j in D.aliases)V[j]=this[j]();return V}},D.assert=function(V,j,L,I){const S=I[0]instanceof Error||typeof I[0]=="string"?I[0]:null,x=S!==null?I[1]:I[0],O=j.validate(V,E.preferences({errors:{stack:!0}},x||{}));let k=O.error;if(!k)return O.value;if(S instanceof Error)throw S;const $=L&&typeof k.annotate=="function"?k.annotate():k.message;throw k instanceof p.ValidationError==0&&(k=g(k)),k.message=S?`${S} ${$}`:$,k},D.generate=function(V,j,L){return c(V,"Must be invoked on a Joi instance."),j.$_root=V,j._definition.args&&L.length?j._definition.args(j,...L):j},D.expandExtension=function(V,j){if(typeof V.type=="string")return[V];const L=[];for(const I of j._types)if(V.type.test(I)){const S=Object.assign({},V);S.type=I,S.base=j[I](),L.push(S)}return L},o.exports=D.root()},6914:(o,u,h)=>{const c=h(375),g=h(8571),y=h(3328);u.compile=function(E,d){if(typeof E=="string")return c(!d,"Cannot set single message string"),new y(E);if(y.isTemplate(E))return c(!d,"Cannot set single message template"),E;c(typeof E=="object"&&!Array.isArray(E),"Invalid message options"),d=d?g(d):{};for(let p in E){const _=E[p];if(p==="root"||y.isTemplate(_)){d[p]=_;continue}if(typeof _=="string"){d[p]=new y(_);continue}c(typeof _=="object"&&!Array.isArray(_),"Invalid message for",p);const v=p;for(p in d[v]=d[v]||{},_){const b=_[p];p==="root"||y.isTemplate(b)?d[v][p]=b:(c(typeof b=="string","Invalid message for",p,"in",v),d[v][p]=new y(b))}}return d},u.decompile=function(E){const d={};for(let p in E){const _=E[p];if(p==="root"){d.root=_;continue}if(y.isTemplate(_)){d[p]=_.describe({compact:!0});continue}const v=p;for(p in d[v]={},_){const b=_[p];p!=="root"?d[v][p]=b.describe({compact:!0}):d[v].root=b}}return d},u.merge=function(E,d){if(!E)return u.compile(d);if(!d)return E;if(typeof d=="string")return new y(d);if(y.isTemplate(d))return d;const p=g(E);for(let _ in d){const v=d[_];if(_==="root"||y.isTemplate(v)){p[_]=v;continue}if(typeof v=="string"){p[_]=new y(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",_);const b=_;for(_ in p[b]=p[b]||{},v){const R=v[_];_==="root"||y.isTemplate(R)?p[b][_]=R:(c(typeof R=="string","Invalid message for",_,"in",b),p[b][_]=new y(R))}}return p}},2294:(o,u,h)=>{const c=h(375),g=h(8160),y=h(6133),E={};u.Ids=E.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new E.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[p,_]of d._byId.entries())c(!this._byKey.has(p),"Schema id conflicts with existing key:",p),this._byId.set(p,_);for(const[p,_]of d._byKey.entries())c(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,_)}fork(d,p,_){const v=this._collect(d);v.push({schema:_});const b=v.shift();let R={id:b.id,schema:p(b.schema)};c(g.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const T of v)R={id:T.id,schema:E.fork(T.schema,R.id,R.schema)};return R.schema}labels(d,p=[]){const _=d[0],v=this._get(_);if(!v)return[...p,...d].join(".");const b=d.slice(1);return p=[...p,v.schema._flags.label||_],b.length?v.schema._ids.labels(b,p):p.join(".")}reach(d,p=[]){const _=d[0],v=this._get(_);c(v,"Schema does not contain path",[...p,...d].join("."));const b=d.slice(1);return b.length?v.schema._ids.reach(b,[...p,_]):v.schema}register(d,{key:p}={}){if(!d||!g.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const _=d._flags.id;if(_){const v=this._byId.get(_);c(!v||v.schema===d,"Cannot add different schemas with the same id:",_),c(!this._byKey.has(_),"Schema id conflicts with existing key:",_),this._byId.set(_,{schema:d,id:_})}p&&(c(!this._byKey.has(p),"Schema already contains key:",p),c(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,{schema:d,id:p}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,p=[],_=[]){const v=d[0],b=this._get(v);c(b,"Schema does not contain path",[...p,...d].join(".")),_=[b,..._];const R=d.slice(1);return R.length?b.schema._ids._collect(R,[...p,v],_):_}_get(d){return this._byId.get(d)||this._byKey.get(d)}},E.fork=function(d,p,_){const v=u.schema(d,{each:(b,{key:R})=>{if(p===(b._flags.id||R))return _},ref:!1});return v?v.$_mutateRebuild():d},u.schema=function(d,p){let _;for(const v in d._flags){if(v[0]==="_")continue;const b=E.scan(d._flags[v],{source:"flags",name:v},p);b!==void 0&&(_=_||d.clone(),_._flags[v]=b)}for(let v=0;v<d._rules.length;++v){const b=d._rules[v],R=E.scan(b.args,{source:"rules",name:b.name},p);if(R!==void 0){_=_||d.clone();const T=Object.assign({},b);T.args=R,_._rules[v]=T,_._singleRules.get(b.name)===b&&_._singleRules.set(b.name,T)}}for(const v in d.$_terms){if(v[0]==="_")continue;const b=E.scan(d.$_terms[v],{source:"terms",name:v},p);b!==void 0&&(_=_||d.clone(),_.$_terms[v]=b)}return _},E.scan=function(d,p,_,v,b){const R=v||[];if(d===null||typeof d!="object")return;let T;if(Array.isArray(d)){for(let A=0;A<d.length;++A){const D=p.source==="terms"&&p.name==="keys"&&d[A].key,V=E.scan(d[A],p,_,[A,...R],D);V!==void 0&&(T=T||d.slice(),T[A]=V)}return T}if(_.schema!==!1&&g.isSchema(d)||_.ref!==!1&&y.isRef(d)){const A=_.each(d,{...p,path:R,key:b});return A===d?void 0:A}for(const A in d){if(A[0]==="_")continue;const D=E.scan(d[A],p,_,[A,...R],b);D!==void 0&&(T=T||Object.assign({},d),T[A]=D)}return T}},6133:(o,u,h)=>{const c=h(375),g=h(8571),y=h(9621),E=h(8160);let d;const p={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(_,v={}){c(typeof _=="string","Invalid reference key:",_),E.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const b=Object.assign({},p.defaults,v);delete b.prefix;const R=b.separator,T=p.context(_,R,v.prefix);if(b.type=T.type,_=T.key,b.type==="value")if(T.root&&(c(!R||_[0]!==R,"Cannot specify relative path with root prefix"),b.ancestor="root",_||(_=null)),R&&R===_)_=null,b.ancestor=0;else if(b.ancestor!==void 0)c(!R||!_||_[0]!==R,"Cannot combine prefix with ancestor option");else{const[A,D]=p.ancestor(_,R);D&&(_=_.slice(D))===""&&(_=null),b.ancestor=A}return b.path=R?_===null?[]:_.split(R):[_],new p.Ref(b)},u.in=function(_,v={}){return u.create(_,{...v,in:!0})},u.isRef=function(_){return!!_&&!!_[E.symbols.ref]},p.Ref=class{constructor(_){c(typeof _=="object","Invalid reference construction"),E.assertOptions(_,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(_.separator)||typeof _.separator=="string"&&_.separator.length===1,"Invalid separator"),c(!_.adjust||typeof _.adjust=="function","options.adjust must be a function"),c(!_.map||Array.isArray(_.map),"options.map must be an array"),c(!_.map||!_.adjust,"Cannot set both map and adjust options"),Object.assign(this,p.defaults,_),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(_,v,b,R,T={}){return c(!this.in||T.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(b.context,v,T):this.type==="local"?this._resolve(R,v,T):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,T):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,T)):this._resolve(_,v,T)}_resolve(_,v,b){let R;if(this.type==="value"&&v.mainstay.shadow&&b.shadow!==!1&&(R=v.mainstay.shadow.get(this.absolute(v))),R===void 0&&(R=y(_,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const T=this.map.get(R);T!==void 0&&(R=T)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,R),R}toString(){return this.display}absolute(_){return[..._.path.slice(0,-this.ancestor),...this.path]}clone(){return new p.Ref(this)}describe(){const _={path:this.path};this.type!=="value"&&(_.type=this.type),this.separator!=="."&&(_.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(_.ancestor=this.ancestor),this.map&&(_.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(_[v]=this[v]);return this.in!==!1&&(_.in=!0),{ref:_}}updateDisplay(){const _=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${_}`);if(!this.separator)return void(this.display=`ref:${_}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${_}`);if(this.ancestor==="root")return void(this.display=`ref:root:${_}`);if(this.ancestor===1)return void(this.display=`ref:${_||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${_||""}`}},p.Ref.prototype[E.symbols.ref]=!0,u.build=function(_){return(_=Object.assign({},p.defaults,_)).type==="value"&&_.ancestor===void 0&&(_.ancestor=1),new p.Ref(_)},p.context=function(_,v,b={}){if(_=_.trim(),b){const R=b.global===void 0?"$":b.global;if(R!==v&&_.startsWith(R))return{key:_.slice(R.length),type:"global"};const T=b.local===void 0?"#":b.local;if(T!==v&&_.startsWith(T))return{key:_.slice(T.length),type:"local"};const A=b.root===void 0?"/":b.root;if(A!==v&&_.startsWith(A))return{key:_.slice(A.length),type:"value",root:!0}}return{key:_,type:"value"}},p.ancestor=function(_,v){if(!v)return[1,0];if(_[0]!==v)return[1,0];if(_[1]!==v)return[0,1];let b=2;for(;_[b]===v;)++b;return[b-1,b]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(_,v){if(_)if(v=v===void 0?u.toParent:v,Array.isArray(_))for(const b of _)this.register(b,v);else if(E.isSchema(_))for(const b of _._refs.refs)b.ancestor-v>=0&&this.refs.push({ancestor:b.ancestor-v,root:b.root});else u.isRef(_)&&_.type==="value"&&_.ancestor-v>=0&&this.refs.push({ancestor:_.ancestor-v,root:_.root}),d=d||h(3328),d.isTemplate(_)&&this.register(_.refs(),v)}get length(){return this.refs.length}clone(){const _=new u.Manager;return _.refs=g(this.refs),_}reset(){this.refs=[]}roots(){return this.refs.filter(_=>!_.ancestor).map(_=>_.root)}}},3378:(o,u,h)=>{const c=h(5107),g={};g.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:g.wrap,array:g.wrap,string:g.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),g.nameRx=/^[a-zA-Z0-9]\w*$/,g.rule=c.object({alias:c.array().items(c.string().pattern(g.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(g.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(g.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(g.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(g.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(g.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(g.nameRx,g.rule),terms:c.object().pattern(g.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),g.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},g.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),g.desc.buffer,g.desc.func,g.desc.ref,g.desc.regex,g.desc.special,g.desc.template,g.desc.value,c.link("/")]),g.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),g.desc.buffer,g.desc.func,g.desc.override,g.desc.ref,g.desc.regex,g.desc.template,g.desc.value),g.desc.messages=c.object().pattern(/.+/,[c.string(),g.desc.template,c.object().pattern(/.+/,[c.string(),g.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:g.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),g.desc.ref],wrap:{label:g.wrap,array:g.wrap}},externals:c.boolean(),messages:g.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:g.desc.values,invalid:g.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),g.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:g.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,h)=>{const c=h(8571),g=h(9621),y=h(8160),E={value:Symbol("value")};o.exports=E.State=class{constructor(d,p,_){this.path=d,this.ancestors=p,this.mainstay=_.mainstay,this.schemas=_.schemas,this.debug=null}localize(d,p=null,_=null){const v=new E.State(d,p,this);return _&&v.schemas&&(v.schemas=[E.schemas(_),...v.schemas]),v}nest(d,p){const _=new E.State(this.path,this.ancestors,this);return _.schemas=_.schemas&&[E.schemas(d),..._.schemas],_.debug=p,_}shadow(d,p){this.mainstay.shadow=this.mainstay.shadow||new E.Shadow,this.mainstay.shadow.set(this.path,d,p)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},E.schemas=function(d){return y.isSchema(d)?{schema:d}:d},E.Shadow=class{constructor(){this._values=null}set(d,p,_){if(!d.length||_==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let b=0;b<d.length;++b){const R=d[b];let T=v.get(R);T||(T=new Map,v.set(R,T)),v=T}v[E.value]=p}get(d){const p=this.node(d);if(p)return p[E.value]}node(d){if(this._values)return g(this._values,d,{iterables:!0})}override(d,p){if(!this._values)return;const _=d.slice(0,-1),v=d[d.length-1],b=g(this._values,_,{iterables:!0});p?b.set(v,p):b&&b.delete(v)}}},3328:(o,u,h)=>{const c=h(375),g=h(8571),y=h(5277),E=h(1447),d=h(8160),p=h(6354),_=h(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(b,R){if(c(typeof b=="string","Template source must be a string"),c(!b.includes("\0")&&!b.includes(""),"Template source cannot contain reserved control characters"),this.source=b,this.rendered=b,this._template=null,R){const{functions:T,...A}=R;this._settings=Object.keys(A).length?g(A):void 0,this._functions=T,this._functions&&(c(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const b=v.encode(this.source),R=v.split(b);let T=!1;const A=[],D=R.shift();D&&A.push(D);for(const V of R){const j=V[0]!=="{",L=j?"}":"}}",I=V.indexOf(L);if(I===-1||V[1]==="{"){A.push(`{${v.decode(V)}`);continue}let S=V.slice(j?0:1,I);const x=S[0]===":";x&&(S=S.slice(1));const O=this._ref(v.decode(S),{raw:j,wrapped:x});A.push(O),typeof O!="string"&&(T=!0);const k=V.slice(I+L.length);k&&A.push(v.decode(k))}T?this._template=A:this.rendered=A.join("")}static date(b,R){return v.dateFormat[R.dateFormat].call(b)}describe(b={}){if(!this._settings&&b.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(b){return new v.Template(b.template,b.options||b.functions?{...b.options,functions:b.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(b){return!!b&&!!b[d.symbols.template]}refs(){if(!this._template)return;const b=[];for(const R of this._template)typeof R!="string"&&b.push(...R.refs);return b}resolve(b,R,T,A){return this._template&&this._template.length===1?this._part(this._template[0],b,R,T,A,{}):this.render(b,R,T,A)}_part(b,...R){return b.ref?b.ref.resolve(...R):b.formula.evaluate(R)}render(b,R,T,A,D={}){if(!this.isDynamic())return this.rendered;const V=[];for(const j of this._template)if(typeof j=="string")V.push(j);else{const L=this._part(j,b,R,T,A,D),I=v.stringify(L,b,R,T,A,D);if(I!==void 0){const S=j.raw||(D.errors&&D.errors.escapeHtml)===!1?I:y(I);V.push(v.wrap(S,j.wrapped&&T.errors.wrap.label))}}return V.join("")}_ref(b,{raw:R,wrapped:T}){const A=[],D=j=>{const L=_.create(j,this._settings);return A.push(L),I=>{const S=L.resolve(...I);return S!==void 0?S:null}};try{const j=this._functions?{...v.functions,...this._functions}:v.functions;var V=new E.Parser(b,{reference:D,functions:j,constants:v.constants})}catch(j){throw j.message=`Invalid template variable "${b}" fails due to: ${j.message}`,j}if(V.single){if(V.single.type==="reference"){const j=A[0];return{ref:j,raw:R,refs:A,wrapped:T||j.type==="local"&&j.key==="label"}}return v.stringify(V.single.value)}return{formula:V,raw:R,refs:A}}toString(){return this.source}},v.Template.prototype[d.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(b){return b.replace(/\\(\{+)/g,(R,T)=>v.opens.slice(0,T.length)).replace(/\\(\}+)/g,(R,T)=>v.closes.slice(0,T.length))},v.decode=function(b){return b.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(b){const R=[];let T="";for(let A=0;A<b.length;++A){const D=b[A];if(D==="{"){let V="";for(;A+1<b.length&&b[A+1]==="{";)V+="{",++A;R.push(T),T=V}else T+=D}return R.push(T),R},v.wrap=function(b,R){return R?R.length===1?`${R}${b}${R}`:`${R[0]}${b}${R[1]}`:b},v.stringify=function(b,R,T,A,D,V={}){const j=typeof b,L=A&&A.errors&&A.errors.wrap||{};let I=!1;if(_.isRef(b)&&b.render&&(I=b.in,b=b.resolve(R,T,A,D,{in:b.in,...V})),b===null)return"null";if(j==="string")return v.wrap(b,V.arrayItems&&L.string);if(j==="number"||j==="function"||j==="symbol")return b.toString();if(j!=="object")return JSON.stringify(b);if(b instanceof Date)return v.Template.date(b,A);if(b instanceof Map){const x=[];for(const[O,k]of b.entries())x.push(`${O.toString()} -> ${k.toString()}`);b=x}if(!Array.isArray(b))return b.toString();const S=[];for(const x of b)S.push(v.stringify(x,R,T,A,D,{arrayItems:!0,...V}));return v.wrap(S.join(", "),!I&&L.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(b,R,T)=>b?R:T,length:b=>typeof b=="string"?b.length:b&&typeof b=="object"?Array.isArray(b)?b.length:Object.keys(b).length:null,msg(b){const[R,T,A,D,V]=this,j=V.messages;if(!j)return"";const L=p.template(R,j[0],b,T,A)||p.template(R,j[1],b,T,A);return L?L.render(R,T,A,D,V):""},number:b=>typeof b=="number"?b:typeof b=="string"?parseFloat(b):typeof b=="boolean"?b?1:0:b instanceof Date?b.getTime():null}},4946:(o,u,h)=>{const c=h(375),g=h(1687),y=h(8068),E=h(8160),d=h(3292),p=h(6354),_=h(6133),v={};o.exports=y.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:_.toSibling}},args:(b,...R)=>R.length===1&&Array.isArray(R[0])?b.try(...R[0]):b.try(...R),validate(b,R){const{schema:T,error:A,state:D,prefs:V}=R;if(T._flags.match){const L=[],I=[];for(let x=0;x<T.$_terms.matches.length;++x){const O=T.$_terms.matches[x],k=D.nest(O.schema,`match.${x}`);k.snapshot();const $=O.schema.$_validate(b,k,V);$.errors?(I.push($.errors),k.restore()):(L.push($.value),k.commit())}if(L.length===0)return{errors:A("alternatives.any",{details:I.map(x=>p.details(x,{override:!1}))})};if(T._flags.match==="one")return L.length===1?{value:L[0]}:{errors:A("alternatives.one")};if(L.length!==T.$_terms.matches.length)return{errors:A("alternatives.all",{details:I.map(x=>p.details(x,{override:!1}))})};const S=x=>x.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&S(O.schema));return S(T)?{value:L.reduce((x,O)=>g(x,O,{mergeArrays:!1}))}:{value:L[L.length-1]}}const j=[];for(let L=0;L<T.$_terms.matches.length;++L){const I=T.$_terms.matches[L];if(I.schema){const O=D.nest(I.schema,`match.${L}`);O.snapshot();const k=I.schema.$_validate(b,O,V);if(!k.errors)return O.commit(),k;O.restore(),j.push({schema:I.schema,reports:k.errors});continue}const S=I.ref?I.ref.resolve(b,D,V):b,x=I.is?[I]:I.switch;for(let O=0;O<x.length;++O){const k=x[O],{is:$,then:U,otherwise:he}=k,pe=`match.${L}${I.switch?"."+O:""}`;if($.$_match(S,D.nest($,`${pe}.is`),V)){if(U)return U.$_validate(b,D.nest(U,`${pe}.then`),V)}else if(he)return he.$_validate(b,D.nest(he,`${pe}.otherwise`),V)}}return v.errors(j,R)},rules:{conditional:{method(b,R){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(R.break===void 0,"Cannot use break option with alternatives conditional");const T=this.clone(),A=d.when(T,b,R),D=A.is?[A]:A.switch;for(const V of D)if(V.then&&V.otherwise){T.$_setFlag("_endedSwitch",!0,{clone:!1});break}return T.$_terms.matches.push(A),T.$_mutateRebuild()}},match:{method(b){if(c(["any","one","all"].includes(b),"Invalid alternatives match mode",b),b!=="any")for(const R of this.$_terms.matches)c(R.schema,"Cannot combine match mode",b,"with conditional rules");return this.$_setFlag("match",b)}},try:{method(...b){c(b.length,"Missing alternative schemas"),E.verifyFlat(b,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const T of b)R.$_terms.matches.push({schema:R.$_compile(T)});return R.$_mutateRebuild()}}},overrides:{label(b){return this.$_parent("label",b).$_modify({each:(R,T)=>T.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(b):void 0,ref:!1})}},rebuild(b){b.$_modify({each:R=>{E.isSchema(R)&&R.type==="array"&&b.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(b,R){if(R.matches)for(const T of R.matches){const{schema:A,ref:D,is:V,not:j,then:L,otherwise:I}=T;b=A?b.try(A):D?b.conditional(D,{is:V,then:L,not:j,otherwise:I,switch:T.switch}):b.conditional(V,{then:L,otherwise:I})}return b}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(b,{error:R,state:T}){if(!b.length)return{errors:R("alternatives.any")};if(b.length===1)return{errors:b[0].reports};const A=new Set,D=[];for(const{reports:V,schema:j}of b){if(V.length>1)return v.unmatched(b,R);const L=V[0];if(L instanceof p.Report==0)return v.unmatched(b,R);if(L.state.path.length!==T.path.length){D.push({type:j.type,report:L});continue}if(L.code==="any.only"){for(const x of L.local.valids)A.add(x);continue}const[I,S]=L.code.split(".");S!=="base"?D.push({type:j.type,report:L}):L.code==="object.base"?A.add(L.local.type):A.add(I)}return D.length?D.length===1?{errors:D[0].report}:v.unmatched(b,R):{errors:R("alternatives.types",{types:[...A]})}},v.unmatched=function(b,R){const T=[];for(const A of b)T.push(...A.reports);return{errors:R("alternatives.match",p.details(T,{override:!1}))}}},8068:(o,u,h)=>{const c=h(375),g=h(7629),y=h(8160),E=h(6914);o.exports=g.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,p){return c(typeof d=="function","Method must be a function"),c(p===void 0||p&&typeof p=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:p}})},validate(d,p,{method:_}){try{return _(d,p)}catch(v){return p.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){c(y.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const p=this.clone();return p.$_terms.shared=p.$_terms.shared||[],p.$_terms.shared.push(d),p.$_mutateRegister(d),p}},warning:{method(d,p){return c(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:p},warn:!0})},validate:(d,p,{code:_,local:v})=>p.error(_,v),args:["code","local"],multi:!0}},modifiers:{keep(d,p=!0){d.keep=p},message(d,p){d.message=E.compile(p)},warn(d,p=!0){d.warn=p}},manifest:{build(d,p){for(const _ in p){const v=p[_];if(["examples","externals","metas","notes","tags"].includes(_))for(const b of v)d=d[_.slice(0,-1)](b);else if(_!=="alterations")if(_!=="whens"){if(_==="shared")for(const b of v)d=d.shared(b)}else for(const b of v){const{ref:R,is:T,not:A,then:D,otherwise:V,concat:j}=b;d=j?d.concat(j):R?d.when(R,{is:T,not:A,then:D,otherwise:V,switch:b.switch,break:b.break}):d.when(T,{then:D,otherwise:V,break:b.break})}else{const b={};for(const{target:R,adjuster:T}of v)b[R]=T;d=d.alter(b)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,h)=>{const c=h(375),g=h(9474),y=h(9621),E=h(8068),d=h(8160),p=h(3292),_={};o.exports=E.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:b,state:R,prefs:T}){if(!Array.isArray(v))return;const A=b.$_getRule("sort");return A?_.sort(b,v,A.args.options,R,T):void 0}},validate(v,{schema:b,error:R}){if(!Array.isArray(v)){if(b._flags.single){const T=[v];return T[d.symbols.arraySingle]=!0,{value:T}}return{errors:R("array.base")}}if(b.$_getRule("items")||b.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const b=this.$_addRule({name:"has",args:{schema:v}});return b.$_mutateRegister(v),b},validate(v,{state:b,prefs:R,error:T},{schema:A}){const D=[v,...b.ancestors];for(let j=0;j<v.length;++j){const L=b.localize([...b.path,j],D,A);if(A.$_match(v[j],L,R))return v}const V=A._flags.label;return V?T("array.hasKnown",{patternLabel:V}):T("array.hasUnknown",null)},multi:!0},items:{method(...v){d.verifyFlat(v,"items");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const T=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});b.$_terms.items.push(T)}return b.$_mutateRebuild()},validate(v,{schema:b,error:R,state:T,prefs:A,errorsArray:D}){const V=b.$_terms._requireds.slice(),j=b.$_terms.ordered.slice(),L=[...b.$_terms._inclusions,...V],I=!v[d.symbols.arraySingle];delete v[d.symbols.arraySingle];const S=D();let x=v.length;for(let O=0;O<x;++O){const k=v[O];let $=!1,U=!1;const he=I?O:new Number(O),pe=[...T.path,he];if(!b._flags.sparse&&k===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),A.abortEarly)return S;j.shift();continue}const G=[v,...T.ancestors];for(const B of b.$_terms._exclusions)if(B.$_match(k,T.localize(pe,G,B),A,{presence:"ignore"})){if(S.push(R("array.excludes",{pos:O,value:k},T.localize(pe))),A.abortEarly)return S;$=!0,j.shift();break}if($)continue;if(b.$_terms.ordered.length){if(j.length){const B=j.shift(),te=B.$_validate(k,T.localize(pe,G,B),A);if(te.errors){if(S.push(...te.errors),A.abortEarly)return S}else if(B._flags.result==="strip")_.fastSplice(v,O),--O,--x;else{if(!b._flags.sparse&&te.value===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),A.abortEarly)return S;continue}v[O]=te.value}continue}if(!b.$_terms.items.length){if(S.push(R("array.orderedLength",{pos:O,limit:b.$_terms.ordered.length})),A.abortEarly)return S;break}}const se=[];let ye=V.length;for(let B=0;B<ye;++B){const te=T.localize(pe,G,V[B]);te.snapshot();const me=V[B].$_validate(k,te,A);if(se[B]=me,!me.errors){if(te.commit(),v[O]=me.value,U=!0,_.fastSplice(V,B),--B,--ye,!b._flags.sparse&&me.value===void 0&&(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),A.abortEarly))return S;break}te.restore()}if(U)continue;const Re=A.stripUnknown&&!!A.stripUnknown.arrays||!1;ye=L.length;for(const B of L){let te;const me=V.indexOf(B);if(me!==-1)te=se[me];else{const ce=T.localize(pe,G,B);if(ce.snapshot(),te=B.$_validate(k,ce,A),!te.errors){ce.commit(),B._flags.result==="strip"?(_.fastSplice(v,O),--O,--x):b._flags.sparse||te.value!==void 0?v[O]=te.value:(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),$=!0),U=!0;break}ce.restore()}if(ye===1){if(Re){_.fastSplice(v,O),--O,--x,U=!0;break}if(S.push(...te.errors),A.abortEarly)return S;$=!0;break}}if(!$&&(b.$_terms._inclusions.length||b.$_terms._requireds.length)&&!U){if(Re){_.fastSplice(v,O),--O,--x;continue}if(S.push(R("array.includes",{pos:O,value:k},T.localize(pe))),A.abortEarly)return S}}return V.length&&_.fillMissedErrors(b,S,V,v,T,A),j.length&&(_.fillOrderedErrors(b,S,j,v,T,A),S.length||_.fillDefault(j,v,T,A)),S.length?S:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,b,{limit:R},{name:T,operator:A,args:D})=>d.compare(v.length,R,A)?v:b.error("array."+T,{limit:D.limit,value:v}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){d.verifyFlat(v,"ordered");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const T=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});_.validateSingle(T,b),b.$_mutateRegister(T),b.$_terms.ordered.push(T)}return b.$_mutateRebuild()}},single:{method(v){const b=v===void 0||!!v;return c(!b||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",b)}},sort:{method(v={}){d.assertOptions(v,["by","order"]);const b={order:v.order||"ascending"};return v.by&&(b.by=p.ref(v.by,{ancestor:0}),c(!b.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:b}})},validate(v,{error:b,state:R,prefs:T,schema:A},{options:D}){const{value:V,errors:j}=_.sort(A,v,D,R,T);if(j)return j;for(let L=0;L<v.length;++L)if(v[L]!==V[L])return b("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return v},convert:!0},sparse:{method(v){const b=v===void 0||!!v;return this._flags.sparse===b?this:(b?this.clone():this.$_addRule("items")).$_setFlag("sparse",b,{clone:!1})}},unique:{method(v,b={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),d.assertOptions(b,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:b,comparator:v}};if(v)if(typeof v=="string"){const T=d.default(b.separator,".");R.path=T?v.split(T):[v]}else R.comparator=v;return this.$_addRule(R)},validate(v,{state:b,error:R,schema:T},{comparator:A,options:D},{comparator:V,path:j}){const L={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},I=V||g,S=D.ignoreUndefined;for(let x=0;x<v.length;++x){const O=j?y(v[x],j):v[x],k=V?L.custom:L[typeof O];if(c(k,"Failed to find unique map container for type",typeof O),k instanceof Map){const $=k.entries();let U;for(;!(U=$.next()).done;)if(I(U.value[0],O)){const he=b.localize([...b.path,x],[v,...b.ancestors]),pe={pos:x,value:v[x],dupePos:U.value[1],dupeValue:v[U.value[1]]};return j&&(pe.path=A),R("array.unique",pe,he)}k.set(O,x)}else{if((!S||O!==void 0)&&k[O]!==void 0){const $={pos:x,value:v[x],dupePos:k[O],dupeValue:v[k[O]]};return j&&($.path=A),R("array.unique",$,b.localize([...b.path,x],[v,...b.ancestors]))}k[O]=x}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,b)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const b of v.$_terms.items)_.validateSingle(b,v),b._flags.presence==="required"?v.$_terms._requireds.push(b):b._flags.presence==="forbidden"?v.$_terms._exclusions.push(b):v.$_terms._inclusions.push(b);for(const b of v.$_terms.ordered)_.validateSingle(b,v)},manifest:{build:(v,b)=>(b.items&&(v=v.items(...b.items)),b.ordered&&(v=v.ordered(...b.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),_.fillMissedErrors=function(v,b,R,T,A,D){const V=[];let j=0;for(const L of R){const I=L._flags.label;I?V.push(I):++j}V.length?j?b.push(v.$_createError("array.includesRequiredBoth",T,{knownMisses:V,unknownMisses:j},A,D)):b.push(v.$_createError("array.includesRequiredKnowns",T,{knownMisses:V},A,D)):b.push(v.$_createError("array.includesRequiredUnknowns",T,{unknownMisses:j},A,D))},_.fillOrderedErrors=function(v,b,R,T,A,D){const V=[];for(const j of R)j._flags.presence==="required"&&V.push(j);V.length&&_.fillMissedErrors(v,b,V,T,A,D)},_.fillDefault=function(v,b,R,T){const A=[];let D=!0;for(let V=v.length-1;V>=0;--V){const j=v[V],L=[b,...R.ancestors],I=j.$_validate(void 0,R.localize(R.path,L,j),T).value;if(D){if(I===void 0)continue;D=!1}A.unshift(I)}A.length&&b.push(...A)},_.fastSplice=function(v,b){let R=b;for(;R<v.length;)v[R++]=v[R];--v.length},_.validateSingle=function(v,b){(v.type==="array"||v._flags._arrayItems)&&(c(!b._flags.single,"Cannot specify array item with single rule enabled"),b.$_setFlag("_arrayItems",!0,{clone:!1}))},_.sort=function(v,b,R,T,A){const D=R.order==="ascending"?1:-1,V=-1*D,j=D,L=(I,S)=>{let x=_.compare(I,S,V,j);if(x!==null||(R.by&&(I=R.by.resolve(I,T,A),S=R.by.resolve(S,T,A)),x=_.compare(I,S,V,j),x!==null))return x;const O=typeof I;if(O!==typeof S)throw v.$_createError("array.sort.mismatching",b,null,T,A);if(O!=="number"&&O!=="string")throw v.$_createError("array.sort.unsupported",b,{type:O},T,A);return O==="number"?(I-S)*D:I<S?V:j};try{return{value:b.slice().sort(L)}}catch(I){return{errors:I}}},_.compare=function(v,b,R,T){return v===b?0:v===void 0?1:b===void 0?-1:v===null?T:b===null?R:null}},4937:(o,u,h)=>{const c=h(375),g=h(8068),y=h(8160),E=h(2036),d={isBool:function(p){return typeof p=="boolean"}};o.exports=g.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(p,{schema:_}){if(typeof p!="boolean"){if(typeof p=="string"){const v=_._flags.sensitive?p:p.toLowerCase();p=v==="true"||v!=="false"&&p}return typeof p!="boolean"&&(p=_.$_terms.truthy&&_.$_terms.truthy.has(p,null,null,!_._flags.sensitive)||(!_.$_terms.falsy||!_.$_terms.falsy.has(p,null,null,!_._flags.sensitive))&&p),{value:p}}},validate(p,{error:_}){if(typeof p!="boolean")return{value:p,errors:_("boolean.base")}},rules:{truthy:{method(...p){y.verifyFlat(p,"truthy");const _=this.clone();_.$_terms.truthy=_.$_terms.truthy||new E;for(let v=0;v<p.length;++v){const b=p[v];c(b!==void 0,"Cannot call truthy with undefined"),_.$_terms.truthy.add(b)}return _}},falsy:{method(...p){y.verifyFlat(p,"falsy");const _=this.clone();_.$_terms.falsy=_.$_terms.falsy||new E;for(let v=0;v<p.length;++v){const b=p[v];c(b!==void 0,"Cannot call falsy with undefined"),_.$_terms.falsy.add(b)}return _}},sensitive:{method(p=!0){return this.$_setFlag("sensitive",p)}}},cast:{number:{from:d.isBool,to:(p,_)=>p?1:0},string:{from:d.isBool,to:(p,_)=>p?"true":"false"}},manifest:{build:(p,_)=>(_.truthy&&(p=p.truthy(..._.truthy)),_.falsy&&(p=p.falsy(..._.falsy)),p)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,h)=>{const c=h(375),g=h(8068),y=h(8160),E=h(3328),d={isDate:function(p){return p instanceof Date}};o.exports=g.extend({type:"date",coerce:{from:["number","string"],method:(p,{schema:_})=>({value:d.parse(p,_._flags.format)||p})},validate(p,{schema:_,error:v,prefs:b}){if(p instanceof Date&&!isNaN(p.getTime()))return;const R=_._flags.format;return b.convert&&R&&typeof p=="string"?{value:p,errors:v("date.format",{format:R})}:{value:p,errors:v("date.base")}},rules:{compare:{method:!1,validate(p,_,{date:v},{name:b,operator:R,args:T}){const A=v==="now"?Date.now():v.getTime();return y.compare(p.getTime(),A,R)?p:_.error("date."+b,{limit:T.date,value:p})},args:[{name:"date",ref:!0,normalize:p=>p==="now"?p:d.parse(p),assert:p=>p!==null,message:"must have a valid date format"}]},format:{method(p){return c(["iso","javascript","unix"].includes(p),"Unknown date format",p),this.$_setFlag("format",p)}},greater:{method(p){return this.$_addRule({name:"greater",method:"compare",args:{date:p},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(p){return this.$_addRule({name:"less",method:"compare",args:{date:p},operator:"<"})}},max:{method(p){return this.$_addRule({name:"max",method:"compare",args:{date:p},operator:"<="})}},min:{method(p){return this.$_addRule({name:"min",method:"compare",args:{date:p},operator:">="})}},timestamp:{method(p="javascript"){return c(["javascript","unix"].includes(p),'"type" must be one of "javascript, unix"'),this.format(p)}}},cast:{number:{from:d.isDate,to:(p,_)=>p.getTime()},string:{from:d.isDate,to:(p,{prefs:_})=>E.date(p,_)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(p,_){if(p instanceof Date)return p;if(typeof p!="string"&&(isNaN(p)||!isFinite(p))||/^\s*$/.test(p))return null;if(_==="iso")return y.isIsoDate(p)?d.date(p.toString()):null;const v=p;if(typeof p=="string"&&/^[+-]?\d+(\.\d+)?$/.test(p)&&(p=parseFloat(p)),_){if(_==="javascript")return d.date(1*p);if(_==="unix")return d.date(1e3*p);if(typeof v=="string")return null}return d.date(p)},d.date=function(p){const _=new Date(p);return isNaN(_.getTime())?null:_}},390:(o,u,h)=>{const c=h(375),g=h(7824);o.exports=g.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:y}})},validate:(y,E,{n:d})=>y.length===d?y:E.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(y,E)=>/^\s*class\s/.test(y.toString())?y:E.error("function.class",{value:y})},minArity:{method(y){return c(Number.isSafeInteger(y)&&y>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:y}})},validate:(y,E,{n:d})=>y.length>=d?y:E.error("function.minArity",{n:d})},maxArity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:y}})},validate:(y,E,{n:d})=>y.length<=d?y:E.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,h)=>{const c=h(978),g=h(375),y=h(8571),E=h(3652),d=h(8068),p=h(8160),_=h(3292),v=h(6354),b=h(6133),R=h(3328),T={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(A,D)=>A.keys(D),validate(A,{schema:D,error:V,state:j,prefs:L}){if(!A||typeof A!==D.$_property("typeof")||Array.isArray(A))return{value:A,errors:V("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;A=T.clone(A,L);const I=[];if(D.$_terms.renames&&!T.rename(D,A,j,L,I))return{value:A,errors:I};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:A,errors:I};const S=new Set(Object.keys(A));if(D.$_terms.keys){const x=[A,...j.ancestors];for(const O of D.$_terms.keys){const k=O.key,$=A[k];S.delete(k);const U=j.localize([...j.path,k],x,O),he=O.schema.$_validate($,U,L);if(he.errors){if(L.abortEarly)return{value:A,errors:he.errors};he.value!==void 0&&(A[k]=he.value),I.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&$!==void 0?delete A[k]:he.value!==void 0&&(A[k]=he.value)}}if(S.size||D._flags._hasPatternMatch){const x=T.unknown(D,A,S,I,j,L);if(x)return x}if(D.$_terms.dependencies)for(const x of D.$_terms.dependencies){if(x.key!==null&&T.isPresent(x.options)(x.key.resolve(A,j,L,null,{shadow:!1}))===!1)continue;const O=T.dependencies[x.rel](D,x,A,j,L);if(O){const k=D.$_createError(O.code,A,O.context,j,L);if(L.abortEarly)return{value:A,errors:k};I.push(k)}}return{value:A,errors:I}},rules:{and:{method(...A){return p.verifyFlat(A,"and"),T.dependency(this,"and",null,A)}},append:{method(A){return A==null||Object.keys(A).length===0?this:this.keys(A)}},assert:{method(A,D,V){R.isTemplate(A)||(A=_.ref(A)),g(V===void 0||typeof V=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const j=this.$_addRule({name:"assert",args:{subject:A,schema:D,message:V}});return j.$_mutateRegister(A),j.$_mutateRegister(D),j},validate(A,{error:D,prefs:V,state:j},{subject:L,schema:I,message:S}){const x=L.resolve(A,j,V),O=b.isRef(L)?L.absolute(j):[];return I.$_match(x,j.localize(O,[A,...j.ancestors],I),V)?A:D("object.assert",{subject:L,message:S})},args:["subject","schema","message"],multi:!0},instance:{method(A,D){return g(typeof A=="function","constructor must be a function"),D=D||A.name,this.$_addRule({name:"instance",args:{constructor:A,name:D}})},validate:(A,D,{constructor:V,name:j})=>A instanceof V?A:D.error("object.instance",{type:j,value:A}),args:["constructor","name"]},keys:{method(A){g(A===void 0||typeof A=="object","Object schema must be a valid object"),g(!p.isSchema(A),"Object schema cannot be a joi schema");const D=this.clone();if(A)if(Object.keys(A).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(V=>!A.hasOwnProperty(V.key)):new T.Keys;for(const V in A)p.tryWithPath(()=>D.$_terms.keys.push({key:V,schema:this.$_compile(A[V])}),V)}else D.$_terms.keys=new T.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(A){return this.$_addRule({name:"length",args:{limit:A},operator:"="})},validate:(A,D,{limit:V},{name:j,operator:L,args:I})=>p.compare(Object.keys(A).length,V,L)?A:D.error("object."+j,{limit:I.limit,value:A}),args:[{name:"limit",ref:!0,assert:p.limit,message:"must be a positive integer"}]},max:{method(A){return this.$_addRule({name:"max",method:"length",args:{limit:A},operator:"<="})}},min:{method(A){return this.$_addRule({name:"min",method:"length",args:{limit:A},operator:">="})}},nand:{method(...A){return p.verifyFlat(A,"nand"),T.dependency(this,"nand",null,A)}},or:{method(...A){return p.verifyFlat(A,"or"),T.dependency(this,"or",null,A)}},oxor:{method(...A){return T.dependency(this,"oxor",null,A)}},pattern:{method(A,D,V={}){const j=A instanceof RegExp;j||(A=this.$_compile(A,{appendPath:!0})),g(D!==void 0,"Invalid rule"),p.assertOptions(V,["fallthrough","matches"]),j&&g(!A.flags.includes("g")&&!A.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const L=this.clone();L.$_terms.patterns=L.$_terms.patterns||[];const I={[j?"regex":"schema"]:A,rule:D};return V.matches&&(I.matches=this.$_compile(V.matches),I.matches.type!=="array"&&(I.matches=I.matches.$_root.array().items(I.matches)),L.$_mutateRegister(I.matches),L.$_setFlag("_hasPatternMatch",!0,{clone:!1})),V.fallthrough&&(I.fallthrough=!0),L.$_terms.patterns.push(I),L.$_mutateRegister(D),L}},ref:{method(){return this.$_addRule("ref")},validate:(A,D)=>b.isRef(A)?A:D.error("object.refType",{value:A})},regex:{method(){return this.$_addRule("regex")},validate:(A,D)=>A instanceof RegExp?A:D.error("object.regex",{value:A})},rename:{method(A,D,V={}){g(typeof A=="string"||A instanceof RegExp,"Rename missing the from argument"),g(typeof D=="string"||D instanceof R,"Invalid rename to argument"),g(D!==A,"Cannot rename key to same name:",A),p.assertOptions(V,["alias","ignoreUndefined","override","multiple"]);const j=this.clone();j.$_terms.renames=j.$_terms.renames||[];for(const L of j.$_terms.renames)g(L.from!==A,"Cannot rename the same key multiple times");return D instanceof R&&j.$_mutateRegister(D),j.$_terms.renames.push({from:A,to:D,options:c(T.renameDefaults,V)}),j}},schema:{method(A="any"){return this.$_addRule({name:"schema",args:{type:A}})},validate:(A,D,{type:V})=>!p.isSchema(A)||V!=="any"&&A.type!==V?D.error("object.schema",{type:V}):A},unknown:{method(A){return this.$_setFlag("unknown",A!==!1)}},with:{method(A,D,V={}){return T.dependency(this,"with",A,D,V)}},without:{method(A,D,V={}){return T.dependency(this,"without",A,D,V)}},xor:{method(...A){return p.verifyFlat(A,"xor"),T.dependency(this,"xor",null,A)}}},overrides:{default(A,D){return A===void 0&&(A=p.symbols.deepDefault),this.$_parent("default",A,D)}},rebuild(A){if(A.$_terms.keys){const D=new E.Sorter;for(const V of A.$_terms.keys)p.tryWithPath(()=>D.add(V,{after:V.schema.$_rootReferences(),group:V.key}),V.key);A.$_terms.keys=new T.Keys(...D.nodes)}},manifest:{build(A,D){if(D.keys&&(A=A.keys(D.keys)),D.dependencies)for(const{rel:V,key:j=null,peers:L,options:I}of D.dependencies)A=T.dependency(A,V,j,L,I);if(D.patterns)for(const{regex:V,schema:j,rule:L,fallthrough:I,matches:S}of D.patterns)A=A.pattern(V||j,L,{fallthrough:I,matches:S});if(D.renames)for(const{from:V,to:j,options:L}of D.renames)A=A.rename(V,j,L);return A}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),T.clone=function(A,D){if(typeof A=="object"){if(D.nonEnumerables)return y(A,{shallow:!0});const j=Object.create(Object.getPrototypeOf(A));return Object.assign(j,A),j}const V=function(...j){return A.apply(this,j)};return V.prototype=y(A.prototype),Object.defineProperty(V,"name",{value:A.name,writable:!1}),Object.defineProperty(V,"length",{value:A.length,writable:!1}),Object.assign(V,A),V},T.dependency=function(A,D,V,j,L){g(V===null||typeof V=="string",D,"key must be a strings"),L||(L=j.length>1&&typeof j[j.length-1]=="object"?j.pop():{}),p.assertOptions(L,["separator","isPresent"]),j=[].concat(j);const I=p.default(L.separator,"."),S=[];for(const O of j)g(typeof O=="string",D,"peers must be strings"),S.push(_.ref(O,{separator:I,ancestor:0,prefix:!1}));V!==null&&(V=_.ref(V,{separator:I,ancestor:0,prefix:!1}));const x=A.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new T.Dependency(D,V,S,j,L)),x},T.dependencies={and(A,D,V,j,L){const I=[],S=[],x=D.peers.length,O=T.isPresent(D.options);for(const k of D.peers)O(k.resolve(V,j,L,null,{shadow:!1}))===!1?I.push(k.key):S.push(k.key);if(I.length!==x&&S.length!==x)return{code:"object.and",context:{present:S,presentWithLabels:T.keysToLabels(A,S),missing:I,missingWithLabels:T.keysToLabels(A,I)}}},nand(A,D,V,j,L){const I=[],S=T.isPresent(D.options);for(const k of D.peers)S(k.resolve(V,j,L,null,{shadow:!1}))&&I.push(k.key);if(I.length!==D.peers.length)return;const x=D.paths[0],O=D.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:T.keysToLabels(A,x),peers:O,peersWithLabels:T.keysToLabels(A,O)}}},or(A,D,V,j,L){const I=T.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,j,L,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:T.keysToLabels(A,D.paths)}}},oxor(A,D,V,j,L){const I=[],S=T.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,j,L,null,{shadow:!1}))&&I.push(O.key);if(!I.length||I.length===1)return;const x={peers:D.paths,peersWithLabels:T.keysToLabels(A,D.paths)};return x.present=I,x.presentWithLabels=T.keysToLabels(A,I),{code:"object.oxor",context:x}},with(A,D,V,j,L){const I=T.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,j,L,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:T.keysToLabels(A,D.key.key),peer:S.key,peerWithLabel:T.keysToLabels(A,S.key)}}},without(A,D,V,j,L){const I=T.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,j,L,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:T.keysToLabels(A,D.key.key),peer:S.key,peerWithLabel:T.keysToLabels(A,S.key)}}},xor(A,D,V,j,L){const I=[],S=T.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,j,L,null,{shadow:!1}))&&I.push(O.key);if(I.length===1)return;const x={peers:D.paths,peersWithLabels:T.keysToLabels(A,D.paths)};return I.length===0?{code:"object.missing",context:x}:(x.present=I,x.presentWithLabels=T.keysToLabels(A,I),{code:"object.xor",context:x})}},T.keysToLabels=function(A,D){return Array.isArray(D)?D.map(V=>A.$_mapLabels(V)):A.$_mapLabels(D)},T.isPresent=function(A){return typeof A.isPresent=="function"?A.isPresent:D=>D!==void 0},T.rename=function(A,D,V,j,L){const I={};for(const S of A.$_terms.renames){const x=[],O=typeof S.from!="string";if(O)for(const k in D){if(D[k]===void 0&&S.options.ignoreUndefined||k===S.to)continue;const $=S.from.exec(k);$&&x.push({from:k,to:S.to,match:$})}else!Object.prototype.hasOwnProperty.call(D,S.from)||D[S.from]===void 0&&S.options.ignoreUndefined||x.push(S);for(const k of x){const $=k.from;let U=k.to;if(U instanceof R&&(U=U.render(D,V,j,k.match)),$!==U){if(!S.options.multiple&&I[U]&&(L.push(A.$_createError("object.rename.multiple",D,{from:$,to:U,pattern:O},V,j)),j.abortEarly)||Object.prototype.hasOwnProperty.call(D,U)&&!S.options.override&&!I[U]&&(L.push(A.$_createError("object.rename.override",D,{from:$,to:U,pattern:O},V,j)),j.abortEarly))return!1;D[$]===void 0?delete D[U]:D[U]=D[$],I[U]=!0,S.options.alias||delete D[$]}}}return!0},T.unknown=function(A,D,V,j,L,I){if(A.$_terms.patterns){let S=!1;const x=A.$_terms.patterns.map(k=>{if(k.matches)return S=!0,[]}),O=[D,...L.ancestors];for(const k of V){const $=D[k],U=[...L.path,k];for(let he=0;he<A.$_terms.patterns.length;++he){const pe=A.$_terms.patterns[he];if(pe.regex){const ye=pe.regex.test(k);if(L.mainstay.tracer.debug(L,"rule",`pattern.${he}`,ye?"pass":"error"),!ye)continue}else if(!pe.schema.$_match(k,L.nest(pe.schema,`pattern.${he}`),I))continue;V.delete(k);const G=L.localize(U,O,{schema:pe.rule,key:k}),se=pe.rule.$_validate($,G,I);if(se.errors){if(I.abortEarly)return{value:D,errors:se.errors};j.push(...se.errors)}if(pe.matches&&x[he].push(k),D[k]=se.value,!pe.fallthrough)break}}if(S)for(let k=0;k<x.length;++k){const $=x[k];if(!$)continue;const U=A.$_terms.patterns[k].matches,he=L.localize(L.path,O,U),pe=U.$_validate($,he,I);if(pe.errors){const G=v.details(pe.errors,{override:!1});G.matches=$;const se=A.$_createError("object.pattern.match",D,G,L,I);if(I.abortEarly)return{value:D,errors:se};j.push(se)}}}if(V.size&&(A.$_terms.keys||A.$_terms.patterns)){if(I.stripUnknown&&A._flags.unknown===void 0||I.skipFunctions){const S=!(!I.stripUnknown||I.stripUnknown!==!0&&!I.stripUnknown.objects);for(const x of V)S?(delete D[x],V.delete(x)):typeof D[x]=="function"&&V.delete(x)}if(!p.default(A._flags.unknown,I.allowUnknown))for(const S of V){const x=L.localize([...L.path,S],[]),O=A.$_createError("object.unknown",D[S],{child:S},x,I,{flags:!1});if(I.abortEarly)return{value:D,errors:O};j.push(O)}}},T.Dependency=class{constructor(A,D,V,j,L){this.rel=A,this.key=D,this.peers=V,this.paths=j,this.options=L}describe(){const A={rel:this.rel,peers:this.paths};return this.key!==null&&(A.key=this.key.key),this.peers[0].separator!=="."&&(A.options={...A.options,separator:this.peers[0].separator}),this.options.isPresent&&(A.options={...A.options,isPresent:this.options.isPresent}),A}},T.Keys=class extends Array{concat(A){const D=this.slice(),V=new Map;for(let j=0;j<D.length;++j)V.set(D[j].key,j);for(const j of A){const L=j.key,I=V.get(L);I!==void 0?D[I]={key:L,schema:D[I].schema.concat(j.schema)}:D.push(j)}return D}}},8785:(o,u,h)=>{const c=h(375),g=h(8068),y=h(8160),E=h(3292),d=h(6354),p={};o.exports=g.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(_,v)=>_.ref(v),validate(_,{schema:v,state:b,prefs:R}){c(v.$_terms.link,"Uninitialized link schema");const T=p.generate(v,_,b,R),A=v.$_terms.link[0].ref;return T.$_validate(_,b.nest(T,`link:${A.display}:${T.type}`),R)},generate:(_,v,b,R)=>p.generate(_,v,b,R),rules:{ref:{method(_){c(!this.$_terms.link,"Cannot reinitialize schema"),_=E.ref(_),c(_.type==="value"||_.type==="local","Invalid reference type:",_.type),c(_.type==="local"||_.ancestor==="root"||_.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:_}],v}},relative:{method(_=!0){return this.$_setFlag("relative",_)}}},overrides:{concat(_){c(this.$_terms.link,"Uninitialized link schema"),c(y.isSchema(_),"Invalid schema object"),c(_.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:_}),v.$_mutateRebuild()}},manifest:{build:(_,v)=>(c(v.link,"Invalid link description missing link"),_.ref(v.link))}}),p.generate=function(_,v,b,R){let T=b.mainstay.links.get(_);if(T)return T._generate(v,b,R).schema;const A=_.$_terms.link[0].ref,{perspective:D,path:V}=p.perspective(A,b);p.assert(D,"which is outside of schema boundaries",A,_,b,R);try{T=V.length?D.$_reach(V):D}catch{p.assert(!1,"to non-existing schema",A,_,b,R)}return p.assert(T.type!=="link","which is another link",A,_,b,R),_._flags.relative||b.mainstay.links.set(_,T),T._generate(v,b,R).schema},p.perspective=function(_,v){if(_.type==="local"){for(const{schema:b,key:R}of v.schemas){if((b._flags.id||R)===_.path[0])return{perspective:b,path:_.path.slice(1)};if(b.$_terms.shared){for(const T of b.$_terms.shared)if(T._flags.id===_.path[0])return{perspective:T,path:_.path.slice(1)}}}return{perspective:null,path:null}}return _.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:_.path}:{perspective:v.schemas[_.ancestor]&&v.schemas[_.ancestor].schema,path:_.path}},p.assert=function(_,v,b,R,T,A){_||c(!1,`"${d.label(R._flags,T,A)}" contains link reference "${b.display}" ${v}`)}},3832:(o,u,h)=>{const c=h(375),g=h(8068),y=h(8160),E={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const p=d.toString(),_=p.indexOf("."),v=p.indexOf("e");return(_<0?0:(v<0?p.length:v)-_-1)+(v<0?0:Math.max(0,-parseInt(p.slice(v+1))))}};o.exports=g.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:p,error:_}){if(!d.match(E.numberRx))return;d=d.trim();const v={value:parseFloat(d)};if(v.value===0&&(v.value=0),!p._flags.unsafe)if(d.match(/e/i)){if(E.extractSignificantDigits(d)!==E.extractSignificantDigits(String(v.value)))return v.errors=_("number.unsafe"),v}else{const b=v.value.toString();if(b.match(/e/i))return v;if(b!==E.normalizeDecimal(d))return v.errors=_("number.unsafe"),v}return v}},validate(d,{schema:p,error:_,prefs:v}){if(d===1/0||d===-1/0)return{value:d,errors:_("number.infinity")};if(!y.isNumber(d))return{value:d,errors:_("number.base")};const b={value:d};if(v.convert){const R=p.$_getRule("precision");if(R){const T=Math.pow(10,R.args.limit);b.value=Math.round(b.value*T)/T}}return b.value===0&&(b.value=0),!p._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(b.errors=_("number.unsafe")),b},rules:{compare:{method:!1,validate:(d,p,{limit:_},{name:v,operator:b,args:R})=>y.compare(d,_,b)?d:p.error("number."+v,{limit:R.limit,value:d}),args:[{name:"limit",ref:!0,assert:y.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,p)=>Math.trunc(d)-d==0?d:p.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const p=typeof d=="number"?E.decimalPlaces(d):null,_=Math.pow(10,p);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:p,pfactor:_}})},validate:(d,p,{base:_,baseDecimalPlace:v,pfactor:b},R)=>E.decimalPlaces(d)>v?p.error("number.multiple",{multiple:R.args.base,value:d}):Math.round(b*d)%Math.round(b*_)==0?d:p.error("number.multiple",{multiple:R.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,p)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:p.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return c(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,p,{limit:_}){const v=d.toString().match(E.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=_?d:p.error("number.precision",{limit:_,value:d})},convert:!0},sign:{method(d){return c(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,p,{sign:_})=>_==="negative"&&d<0||_==="positive"&&d>0?d:p.error(`number.${_}`)},unsafe:{method(d=!0){return c(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,p)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),E.extractSignificantDigits=function(d){return d.replace(E.exponentialPartRegex,"").replace(E.dotRegex,"").replace(E.trailingZerosRegex,"").replace(E.leadingSignAndZerosRegex,"")},E.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(o,u,h)=>{const c=h(7824);o.exports=c.extend({type:"object",cast:{map:{from:g=>g&&typeof g=="object",to:(g,y)=>new Map(Object.entries(g))}}})},7417:(o,u,h)=>{const c=h(375),g=h(5380),y=h(1745),E=h(9959),d=h(6064),p=h(9926),_=h(5752),v=h(8068),b=h(8160),R={tlds:p instanceof Set&&{tlds:{allow:p,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:E.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(T,{schema:A,state:D,prefs:V}){const j=A.$_getRule("normalize");j&&(T=T.normalize(j.args.form));const L=A.$_getRule("case");L&&(T=L.args.direction==="upper"?T.toLocaleUpperCase():T.toLocaleLowerCase());const I=A.$_getRule("trim");if(I&&I.args.enabled&&(T=T.trim()),A.$_terms.replacements)for(const x of A.$_terms.replacements)T=T.replace(x.pattern,x.replacement);const S=A.$_getRule("hex");if(S&&S.args.options.byteAligned&&T.length%2!=0&&(T=`0${T}`),A.$_getRule("isoDate")){const x=R.isoDate(T);x&&(T=x)}if(A._flags.truncate){const x=A.$_getRule("max");if(x){let O=x.args.limit;if(b.isResolvable(O)&&(O=O.resolve(T,D,V),!b.limit(O)))return{value:T,errors:A.$_createError("any.ref",O,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},D,V)};T=T.slice(0,O)}}return{value:T}}},validate(T,{schema:A,error:D}){if(typeof T!="string")return{value:T,errors:D("string.base")};if(T===""){const V=A.$_getRule("min");return V&&V.args.limit===0?void 0:{value:T,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(T,A)=>/^[a-zA-Z0-9]+$/.test(T)?T:A.error("string.alphanum")},base64:{method(T={}){return b.assertOptions(T,["paddingRequired","urlSafe"]),T={urlSafe:!1,paddingRequired:!0,...T},c(typeof T.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof T.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:T}})},validate:(T,A,{options:D})=>R.base64Regex[D.paddingRequired][D.urlSafe].test(T)?T:A.error("string.base64")},case:{method(T){return c(["lower","upper"].includes(T),"Invalid case:",T),this.$_addRule({name:"case",args:{direction:T}})},validate:(T,A,{direction:D})=>D==="lower"&&T===T.toLocaleLowerCase()||D==="upper"&&T===T.toLocaleUpperCase()?T:A.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(T,A){let D=T.length,V=0,j=1;for(;D--;){const L=T.charAt(D)*j;V+=L-9*(L>9),j^=3}return V>0&&V%10==0?T:A.error("string.creditCard")}},dataUri:{method(T={}){return b.assertOptions(T,["paddingRequired"]),T={paddingRequired:!0,...T},c(typeof T.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:T}})},validate(T,A,{options:D}){const V=T.match(R.dataUriRegex);return V&&(!V[2]||V[2]!=="base64"||R.base64Regex[D.paddingRequired].false.test(V[3]))?T:A.error("string.dataUri")}},domain:{method(T){T&&b.assertOptions(T,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const A=R.addressOptions(T);return this.$_addRule({name:"domain",args:{options:T},address:A})},validate:(T,A,D,{address:V})=>g.isValid(T,V)?T:A.error("string.domain")},email:{method(T={}){b.assertOptions(T,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(T.multiple===void 0||typeof T.multiple=="boolean","multiple option must be an boolean");const A=R.addressOptions(T),D=new RegExp(`\\s*[${T.separator?d(T.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:T},regex:D,address:A})},validate(T,A,{options:D},{regex:V,address:j}){const L=D.multiple?T.split(V):[T],I=[];for(const S of L)y.isValid(S,j)||I.push(S);return I.length?A.error("string.email",{value:T,invalids:I}):T}},guid:{alias:"uuid",method(T={}){b.assertOptions(T,["version","separator"]);let A="";if(T.version){const j=[].concat(T.version);c(j.length>=1,"version must have at least 1 valid version specified");const L=new Set;for(let I=0;I<j.length;++I){const S=j[I];c(typeof S=="string","version at position "+I+" must be a string");const x=R.guidVersions[S.toLowerCase()];c(x,"version at position "+I+" must be one of "+Object.keys(R.guidVersions).join(", ")),c(!L.has(x),"version at position "+I+" must not be a duplicate"),A+=x,L.add(x)}}c(R.guidSeparators.has(T.separator),'separator must be one of true, false, "-", or ":"');const D=T.separator===void 0?"[:-]?":T.separator===!0?"[:-]":T.separator===!1?"[]?":`\\${T.separator}`,V=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${A||"0-9A-F"}][0-9A-F]{3}\\2?[${A?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:T},regex:V})},validate(T,A,D,{regex:V}){const j=V.exec(T);return j?R.guidBrackets[j[1]]!==j[j.length-1]?A.error("string.guid"):T:A.error("string.guid")}},hex:{method(T={}){return b.assertOptions(T,["byteAligned","prefix"]),T={byteAligned:!1,prefix:!1,...T},c(typeof T.byteAligned=="boolean","byteAligned must be boolean"),c(typeof T.prefix=="boolean"||T.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:T}})},validate:(T,A,{options:D})=>(D.prefix==="optional"?R.hexRegex.withOptionalPrefix:D.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(T)?D.byteAligned&&T.length%2!=0?A.error("string.hexAlign"):T:A.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(T,A)=>g.isValid(T,{minDomainSegments:1})||R.ipRegex.test(T)?T:A.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(T={}){b.assertOptions(T,["cidr","version"]);const{cidr:A,versions:D,regex:V}=E.regex(T),j=T.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:A,version:j}},regex:V})},validate:(T,A,{options:D},{regex:V})=>V.test(T)?T:D.version?A.error("string.ipVersion",{value:T,cidr:D.cidr,version:D.version}):A.error("string.ip",{value:T,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(T,{error:A})=>R.isoDate(T)?T:A("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(T,A)=>R.isoDurationRegex.test(T)?T:A.error("string.isoDuration")},length:{method(T,A){return R.length(this,"length",T,"=",A)},validate(T,A,{limit:D,encoding:V},{name:j,operator:L,args:I}){const S=!V&&T.length;return b.compare(S,D,L)?T:A.error("string."+j,{limit:I.limit,value:T,encoding:V})},args:[{name:"limit",ref:!0,assert:b.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(T,A){return R.length(this,"max",T,"<=",A)},args:["limit","encoding"]},min:{method(T,A){return R.length(this,"min",T,">=",A)},args:["limit","encoding"]},normalize:{method(T="NFC"){return c(R.normalizationForms.includes(T),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:T}})},validate:(T,{error:A},{form:D})=>T===T.normalize(D)?T:A("string.normalize",{value:T,form:D}),convert:!0},pattern:{alias:"regex",method(T,A={}){c(T instanceof RegExp,"regex must be a RegExp"),c(!T.flags.includes("g")&&!T.flags.includes("y"),"regex should not use global or sticky mode"),typeof A=="string"&&(A={name:A}),b.assertOptions(A,["invert","name"]);const D=["string.pattern",A.invert?".invert":"",A.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:T,options:A},errorCode:D})},validate:(T,A,{regex:D,options:V},{errorCode:j})=>D.test(T)^V.invert?T:A.error(j,{name:V.name,regex:D,value:T}),args:["regex","options"],multi:!0},replace:{method(T,A){typeof T=="string"&&(T=new RegExp(d(T),"g")),c(T instanceof RegExp,"pattern must be a RegExp"),c(typeof A=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:T,replacement:A}),D}},token:{method(){return this.$_addRule("token")},validate:(T,A)=>/^\w+$/.test(T)?T:A.error("string.token")},trim:{method(T=!0){return c(typeof T=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:T}})},validate:(T,A,{enabled:D})=>D&&T!==T.trim()?A.error("string.trim"):T,convert:!0},truncate:{method(T=!0){return c(typeof T=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",T)}},uppercase:{method(){return this.case("upper")}},uri:{method(T={}){b.assertOptions(T,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),T.domain&&b.assertOptions(T.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:A,scheme:D}=_.regex(T),V=T.domain?R.addressOptions(T.domain):null;return this.$_addRule({name:"uri",args:{options:T},regex:A,domain:V,scheme:D})},validate(T,A,{options:D},{regex:V,domain:j,scheme:L}){if(["http:/","https:/"].includes(T))return A.error("string.uri");let I=V.exec(T);if(!I&&A.prefs.convert&&D.encodeUri){const S=encodeURI(T);I=V.exec(S),I&&(T=S)}if(I){const S=I[1]||I[2];return!j||D.allowRelative&&!S||g.isValid(S,j)?T:A.error("string.domain",{value:S})}return D.relativeOnly?A.error("string.uriRelativeOnly"):D.scheme?A.error("string.uriCustomScheme",{scheme:L,value:T}):A.error("string.uri")}}},manifest:{build(T,A){if(A.replacements)for(const{pattern:D,replacement:V}of A.replacements)T=T.replace(D,V);return T}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(T){if(!T)return R.tlds||T;if(c(T.minDomainSegments===void 0||Number.isSafeInteger(T.minDomainSegments)&&T.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(T.maxDomainSegments===void 0||Number.isSafeInteger(T.maxDomainSegments)&&T.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),T.tlds===!1)return T;if(T.tlds===!0||T.tlds===void 0)return c(R.tlds,"Built-in TLD list disabled"),Object.assign({},T,R.tlds);c(typeof T.tlds=="object","tlds must be true, false, or an object");const A=T.tlds.deny;if(A)return Array.isArray(A)&&(T=Object.assign({},T,{tlds:{deny:new Set(A)}})),c(T.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!T.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(T.tlds.deny,"tlds.deny"),T;const D=T.tlds.allow;return D?D===!0?(c(R.tlds,"Built-in TLD list disabled"),Object.assign({},T,R.tlds)):(Array.isArray(D)&&(T=Object.assign({},T,{tlds:{allow:new Set(D)}})),c(T.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(T.tlds.allow,"tlds.allow"),T):T},R.validateTlds=function(T,A){for(const D of T)c(g.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${A} must contain valid top level domain names`)},R.isoDate=function(T){if(!b.isIsoDate(T))return null;/.*T.*[+-]\d\d$/.test(T)&&(T+="00");const A=new Date(T);return isNaN(A.getTime())?null:A.toISOString()},R.length=function(T,A,D,V,j){return c(!j||!1,"Invalid encoding:",j),T.$_addRule({name:A,method:"length",args:{limit:D,encoding:j},operator:V})}},8826:(o,u,h)=>{const c=h(375),g=h(8068),y={};y.Map=class extends Map{slice(){return new y.Map(this)}},o.exports=g.extend({type:"symbol",terms:{map:{init:new y.Map}},coerce:{method(E,{schema:d,error:p}){const _=d.$_terms.map.get(E);return _&&(E=_),d._flags.only&&typeof E!="symbol"?{value:E,errors:p("symbol.map",{map:d.$_terms.map})}:{value:E}}},validate(E,{error:d}){if(typeof E!="symbol")return{value:E,errors:d("symbol.base")}},rules:{map:{method(E){E&&!E[Symbol.iterator]&&typeof E=="object"&&(E=Object.entries(E)),c(E&&E[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),p=[];for(const _ of E){c(_&&_[Symbol.iterator],"Entry must be an iterable");const[v,b]=_;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof b=="symbol","Value must be a Symbol"),d.$_terms.map.set(v,b),p.push(b)}return d.valid(...p)}}},manifest:{build:(E,d)=>(d.map&&(E=E.map(d.map)),E)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,h)=>{const c=h(375),g=h(8571),y=h(738),E=h(9621),d=h(8160),p=h(6354),_=h(493),v={result:Symbol("result")};u.entry=function(b,R,T){let A=d.defaults;T&&(c(T.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(T.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),A=d.preferences(d.defaults,T));const D=v.entry(b,R,A);c(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const V={value:D.value};return D.error&&(V.error=D.error),D.mainstay.warnings.length&&(V.warning=p.details(D.mainstay.warnings)),D.mainstay.debug&&(V.debug=D.mainstay.debug),D.mainstay.artifacts&&(V.artifacts=D.mainstay.artifacts),V},u.entryAsync=async function(b,R,T){let A=d.defaults;T&&(A=d.preferences(d.defaults,T));const D=v.entry(b,R,A),V=D.mainstay;if(D.error)throw V.debug&&(D.error.debug=V.debug),D.error;if(V.externals.length){let L=D.value;const I=[];for(const S of V.externals){const x=S.state.path,O=S.schema.type==="link"?V.links.get(S.schema):null;let k,$,U=L;const he=x.length?[L]:[],pe=x.length?E(b,x):b;if(x.length){k=x[x.length-1];let G=L;for(const se of x.slice(0,-1))G=G[se],he.unshift(G);$=he[0],U=$[k]}try{const G=(ye,Re)=>(O||S.schema).$_createError(ye,U,Re,S.state,A),se=await S.method(U,{schema:S.schema,linked:O,state:S.state,prefs:T,original:pe,error:G,errorsArray:v.errorsArray,warn:(ye,Re)=>V.warnings.push((O||S.schema).$_createError(ye,U,Re,S.state,A)),message:(ye,Re)=>(O||S.schema).$_createError("external",U,Re,S.state,A,{messages:ye})});if(se===void 0||se===U)continue;if(se instanceof p.Report){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(se),A.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(...se),A.abortEarly)break;continue}$?(V.tracer.value(S.state,"rule",U,se,"external"),$[k]=se):(V.tracer.value(S.state,"rule",L,se,"external"),L=se)}catch(G){throw A.errors.label&&(G.message+=` (${S.label})`),G}}if(D.value=L,I.length)throw D.error=p.process(I,b,A),V.debug&&(D.error.debug=V.debug),D.error}if(!A.warnings&&!A.debug&&!A.artifacts)return D.value;const j={value:D.value};return V.warnings.length&&(j.warning=p.details(V.warnings)),V.debug&&(j.debug=V.debug),V.artifacts&&(j.artifacts=V.artifacts),j},v.Mainstay=class{constructor(b,R,T){this.externals=[],this.warnings=[],this.tracer=b,this.debug=R,this.links=T,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const b=this._snapshots.pop();this.externals=b.externals,this.warnings=b.warnings}commit(){this._snapshots.pop()}},v.entry=function(b,R,T){const{tracer:A,cleanup:D}=v.tracer(R,T),V=T.debug?[]:null,j=R._ids._schemaChain?new Map:null,L=new v.Mainstay(A,V,j),I=R._ids._schemaChain?[{schema:R}]:null,S=new _([],[],{mainstay:L,schemas:I}),x=u.validate(b,R,S,T);D&&R.$_root.untrace();const O=p.process(x.errors,b,T);return{value:x.value,error:O,mainstay:L}},v.tracer=function(b,R){return b.$_root._tracer?{tracer:b.$_root._tracer._register(b)}:R.debug?(c(b.$_root.trace,"Debug mode not supported"),{tracer:b.$_root.trace()._register(b),cleanup:!0}):{tracer:v.ignore}},u.validate=function(b,R,T,A,D={}){if(R.$_terms.whens&&(R=R._generate(b,T,A).schema),R._preferences&&(A=v.prefs(R,A)),R._cache&&A.cache){const O=R._cache.get(b);if(T.mainstay.tracer.debug(T,"validate","cached",!!O),O)return O}const V=(O,k,$)=>R.$_createError(O,b,k,$||T,A),j={original:b,prefs:A,schema:R,state:T,error:V,errorsArray:v.errorsArray,warn:(O,k,$)=>T.mainstay.warnings.push(V(O,k,$)),message:(O,k)=>R.$_createError("custom",b,k,T,A,{messages:O})};T.mainstay.tracer.entry(R,T);const L=R._definition;if(L.prepare&&b!==void 0&&A.convert){const O=L.prepare(b,j);if(O){if(T.mainstay.tracer.value(T,"prepare",b,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),j);b=O.value}}if(L.coerce&&b!==void 0&&A.convert&&(!L.coerce.from||L.coerce.from.includes(typeof b))){const O=L.coerce.method(b,j);if(O){if(T.mainstay.tracer.value(T,"coerced",b,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),j);b=O.value}}const I=R._flags.empty;I&&I.$_match(v.trim(b,R),T.nest(I),d.defaults)&&(T.mainstay.tracer.value(T,"empty",b,void 0),b=void 0);const S=D.presence||R._flags.presence||(R._flags._endedSwitch?null:A.presence);if(b===void 0){if(S==="forbidden")return v.finalize(b,null,j);if(S==="required")return v.finalize(b,[R.$_createError("any.required",b,null,T,A)],j);if(S==="optional"){if(R._flags.default!==d.symbols.deepDefault)return v.finalize(b,null,j);T.mainstay.tracer.value(T,"default",b,{}),b={}}}else if(S==="forbidden")return v.finalize(b,[R.$_createError("any.unknown",b,null,T,A)],j);const x=[];if(R._valids){const O=R._valids.get(b,T,A,R._flags.insensitive);if(O)return A.convert&&(T.mainstay.tracer.value(T,"valids",b,O.value),b=O.value),T.mainstay.tracer.filter(R,T,"valid",O),v.finalize(b,null,j);if(R._flags.only){const k=R.$_createError("any.only",b,{valids:R._valids.values({display:!0})},T,A);if(A.abortEarly)return v.finalize(b,[k],j);x.push(k)}}if(R._invalids){const O=R._invalids.get(b,T,A,R._flags.insensitive);if(O){T.mainstay.tracer.filter(R,T,"invalid",O);const k=R.$_createError("any.invalid",b,{invalids:R._invalids.values({display:!0})},T,A);if(A.abortEarly)return v.finalize(b,[k],j);x.push(k)}}if(L.validate){const O=L.validate(b,j);if(O&&(T.mainstay.tracer.value(T,"base",b,O.value),b=O.value,O.errors)){if(!Array.isArray(O.errors))return x.push(O.errors),v.finalize(b,x,j);if(O.errors.length)return x.push(...O.errors),v.finalize(b,x,j)}}return R._rules.length?v.rules(b,x,j):v.finalize(b,x,j)},v.rules=function(b,R,T){const{schema:A,state:D,prefs:V}=T;for(const j of A._rules){const L=A._definition.rules[j.method];if(L.convert&&V.convert){D.mainstay.tracer.log(A,D,"rule",j.name,"full");continue}let I,S=j.args;if(j._resolve.length){S=Object.assign({},S);for(const O of j._resolve){const k=L.argsByName.get(O),$=S[O].resolve(b,D,V),U=k.normalize?k.normalize($):$,he=d.validateArg(U,null,k);if(he){I=A.$_createError("any.ref",$,{arg:O,ref:S[O],reason:he},D,V);break}S[O]=U}}I=I||L.validate(b,T,S,j);const x=v.rule(I,j);if(x.errors){if(D.mainstay.tracer.log(A,D,"rule",j.name,"error"),j.warn){D.mainstay.warnings.push(...x.errors);continue}if(V.abortEarly)return v.finalize(b,x.errors,T);R.push(...x.errors)}else D.mainstay.tracer.log(A,D,"rule",j.name,"pass"),D.mainstay.tracer.value(D,"rule",b,x.value,j.name),b=x.value}return v.finalize(b,R,T)},v.rule=function(b,R){return b instanceof p.Report?(v.error(b,R),{errors:[b],value:null}):Array.isArray(b)&&b[d.symbols.errors]?(b.forEach(T=>v.error(T,R)),{errors:b,value:null}):{errors:null,value:b}},v.error=function(b,R){return R.message&&b._setTemplate(R.message),b},v.finalize=function(b,R,T){R=R||[];const{schema:A,state:D,prefs:V}=T;if(R.length){const L=v.default("failover",void 0,R,T);L!==void 0&&(D.mainstay.tracer.value(D,"failover",b,L),b=L,R=[])}if(R.length&&A._flags.error)if(typeof A._flags.error=="function"){R=A._flags.error(R),Array.isArray(R)||(R=[R]);for(const L of R)c(L instanceof Error||L instanceof p.Report,"error() must return an Error object")}else R=[A._flags.error];if(b===void 0){const L=v.default("default",b,R,T);D.mainstay.tracer.value(D,"default",b,L),b=L}if(A._flags.cast&&b!==void 0){const L=A._definition.cast[A._flags.cast];if(L.from(b)){const I=L.to(b,T);D.mainstay.tracer.value(D,"cast",b,I,A._flags.cast),b=I}}if(A.$_terms.externals&&V.externals&&V._externals!==!1)for(const{method:L}of A.$_terms.externals)D.mainstay.externals.push({method:L,schema:A,state:D,label:p.label(A._flags,D,V)});const j={value:b,errors:R.length?R:null};return A._flags.result&&(j.value=A._flags.result==="strip"?void 0:T.original,D.mainstay.tracer.value(D,A._flags.result,b,j.value),D.shadow(b,A._flags.result)),A._cache&&V.cache!==!1&&!A._refs.length&&A._cache.set(T.original,j),b===void 0||j.errors||A._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(A._flags.artifact)||D.mainstay.artifacts.set(A._flags.artifact,[]),D.mainstay.artifacts.get(A._flags.artifact).push(D.path)),j},v.prefs=function(b,R){const T=R===d.defaults;return T&&b._preferences[d.symbols.prefs]?b._preferences[d.symbols.prefs]:(R=d.preferences(R,b._preferences),T&&(b._preferences[d.symbols.prefs]=R),R)},v.default=function(b,R,T,A){const{schema:D,state:V,prefs:j}=A,L=D._flags[b];if(j.noDefaults||L===void 0)return R;if(V.mainstay.tracer.log(D,V,"rule",b,"full"),!L)return L;if(typeof L=="function"){const I=L.length?[g(V.ancestors[0]),A]:[];try{return L(...I)}catch(S){return void T.push(D.$_createError(`any.${b}`,null,{error:S},V,j))}}return typeof L!="object"?L:L[d.symbols.literal]?L.literal:d.isResolvable(L)?L.resolve(R,V,j):g(L)},v.trim=function(b,R){if(typeof b!="string")return b;const T=R.$_getRule("trim");return T&&T.args.enabled?b.trim():b},v.ignore={active:!1,debug:y,entry:y,filter:y,log:y,resolve:y,value:y},v.errorsArray=function(){const b=[];return b[d.symbols.errors]=!0,b}},2036:(o,u,h)=>{const c=h(375),g=h(9474),y=h(8160),E={};o.exports=E.Values=class{constructor(d,p){this._values=new Set(d),this._refs=new Set(p),this._lowercase=E.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,p){y.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),p&&p.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,p,_){if(d=d||new E.Values,p){if(p._override)return p.clone();for(const v of[...p._values,...p._refs])d.add(v)}if(_)for(const v of[..._._values,..._._refs])d.remove(v);return d.length?d:null}remove(d){y.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,p,_,v){return!!this.get(d,p,_,v)}get(d,p,_,v){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&v){const b=this._lowercase.get(d.toLowerCase());if(b)return{value:b}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const b of this._values)if(g(b,d))return{value:b}}if(p)for(const b of this._refs){const R=b.resolve(d,p,_,null,{in:!0});if(R===void 0)continue;const T=b.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const A of T)if(typeof A==typeof d){if(v&&d&&typeof d=="string"){if(A.toLowerCase()===d.toLowerCase())return{value:A,ref:b}}else if(g(A,d))return{value:A,ref:b}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const p=[];for(const _ of[...this._values,...this._refs])_!==void 0&&p.push(_);return p}return Array.from([...this._values,...this._refs])}clone(){const d=new E.Values(this._values,this._refs);return d._override=this._override,d}concat(d){c(!d._override,"Cannot concat override set of values");const p=new E.Values([...this._values,...d._values],[...this._refs,...d._refs]);return p._override=this._override,p}describe(){const d=[];this._override&&d.push({override:!0});for(const p of this._values.values())d.push(p&&typeof p=="object"?{value:p}:p);for(const p of this._refs.values())d.push(p.describe());return d}},E.Values.prototype[y.symbols.values]=!0,E.Values.prototype.slice=E.Values.prototype.clone,E.lowercases=function(d){const p=new Map;if(d)for(const _ of d)typeof _=="string"&&p.set(_.toLowerCase(),_);return p}},978:(o,u,h)=>{const c=h(375),g=h(8571),y=h(1687),E=h(9621),d={};o.exports=function(p,_,v={}){if(c(p&&typeof p=="object","Invalid defaults value: must be an object"),c(!_||_===!0||typeof _=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!_)return null;if(v.shallow)return d.applyToDefaultsWithShallow(p,_,v);const b=g(p);if(_===!0)return b;const R=v.nullOverride!==void 0&&v.nullOverride;return y(b,_,{nullOverride:R,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(p,_,v){const b=v.shallow;c(Array.isArray(b),"Invalid keys");const R=new Map,T=_===!0?null:new Set;for(let V of b){V=Array.isArray(V)?V:V.split(".");const j=E(p,V);j&&typeof j=="object"?R.set(j,T&&E(_,V)||j):T&&T.add(V)}const A=g(p,{},R);if(!T)return A;for(const V of T)d.reachCopy(A,_,V);const D=v.nullOverride!==void 0&&v.nullOverride;return y(A,_,{nullOverride:D,mergeArrays:!1})},d.reachCopy=function(p,_,v){for(const T of v){if(!(T in _))return;const A=_[T];if(typeof A!="object"||A===null)return;_=A}const b=_;let R=p;for(let T=0;T<v.length-1;++T){const A=v[T];typeof R[A]!="object"&&(R[A]={}),R=R[A]}R[v[v.length-1]]=b}},375:(o,u,h)=>{const c=h(7916);o.exports=function(g,...y){if(!g)throw y.length===1&&y[0]instanceof Error?y[0]:new c(y)}},8571:(o,u,h)=>{const c=h(9621),g=h(4277),y=h(7043),E={needsProtoHack:new Set([g.set,g.map,g.weakSet,g.weakMap])};o.exports=E.clone=function(d,p={},_=null){if(typeof d!="object"||d===null)return d;let v=E.clone,b=_;if(p.shallow){if(p.shallow!==!0)return E.cloneWithShallow(d,p);v=D=>D}else if(b){const D=b.get(d);if(D)return D}else b=new Map;const R=g.getInternalProto(d);if(R===g.buffer)return!1;if(R===g.date)return new Date(d.getTime());if(R===g.regex)return new RegExp(d);const T=E.base(d,R,p);if(T===d)return d;if(b&&b.set(d,T),R===g.set)for(const D of d)T.add(v(D,p,b));else if(R===g.map)for(const[D,V]of d)T.set(D,v(V,p,b));const A=y.keys(d,p);for(const D of A){if(D==="__proto__")continue;if(R===g.array&&D==="length"){T.length=d.length;continue}const V=Object.getOwnPropertyDescriptor(d,D);V?V.get||V.set?Object.defineProperty(T,D,V):V.enumerable?T[D]=v(d[D],p,b):Object.defineProperty(T,D,{enumerable:!1,writable:!0,configurable:!0,value:v(d[D],p,b)}):Object.defineProperty(T,D,{enumerable:!0,writable:!0,configurable:!0,value:v(d[D],p,b)})}return T},E.cloneWithShallow=function(d,p){const _=p.shallow;(p=Object.assign({},p)).shallow=!1;const v=new Map;for(const b of _){const R=c(d,b);typeof R!="object"&&typeof R!="function"||v.set(R,R)}return E.clone(d,p,v)},E.base=function(d,p,_){if(_.prototype===!1)return E.needsProtoHack.has(p)?new p.constructor:p===g.array?[]:{};const v=Object.getPrototypeOf(d);if(v&&v.isImmutable)return d;if(p===g.array){const b=[];return v!==p&&Object.setPrototypeOf(b,v),b}if(E.needsProtoHack.has(p)){const b=new v.constructor;return v!==p&&Object.setPrototypeOf(b,v),b}return Object.create(v)}},9474:(o,u,h)=>{const c=h(4277),g={mismatched:null};o.exports=function(y,E,d){return d=Object.assign({prototype:!0},d),!!g.isDeepEqual(y,E,d,[])},g.isDeepEqual=function(y,E,d,p){if(y===E)return y!==0||1/y==1/E;const _=typeof y;if(_!==typeof E||y===null||E===null)return!1;if(_==="function"){if(!d.deepFunction||y.toString()!==E.toString())return!1}else if(_!=="object")return y!=y&&E!=E;const v=g.getSharedType(y,E,!!d.prototype);switch(v){case c.buffer:return!1;case c.promise:return y===E;case c.regex:return y.toString()===E.toString();case g.mismatched:return!1}for(let b=p.length-1;b>=0;--b)if(p[b].isSame(y,E))return!0;p.push(new g.SeenEntry(y,E));try{return!!g.isDeepEqualObj(v,y,E,d,p)}finally{p.pop()}},g.getSharedType=function(y,E,d){if(d)return Object.getPrototypeOf(y)!==Object.getPrototypeOf(E)?g.mismatched:c.getInternalProto(y);const p=c.getInternalProto(y);return p!==c.getInternalProto(E)?g.mismatched:p},g.valueOf=function(y){const E=y.valueOf;if(E===void 0)return y;try{return E.call(y)}catch(d){return d}},g.hasOwnEnumerableProperty=function(y,E){return Object.prototype.propertyIsEnumerable.call(y,E)},g.isSetSimpleEqual=function(y,E){for(const d of Set.prototype.values.call(y))if(!Set.prototype.has.call(E,d))return!1;return!0},g.isDeepEqualObj=function(y,E,d,p,_){const{isDeepEqual:v,valueOf:b,hasOwnEnumerableProperty:R}=g,{keys:T,getOwnPropertySymbols:A}=Object;if(y===c.array){if(!p.part){if(E.length!==d.length)return!1;for(let I=0;I<E.length;++I)if(!v(E[I],d[I],p,_))return!1;return!0}for(const I of E)for(const S of d)if(v(I,S,p,_))return!0}else if(y===c.set){if(E.size!==d.size)return!1;if(!g.isSetSimpleEqual(E,d)){const I=new Set(Set.prototype.values.call(d));for(const S of Set.prototype.values.call(E)){if(I.delete(S))continue;let x=!1;for(const O of I)if(v(S,O,p,_)){I.delete(O),x=!0;break}if(!x)return!1}}}else if(y===c.map){if(E.size!==d.size)return!1;for(const[I,S]of Map.prototype.entries.call(E))if(S===void 0&&!Map.prototype.has.call(d,I)||!v(S,Map.prototype.get.call(d,I),p,_))return!1}else if(y===c.error&&(E.name!==d.name||E.message!==d.message))return!1;const D=b(E),V=b(d);if((E!==D||d!==V)&&!v(D,V,p,_))return!1;const j=T(E);if(!p.part&&j.length!==T(d).length&&!p.skip)return!1;let L=0;for(const I of j)if(p.skip&&p.skip.includes(I))d[I]===void 0&&++L;else if(!R(d,I)||!v(E[I],d[I],p,_))return!1;if(!p.part&&j.length-L!==T(d).length)return!1;if(p.symbols!==!1){const I=A(E),S=new Set(A(d));for(const x of I){if(!p.skip||!p.skip.includes(x)){if(R(E,x)){if(!R(d,x)||!v(E[x],d[x],p,_))return!1}else if(R(d,x))return!1}S.delete(x)}for(const x of S)if(R(d,x))return!1}return!0},g.SeenEntry=class{constructor(y,E){this.obj=y,this.ref=E}isSame(y,E){return this.obj===y&&this.ref===E}}},7916:(o,u,h)=>{const c=h(8761);o.exports=class extends Error{constructor(g){super(g.filter(y=>y!=="").map(y=>typeof y=="string"?y:y instanceof Error?y.message:c(y)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(h){if(!h)return"";let c="";for(let g=0;g<h.length;++g){const y=h.charCodeAt(g);u.isSafe(y)?c+=h[g]:c+=u.escapeHtmlChar(y)}return c},u.escapeHtmlChar=function(h){return u.namedHtml.get(h)||(h>=256?"&#"+h+";":`&#x${h.toString(16).padStart(2,"0")};`)},u.isSafe=function(h){return u.safeCharCodes.has(h)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const h=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&h.add(c);return h}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,h)=>{const c=h(375),g=h(8571),y=h(7043),E={};o.exports=E.merge=function(d,p,_){if(c(d&&typeof d=="object","Invalid target value: must be an object"),c(p==null||typeof p=="object","Invalid source value: must be null, undefined, or an object"),!p)return d;if(_=Object.assign({nullOverride:!0,mergeArrays:!0},_),Array.isArray(p)){c(Array.isArray(d),"Cannot merge array onto an object"),_.mergeArrays||(d.length=0);for(let b=0;b<p.length;++b)d.push(g(p[b],{symbols:_.symbols}));return d}const v=y.keys(p,_);for(let b=0;b<v.length;++b){const R=v[b];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(p,R))continue;const T=p[R];if(T&&typeof T=="object"){if(d[R]===T)continue;!d[R]||typeof d[R]!="object"||Array.isArray(d[R])!==Array.isArray(T)||T instanceof Date||T instanceof RegExp?d[R]=g(T,{symbols:_.symbols}):E.merge(d[R],T,_)}else(T!=null||_.nullOverride)&&(d[R]=T)}return d}},9621:(o,u,h)=>{const c=h(375),g={};o.exports=function(y,E,d){if(E===!1||E==null)return y;typeof(d=d||{})=="string"&&(d={separator:d});const p=Array.isArray(E);c(!p||!d.separator,"Separator option is not valid for array-based chain");const _=p?E:E.split(d.separator||".");let v=y;for(let b=0;b<_.length;++b){let R=_[b];const T=d.iterables&&g.iterables(v);if(Array.isArray(v)||T==="set"){const A=Number(R);Number.isInteger(A)&&(R=A<0?v.length+A:A)}if(!v||typeof v=="function"&&d.functions===!1||!T&&v[R]===void 0){c(!d.strict||b+1===_.length,"Missing segment",R,"in reach path ",E),c(typeof v=="object"||d.functions===!0||typeof v!="function","Invalid segment",R,"in reach path ",E),v=d.default;break}v=T?T==="set"?[...v][R]:v.get(R):v[R]}return v},g.iterables=function(y){return y instanceof Set?"set":y instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(h){return"[Cannot display object: "+h.message+"]"}}},4277:(o,u)=>{const h={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},h.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const g=Object.prototype.toString.call(c);return h.typeMap.get(g)||u.generic}},7043:(o,u)=>{u.keys=function(h,c={}){return c.symbols!==!1?Reflect.ownKeys(h):Object.getOwnPropertyNames(h)}},3652:(o,u,h)=>{const c=h(375),g={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(y,E){const d=[].concat((E=E||{}).before||[]),p=[].concat(E.after||[]),_=E.group||"?",v=E.sort||0;c(!d.includes(_),`Item cannot come before itself: ${_}`),c(!d.includes("?"),"Item cannot come before unassociated items"),c(!p.includes(_),`Item cannot come after itself: ${_}`),c(!p.includes("?"),"Item cannot come after unassociated items"),Array.isArray(y)||(y=[y]);for(const b of y){const R={seq:this._items.length,sort:v,before:d,after:p,group:_,node:b};this._items.push(R)}if(!E.manual){const b=this._sort();c(b,"item",_!=="?"?`added into group ${_}`:"","created a dependencies error")}return this.nodes}merge(y){Array.isArray(y)||(y=[y]);for(const d of y)if(d)for(const p of d._items)this._items.push(Object.assign({},p));this._items.sort(g.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const E=this._sort();return c(E,"merge created a dependencies error"),this.nodes}sort(){const y=this._sort();return c(y,"sort created a dependencies error"),this.nodes}_sort(){const y={},E=Object.create(null),d=Object.create(null);for(const R of this._items){const T=R.seq,A=R.group;d[A]=d[A]||[],d[A].push(T),y[T]=R.before;for(const D of R.after)E[D]=E[D]||[],E[D].push(T)}for(const R in y){const T=[];for(const A in y[R]){const D=y[R][A];d[D]=d[D]||[],T.push(...d[D])}y[R]=T}for(const R in E)if(d[R])for(const T of d[R])y[T].push(...E[R]);const p={};for(const R in y){const T=y[R];for(const A of T)p[A]=p[A]||[],p[A].push(R)}const _={},v=[];for(let R=0;R<this._items.length;++R){let T=R;if(p[R]){T=null;for(let A=0;A<this._items.length;++A){if(_[A]===!0)continue;p[A]||(p[A]=[]);const D=p[A].length;let V=0;for(let j=0;j<D;++j)_[p[A][j]]&&++V;if(V===D){T=A;break}}}T!==null&&(_[T]=!0,v.push(T))}if(v.length!==this._items.length)return!1;const b={};for(const R of this._items)b[R.seq]=R;this._items=[],this.nodes=[];for(const R of v){const T=b[R];this.nodes.push(T.node),this._items.push(T)}return!0}},g.mergeSort=(y,E)=>y.sort===E.sort?0:y.sort<E.sort?-1:1},5380:(o,u,h)=>{const c=h(443),g=h(2178),y={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(E,d={}){if(!E)return g.code("DOMAIN_NON_EMPTY_STRING");if(typeof E!="string")throw new Error("Invalid input: domain must be a string");if(E.length>256)return g.code("DOMAIN_TOO_LONG");if(y.nonAsciiRx.test(E)){if(d.allowUnicode===!1)return g.code("DOMAIN_INVALID_UNICODE_CHARS");E=E.normalize("NFC")}if(y.domainControlRx.test(E))return g.code("DOMAIN_INVALID_CHARS");E=y.punycode(E),d.allowFullyQualified&&E[E.length-1]==="."&&(E=E.slice(0,-1));const p=d.minDomainSegments||y.minDomainSegments,_=E.split(".");if(_.length<p)return g.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&_.length>d.maxDomainSegments)return g.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=d.tlds;if(v){const b=_[_.length-1].toLowerCase();if(v.deny&&v.deny.has(b)||v.allow&&!v.allow.has(b))return g.code("DOMAIN_FORBIDDEN_TLDS")}for(let b=0;b<_.length;++b){const R=_[b];if(!R.length)return g.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return g.code("DOMAIN_LONG_SEGMENT");if(b<_.length-1){if(!y.domainSegmentRx.test(R))return g.code("DOMAIN_INVALID_CHARS")}else if(!y.tldSegmentRx.test(R))return g.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(E,d){return!u.analyze(E,d)},y.punycode=function(E){E.includes("%")&&(E=E.replace(/%/g,"%25"));try{return new y.URL(`http://${E}`).host}catch{return E}}},1745:(o,u,h)=>{const c=h(9848),g=h(5380),y=h(2178),E={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(d,p){return E.email(d,p)},u.isValid=function(d,p){return!E.email(d,p)},E.email=function(d,p={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return y.code("EMPTY_STRING");const _=!E.nonAsciiRx.test(d);if(!_){if(p.allowUnicode===!1)return y.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const v=d.split("@");if(v.length!==2)return v.length>2?y.code("MULTIPLE_AT_CHAR"):y.code("MISSING_AT_CHAR");const[b,R]=v;if(!b)return y.code("EMPTY_LOCAL");if(!p.ignoreLength){if(d.length>254)return y.code("ADDRESS_TOO_LONG");if(E.encoder.encode(b).length>64)return y.code("LOCAL_TOO_LONG")}return E.local(b,_)||g.analyze(R,p)},E.local=function(d,p){const _=d.split(".");for(const v of _){if(!v.length)return y.code("EMPTY_LOCAL_SEGMENT");if(p){if(!E.atextRx.test(v))return y.code("INVALID_LOCAL_CHARS")}else for(const b of v){if(E.atextRx.test(b))continue;const R=E.binary(b);if(!E.atomRx.test(R))return y.code("INVALID_LOCAL_CHARS")}}},E.binary=function(d){return Array.from(E.encoder.encode(d)).map(p=>String.fromCharCode(p)).join("")},E.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,E.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(h){return{code:h,error:u.codes[h]}}},9959:(o,u,h)=>{const c=h(375),g=h(5752);u.regex=function(y={}){c(y.cidr===void 0||typeof y.cidr=="string","options.cidr must be a string");const E=y.cidr?y.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(E),"options.cidr must be one of required, optional, forbidden"),c(y.version===void 0||typeof y.version=="string"||Array.isArray(y.version),"options.version must be a string or an array of string");let d=y.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),c(d.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<d.length;++v)c(typeof d[v]=="string","options.version must only contain strings"),d[v]=d[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(d[v]),"options.version contains unknown version "+d[v]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const p=`(?:${d.map(v=>{if(E==="forbidden")return g.ip[v];const b=`\\/${v==="ipv4"?g.ip.v4Cidr:g.ip.v6Cidr}`;return E==="required"?`${g.ip[v]}${b}`:`${g.ip[v]}(?:${b})?`}).join("|")})`,_=new RegExp(`^${p}$`);return{cidr:E,versions:d,regex:_,raw:p}}},5752:(o,u,h)=>{const c=h(375),g=h(6064),y={generate:function(){const E={},d="\\dA-Fa-f",p="["+d+"]",_="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",b="%"+d,R=_+b+v+":@",T="["+R+"]",A="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";E.ipv4address="(?:"+A+"\\.){3}"+A;const D=p+"{1,4}",V="(?:"+D+":"+D+"|"+E.ipv4address+")",j="(?:"+D+":){6}"+V,L="::(?:"+D+":){5}"+V,I="(?:"+D+")?::(?:"+D+":){4}"+V,S="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+V,x="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+V,O="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+V,k="(?:(?:"+D+":){0,4}"+D+")?::"+V,$="(?:(?:"+D+":){0,5}"+D+")?::"+D,U="(?:(?:"+D+":){0,6}"+D+")?::";E.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",E.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",E.ipv6address="(?:"+j+"|"+L+"|"+I+"|"+S+"|"+x+"|"+O+"|"+k+"|"+$+"|"+U+")",E.ipvFuture="v"+p+"+\\.["+_+v+":]+",E.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",E.schemeRegex=new RegExp(E.scheme);const he="["+_+b+v+":]*",pe="["+_+b+v+"]{1,255}",G="(?:\\[(?:"+E.ipv6address+"|"+E.ipvFuture+")\\]|"+E.ipv4address+"|"+pe+")",se="(?:"+he+"@)?"+G+"(?::\\d*)?",ye="(?:"+he+"@)?("+G+")(?::\\d*)?",Re=T+"*",B=T+"+",te="(?:\\/"+Re+")*",me="\\/(?:"+B+te+")?",ce=B+te,_e="["+_+b+v+"@]+"+te,ke="(?:\\/\\/\\/"+Re+te+")";return E.hierPart="(?:(?:\\/\\/"+se+te+")|"+me+"|"+ce+"|"+ke+")",E.hierPartCapture="(?:(?:\\/\\/"+ye+te+")|"+me+"|"+ce+")",E.relativeRef="(?:(?:\\/\\/"+se+te+")|"+me+"|"+_e+"|)",E.relativeRefCapture="(?:(?:\\/\\/"+ye+te+")|"+me+"|"+_e+"|)",E.query="["+R+"\\/\\?]*(?=#|$)",E.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",E.fragment="["+R+"\\/\\?]*",E}};y.rfc3986=y.generate(),u.ip={v4Cidr:y.rfc3986.ipv4Cidr,v6Cidr:y.rfc3986.ipv6Cidr,ipv4:y.rfc3986.ipv4address,ipv6:y.rfc3986.ipv6address,ipvfuture:y.rfc3986.ipvFuture},y.createRegex=function(E){const d=y.rfc3986,p="(?:\\?"+(E.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",_=E.domain?d.relativeRefCapture:d.relativeRef;if(E.relativeOnly)return y.wrap(_+p);let v="";if(E.scheme){c(E.scheme instanceof RegExp||typeof E.scheme=="string"||Array.isArray(E.scheme),"scheme must be a RegExp, String, or Array");const T=[].concat(E.scheme);c(T.length>=1,"scheme must have at least 1 scheme specified");const A=[];for(let D=0;D<T.length;++D){const V=T[D];c(V instanceof RegExp||typeof V=="string","scheme at position "+D+" must be a RegExp or String"),V instanceof RegExp?A.push(V.source.toString()):(c(d.schemeRegex.test(V),"scheme at position "+D+" must be a valid scheme"),A.push(g(V)))}v=A.join("|")}const b="(?:"+(v?"(?:"+v+")":d.scheme)+":"+(E.domain?d.hierPartCapture:d.hierPart)+")",R=E.allowRelative?"(?:"+b+"|"+_+")":b;return y.wrap(R+p,v)},y.wrap=function(E,d){return{raw:E=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${E}`,regex:new RegExp(`^${E}$`),scheme:d}},y.uriRegex=y.createRegex({}),u.regex=function(E={}){return E.scheme||E.allowRelative||E.relativeOnly||E.allowQuerySquareBrackets||E.domain?y.createRegex(E):y.uriRegex}},1447:(o,u)=>{const h={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,g={}){if(!g[h.settings]&&g.constants)for(const y in g.constants){const E=g.constants[y];if(E!==null&&!["boolean","number","string"].includes(typeof E))throw new Error(`Formula constant ${y} contains invalid ${typeof E} value type`)}this.settings=g[h.settings]?g:Object.assign({[h.settings]:!0,constants:{},functions:{}},g),this.single=null,this._parts=null,this._parse(c)}_parse(c){let g=[],y="",E=0,d=!1;const p=v=>{if(E)throw new Error("Formula missing closing parenthesis");const b=g.length?g[g.length-1]:null;if(d||y||v){if(b&&b.type==="reference"&&v===")")return b.type="function",b.value=this._subFormula(y,b.value),void(y="");if(v===")"){const R=new u.Parser(y,this.settings);g.push({type:"segment",value:R})}else if(d){if(d==="]")return g.push({type:"reference",value:y}),void(y="");g.push({type:"literal",value:y})}else if(h.operatorCharacters.includes(y))b&&b.type==="operator"&&h.operators.includes(b.value+y)?b.value+=y:g.push({type:"operator",value:y});else if(y.match(h.numberRx))g.push({type:"constant",value:parseFloat(y)});else if(this.settings.constants[y]!==void 0)g.push({type:"constant",value:this.settings.constants[y]});else{if(!y.match(h.tokenRx))throw new Error(`Formula contains invalid token: ${y}`);g.push({type:"reference",value:y})}y=""}};for(const v of c)d?v===d?(p(),d=!1):y+=v:E?v==="("?(y+=v,++E):v===")"?(--E,E?y+=v:p(v)):y+=v:v in h.literals?d=h.literals[v]:v==="("?(p(),++E):h.operatorCharacters.includes(v)?(p(),y=v,p()):v!==" "?y+=v:p();p(),g=g.map((v,b)=>v.type!=="operator"||v.value!=="-"||b&&g[b-1].type!=="operator"?v:{type:"operator",value:"n"});let _=!1;for(const v of g){if(v.type==="operator"){if(h.operatorsPrefix.includes(v.value))continue;if(!_)throw new Error("Formula contains an operator in invalid position");if(!h.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(_)throw new Error("Formula missing expected operator");_=!_}if(!_)throw new Error("Formula contains invalid trailing operator");g.length===1&&["reference","literal","constant"].includes(g[0].type)&&(this.single={type:g[0].type==="reference"?"reference":"value",value:g[0].value}),this._parts=g.map(v=>{if(v.type==="operator")return h.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):h.reference(v.value)})}_subFormula(c,g){const y=this.settings.functions[g];if(typeof y!="function")throw new Error(`Formula contains unknown function ${g}`);let E=[];if(c){let d="",p=0,_=!1;const v=()=>{if(!d)throw new Error(`Formula contains function ${g} with invalid arguments ${c}`);E.push(d),d=""};for(let b=0;b<c.length;++b){const R=c[b];_?(d+=R,R===_&&(_=!1)):R in h.literals&&!p?(d+=R,_=h.literals[R]):R!==","||p?(d+=R,R==="("?++p:R===")"&&--p):v()}v()}return E=E.map(d=>new u.Parser(d,this.settings)),function(d){const p=[];for(const _ of E)p.push(_.evaluate(d));return y.call(d,...p)}}evaluate(c){const g=this._parts.slice();for(let y=g.length-2;y>=0;--y){const E=g[y];if(E&&E.type==="operator"){const d=g[y+1];g.splice(y+1,1);const p=h.evaluate(d,c);g[y]=h.single(E.value,p)}}return h.operatorsOrder.forEach(y=>{for(let E=1;E<g.length-1;)if(y.includes(g[E])){const d=g[E],p=h.evaluate(g[E-1],c),_=h.evaluate(g[E+1],c);g.splice(E,2);const v=h.calculate(d,p,_);g[E-1]=v===0?0:v}else E+=2}),h.evaluate(g[0],c)}},u.Parser.prototype[h.symbol]=!0,h.reference=function(c){return function(g){return g&&g[c]!==void 0?g[c]:null}},h.evaluate=function(c,g){return c===null?null:typeof c=="function"?c(g):c[h.symbol]?c.evaluate(g):c},h.single=function(c,g){if(c==="!")return!g;const y=-g;return y===0?0:y},h.calculate=function(c,g,y){if(c==="??")return h.exists(g)?g:y;if(typeof g=="string"||typeof y=="string"){if(c==="+")return(g=h.exists(g)?g:"")+(h.exists(y)?y:"")}else switch(c){case"^":return Math.pow(g,y);case"*":return g*y;case"/":return g/y;case"%":return g%y;case"+":return g+y;case"-":return g-y}switch(c){case"<":return g<y;case"<=":return g<=y;case">":return g>y;case">=":return g>=y;case"==":return g===y;case"!=":return g!==y;case"&&":return g&&y;case"||":return g||y}return null},h.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},s={},function o(u){var h=s[u];if(h!==void 0)return h.exports;var c=s[u]={exports:{}};return r[u](c,c.exports,o),c.exports}(5107);var r,s})}(Rd)),Rd.exports}var bC=_C();const qs=X_(bC),EC=qs.object({name:qs.string().min(2).max(50).required().messages({"string.empty":"Name is required","string.min":"Name must be at least 2 characters"}),description:qs.string().min(5).max(200).required().messages({"string.empty":"Description is required","string.min":"Description must be at least 5 characters"}),category:qs.string().min(2).max(30).required().messages({"string.empty":"Category is required"}),price:qs.number().positive().required().messages({"number.base":"Price must be a number","number.positive":"Price must be positive","any.required":"Price is required"}),image:qs.string().uri().required().messages({"string.empty":"Image URL is required","string.uri":"Image must be a valid URL"})}),xd={name:"",description:"",category:"",price:"",image:""},K_=({onSubmit:i,onCancel:e,initialProduct:r})=>{const[s,o]=ne.useState(r||xd),[u,h]=ne.useState({});ne.useEffect(()=>{o(r||xd)},[r]);const c=E=>{const{name:d,value:p}=E.target;o(_=>({..._,[d]:p}))},g=()=>{const{error:E}=EC.validate({...s,price:Number(s.price)},{abortEarly:!1});if(!E)return{};const d={};return E.details.forEach(p=>{d[p.path[0]]=p.message}),d},y=E=>{E.preventDefault();const d=g();if(Object.keys(d).length>0){h(d);return}h({}),i({...s,price:Number(s.price)}),o(xd)};return ie.jsxs("form",{className:"product-form",onSubmit:y,children:[ie.jsxs("div",{children:[ie.jsx("label",{children:"Name"}),ie.jsx("input",{name:"name",value:s.name,onChange:c}),u.name&&ie.jsx("span",{className:"error",children:u.name})]}),ie.jsxs("div",{children:[ie.jsx("label",{children:"Description"}),ie.jsx("input",{name:"description",value:s.description,onChange:c}),u.description&&ie.jsx("span",{className:"error",children:u.description})]}),ie.jsxs("div",{children:[ie.jsx("label",{children:"Category"}),ie.jsx("input",{name:"category",value:s.category,onChange:c}),u.category&&ie.jsx("span",{className:"error",children:u.category})]}),ie.jsxs("div",{children:[ie.jsx("label",{children:"Price"}),ie.jsx("input",{name:"price",type:"number",min:"0",value:s.price,onChange:c}),u.price&&ie.jsx("span",{className:"error",children:u.price})]}),ie.jsxs("div",{children:[ie.jsx("label",{children:"Image URL"}),ie.jsx("input",{name:"image",value:s.image,onChange:c}),u.image&&ie.jsx("span",{className:"error",children:u.image})]}),ie.jsxs("div",{className:"form-actions",children:[ie.jsxs("button",{type:"submit",children:[r?"Update":"Add"," Product"]}),e&&ie.jsx("button",{type:"button",onClick:e,className:"cancel-btn",children:"Cancel"})]})]})},TC=({open:i,onClose:e,onConfirm:r,message:s})=>i?ie.jsx("div",{className:"modal-backdrop",children:ie.jsxs("div",{className:"modal",children:[ie.jsx("p",{children:s}),ie.jsxs("div",{className:"modal-actions",children:[ie.jsx("button",{onClick:r,className:"confirm-btn",children:"Yes"}),ie.jsx("button",{onClick:e,className:"cancel-btn",children:"No"})]})]})}):null,wC=()=>{const{toys:i,fetchToys:e,addToy:r,updateToyInStore:s,deleteToyFromStore:o,loading:u,error:h}=Ym(),[c,g]=ne.useState(null),[y,E]=ne.useState(!1),[d,p]=ne.useState(!1),[_,v]=ne.useState(null);ne.useEffect(()=>{e()},[e]);const b=async D=>{await r(D),E(!1)},R=async D=>{await s(D.id,D),g(null)},T=D=>{v(D),p(!0)},A=async()=>{await o(_),p(!1),v(null)};return ie.jsxs("div",{className:"admin-page",children:[ie.jsx("h2",{children:"Admin Product Management"}),ie.jsx(TC,{open:d,onClose:()=>p(!1),onConfirm:A,message:"Are you sure you want to delete this product?"}),y&&ie.jsx(K_,{onSubmit:b,onCancel:()=>E(!1)}),c&&ie.jsx(K_,{initialProduct:c,onSubmit:R,onCancel:()=>g(null)}),!y&&!c&&ie.jsx("button",{className:"add-btn",onClick:()=>E(!0),children:"Add Product"}),u&&ie.jsx("p",{children:"Loading..."}),h&&ie.jsx("p",{className:"error",children:h}),ie.jsx("div",{className:"admin-products",children:i.map(D=>ie.jsxs("div",{className:"admin-product-card",children:[ie.jsx("img",{src:D.image,alt:D.name}),ie.jsxs("div",{children:[ie.jsx("h4",{children:D.name}),ie.jsx("p",{children:D.description}),ie.jsxs("p",{children:[ie.jsx("b",{children:"Category:"})," ",D.category]}),ie.jsxs("p",{children:[ie.jsx("b",{children:"Price:"})," ",D.price," SEK"]})]}),ie.jsxs("div",{className:"admin-actions",children:[ie.jsx("button",{onClick:()=>g(D),children:"Edit"}),ie.jsx("button",{onClick:()=>T(D.id),className:"delete-btn",children:"Delete"})]})]},D.id))})]})},SC=BS([{path:"/",Component:aA,children:[{index:!0,Component:hC},{path:"shop",Component:dC},{path:"cart",Component:pC},{path:"login",Component:vC},{path:"admin",Component:wC},{path:"footer",Component:E0}]}]);GT.createRoot(document.getElementById("root")).render(ie.jsx(ne.StrictMode,{children:ie.jsx(mS,{router:SC})}));
